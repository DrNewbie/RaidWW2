-- Decompilation Error: _run_step(_unwarp_expressions, node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- Decompilation Error: _glue_flows(node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.

-- Decompilation error in this vicinity:
--- BLOCK #0 1-3, warpins: 1 ---
slot0 = CoreMaterialEditor or class()
CoreMaterialEditor = slot0
function CoreMaterialEditor:live_update_parameter(name, param_type, param_ui_type, value)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot7 = self._selected_unit

	if alive(slot6) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-14, warpins: 1 ---
		slot8 = {
			_name = name,
			_param_type = param_type,
			_param_ui_type = param_ui_type,
			_value = value
		}

		table.insert(slot6, self._live_update_parameter_list)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 15-15, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function CoreMaterialEditor:_get_node(node, name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot5 = node

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-12, warpins: 0 ---
	for n in node.children(slot4) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-9, warpins: 1 ---
		slot9 = n

		if n.name(slot8) == name then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 10-10, warpins: 1 ---
			return n
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 11-12, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 13-13, warpins: 1 ---
	return 
	--- END OF BLOCK #2 ---



end
function CoreMaterialEditor:_get_all_nodes(node, name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	local t = {}
	slot6 = node

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-17, warpins: 0 ---
	for n in node.children(slot5) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-10, warpins: 1 ---
		slot10 = n

		if n.name(slot9) == name then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 11-15, warpins: 1 ---
			slot11 = n

			table.insert(slot9, t)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 16-17, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 18-18, warpins: 1 ---
	return t
	--- END OF BLOCK #2 ---



end
function CoreMaterialEditor:_find_node(node, name, key, value)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot7 = node

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-20, warpins: 0 ---
	for n in node.children(slot6) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-10, warpins: 1 ---
		slot12 = key

		if n.parameter(slot10, n) == value then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 11-12, warpins: 1 ---
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 19-20, warpins: 4 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 21-21, warpins: 1 ---
	return 
	--- END OF BLOCK #2 ---



end
function CoreMaterialEditor:_find_all_nodes(node, name, key, value)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	local t = {}
	slot8 = node

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-25, warpins: 0 ---
	for n in node.children(slot7) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-11, warpins: 1 ---
		slot13 = key

		if n.parameter(slot11, n) == value then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 12-13, warpins: 1 ---
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 24-25, warpins: 4 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 26-26, warpins: 1 ---
	return t
	--- END OF BLOCK #2 ---



end
function CoreMaterialEditor:_read_config()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-16, warpins: 1 ---
	self._global_material_config_name = self.PROJECT_GLOBAL_GONFIG_NAME
	slot6 = managers.database
	slot4 = managers.database.base_path(slot5) .. self._global_material_config_name

	if not managers.database.has(slot2, managers.database) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 17-32, warpins: 1 ---
		self._global_material_config_name = self.CORE_GLOBAL_GONFIG_NAME
		slot6 = managers.database
		slot4 = managers.database.base_path(slot5) .. self._global_material_config_name

		if not managers.database.has(slot2, managers.database) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 33-35, warpins: 1 ---
			slot3 = "Could not find the global material config file!"

			error(slot2)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 36-49, warpins: 3 ---
	slot6 = managers.database
	slot4 = managers.database.base_path(slot5) .. self.SETTINGS_FILE
	local settings = managers.database.load_node(slot2, managers.database)

	if settings then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 50-53, warpins: 1 ---
		slot4 = settings

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 54-71, warpins: 0 ---
		for setting in settings.children(slot3) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 54-58, warpins: 1 ---
			slot8 = setting

			if setting.name(slot7) == "remote" then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 59-64, warpins: 1 ---
				slot9 = "host"

				if setting.parameter(slot7, setting) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 65-69, warpins: 1 ---
					slot9 = "host"
					self._remote_host = setting.parameter(slot7, setting)
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 70-71, warpins: 4 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 72-72, warpins: 2 ---
	return 
	--- END OF BLOCK #2 ---



end
function CoreMaterialEditor:_write_config()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-18, warpins: 1 ---
	slot8 = managers.database
	slot7 = "w"
	local file = assert(SystemFS.open(slot4, SystemFS, managers.database.base_path("w") .. self.SETTINGS_FILE))
	local str = "<material_editor>\n"

	if self._remote_host then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 19-25, warpins: 1 ---
		slot7 = self._remote_host
		str = string.format(slot4, "%s\t<remote host=\"%s\"/>\n", str)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 26-37, warpins: 2 ---
	slot5 = file
	slot9 = str

	file.write(slot4, string.format(slot7, "%s</material_editor>"))

	slot5 = file

	file.close(slot4)

	return 
	--- END OF BLOCK #1 ---



end
function CoreMaterialEditor:_freeze_frame()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = self._main_frame

	self._main_frame.freeze(slot2)

	return 
	--- END OF BLOCK #0 ---



end
function CoreMaterialEditor:_unfreeze_frame()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-13, warpins: 1 ---
	slot3 = self._main_frame

	self._main_frame.layout(slot2)

	slot3 = self._main_frame

	self._main_frame.thaw(slot2)

	slot3 = self._main_frame

	self._main_frame.refresh(slot2)

	return 
	--- END OF BLOCK #0 ---



end
function CoreMaterialEditor:_freeze_output()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	self._lock_output = true

	return 
	--- END OF BLOCK #0 ---



end
function CoreMaterialEditor:_unfreeze_output()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	self._lock_output = nil

	return 
	--- END OF BLOCK #0 ---



end
function CoreMaterialEditor:_remot_compile()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	local defines = nil
	slot4 = self._shader_defines

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-19, warpins: 0 ---
	for k, v in pairs(slot3) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-8, warpins: 1 ---
		if v._checked and (not defines or not (defines .. " " .. k)) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 17-17, warpins: 2 ---
			defines = k
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 18-19, warpins: 4 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 20-45, warpins: 1 ---
	slot7 = managers.database
	slot10 = self._compilable_shader_combo_box
	slot9 = defines
	local cmd = string.format(slot3, "start /D \"%score\\utils\\shader_server\" lua5.1.exe client.lua %s %s %s %s", managers.database.base_path(slot6), self._remote_host, Application.short_game_name(slot8), self._compilable_shader_combo_box.get_value(Application))
	slot3 = assert
	slot7 = cmd

	if os.execute(self._remote_host) ~= 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 46-47, warpins: 1 ---
		slot5 = false
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 48-48, warpins: 1 ---
		slot5 = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 49-50, warpins: 2 ---
	slot3(slot4)

	return 
	--- END OF BLOCK #3 ---



end
function CoreMaterialEditor:_create_make_file(rebuild)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-26, warpins: 1 ---
	slot4 = self
	local make_params, temp_params = self._get_make_params(slot3)
	slot9 = managers.database
	slot8 = "w"
	local file = SystemFS.open(slot5, SystemFS, managers.database.base_path("w") .. self.TEMP_PATH .. "make.xml")
	slot8 = "<make>\n"

	file.write(SystemFS, file)

	slot8 = "\t<silent_fail/>\n"

	file.write(SystemFS, file)

	if rebuild then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 27-31, warpins: 1 ---
		slot8 = "\t<rebuild/>\n"

		file.write(slot6, file)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 32-46, warpins: 1 ---
		slot11 = self._compilable_shader_combo_box
		slot8 = "\t<compile shader=\"" .. self._compilable_shader_combo_box.get_value(slot10) .. "\" defines=\""

		file.write(slot6, file)

		local defines = nil
		slot8 = self._shader_defines

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 47-59, warpins: 0 ---
		for k, v in pairs(file) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 47-49, warpins: 1 ---
			if v._checked then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 50-51, warpins: 1 ---
				if not defines then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 52-53, warpins: 1 ---
					defines = k
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 54-57, warpins: 1 ---
					defines = defines .. " " .. k
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 58-59, warpins: 4 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 60-63, warpins: 1 ---
		slot8 = file
		slot6 = file.write

		if not defines then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 64-64, warpins: 1 ---
			slot9 = ""
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 65-67, warpins: 2 ---
		slot9 = slot9 .. "\"/>\n"

		slot6(slot7, slot8)
		--- END OF BLOCK #3 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 68-75, warpins: 2 ---
	slot8 = "\t<file_io\n"

	file.write(slot6, file)

	slot7 = make_params

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 76-91, warpins: 0 ---
	for k, v in pairs(slot6) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 76-89, warpins: 1 ---
		slot20 = "\\"
		slot13 = "\t\t" .. k .. "=\"" .. string.gsub(slot17, v, "/") .. "\"\n"

		file.write(slot11, file)
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 90-91, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 92-101, warpins: 1 ---
	slot8 = "\t/>\n</make>\n"

	file.write(slot6, file)

	slot7 = file

	file.close(slot6)

	return make_params, temp_params
	--- END OF BLOCK #3 ---



end
function CoreMaterialEditor:_run_compiler()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-71, warpins: 1 ---
	slot6 = managers.database
	slot5 = true
	slot8 = managers.database
	slot7 = false
	slot10 = managers.database
	slot9 = false
	local cmd = Application.nice_path(slot2, Application, managers.database.root_path(slot5) .. "aux_assets\\engine\\bin\\shaderdev\\") .. "shaderdev -m \"" .. Application.nice_path(managers.database.root_path(slot5) .. "aux_assets\\engine\\bin\\shaderdev\\", Application, managers.database.base_path(false) .. self.TEMP_PATH .. "make.xml") .. "\" > \"" .. Application.nice_path(managers.database.base_path(false) .. self.TEMP_PATH .. "make.xml", Application, managers.database.base_path(slot9) .. self.TEMP_PATH .. "compile_log.txt") .. "\""
	local ret = os.execute(Application.nice_path(managers.database.root_path(slot5) .. "aux_assets\\engine\\bin\\shaderdev\\", Application, managers.database.base_path(false) .. self.TEMP_PATH .. "make.xml"))
	slot8 = managers.database
	slot7 = "r"
	local file = SystemFS.open(cmd, SystemFS, managers.database.base_path(Application) .. self.TEMP_PATH .. "compile_log.txt")
	local log = file.read(SystemFS)
	slot7 = file

	file.close(file)

	slot5 = CoreEWS.show_log
	slot7 = self._main_frame
	slot8 = log

	if ret == 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 72-73, warpins: 1 ---
		slot9 = "Shader compiled OK!"
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 74-74, warpins: 1 ---
		slot9 = "Shader ERROR!"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 75-77, warpins: 2 ---
	slot5(slot6, slot7, slot8)

	if ret ~= 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 78-79, warpins: 1 ---
		slot5 = false
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 80-80, warpins: 1 ---
		slot5 = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 81-81, warpins: 2 ---
	return slot5
	--- END OF BLOCK #2 ---



end
function CoreMaterialEditor:_get_make_params()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-155, warpins: 1 ---
	slot4 = self._compilable_shader_combo_box
	local shader = self._compilable_shaders[self._compilable_shader_combo_box.get_value(slot3)]
	slot4 = managers.database
	local srcpath = managers.database.base_path(slot3) .. self.SHADER_PATH .. managers.database.entry_name(slot5, managers.database)
	slot5 = managers.database
	local tmppath = managers.database.base_path(managers.database.entry_name(slot5, managers.database)) .. self.TEMP_PATH
	local make_params = {}
	local temp_params = {}
	slot8 = managers.database
	make_params.source = managers.database.base_path(shader._entry) .. shader._entry .. ".shader_source"
	make_params.working_directory = tmppath
	make_params.render_templates = srcpath .. ".render_template_database"
	slot10 = shader._entry
	make_params.win32d3d9 = tmppath .. managers.database.entry_name(".shader_source", managers.database) .. ".d3d9.win32.shaders"
	slot10 = shader._entry
	make_params.win32d3d10 = tmppath .. managers.database.entry_name(".d3d9.win32.shaders", managers.database) .. ".d3d10.win32.shaders"
	slot10 = shader._entry
	make_params.ps3 = tmppath .. managers.database.entry_name(".d3d10.win32.shaders", managers.database) .. ".ps3.shaders"
	slot10 = shader._entry
	make_params.x360d3d9 = tmppath .. managers.database.entry_name(".ps3.shaders", managers.database) .. ".x360.shaders"
	slot10 = shader._entry
	make_params.lrb = tmppath .. managers.database.entry_name(".x360.shaders", managers.database) .. ".lrb.shaders"
	slot10 = shader._entry
	temp_params.render_templates = tmppath .. managers.database.entry_name(".lrb.shaders", managers.database) .. ".render_template_database"
	slot10 = shader._entry
	temp_params.win32d3d9 = tmppath .. managers.database.entry_name(".render_template_database", managers.database) .. ".d3d9.win32.shaders"
	slot10 = shader._entry
	temp_params.win32d3d10 = tmppath .. managers.database.entry_name(".d3d9.win32.shaders", managers.database) .. ".d3d10.win32.shaders"
	slot10 = shader._entry
	temp_params.ps3 = tmppath .. managers.database.entry_name(".d3d10.win32.shaders", managers.database) .. ".ps3.shaders"
	slot10 = shader._entry
	temp_params.x360d3d9 = tmppath .. managers.database.entry_name(".ps3.shaders", managers.database) .. ".x360.shaders"
	slot10 = shader._entry
	temp_params.lrb = tmppath .. managers.database.entry_name(".x360.shaders", managers.database) .. ".lrb.shaders"

	return make_params, temp_params
	--- END OF BLOCK #0 ---



end
function CoreMaterialEditor:_insert_libs_in_database(temp_params, make_params)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-20, warpins: 1 ---
	slot9 = make_params.render_templates
	slot5 = SystemFS.copy_file(slot6, SystemFS, temp_params.render_templates)
	slot10 = make_params.render_templates

	assert(slot4, string.format(SystemFS, "Could not copy %s -> %s", temp_params.render_templates))

	slot5 = managers.database

	managers.database.recompile(slot4)

	return 
	--- END OF BLOCK #0 ---



end
function CoreMaterialEditor:_copy_to_remote_client()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
function CoreMaterialEditor:_find_unit_material(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-14, warpins: 1 ---
	slot4 = unit
	local path = unit.material_config(slot3).s(slot3)
	slot7 = path

	if DB.has(unit.material_config(slot3), DB, "material_config") then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 15-20, warpins: 1 ---
		slot7 = path
		local node = DB.load_node(slot4, DB, "material_config")
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 21-22, warpins: 2 ---
	if node then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 23-31, warpins: 1 ---
		slot9 = path

		return node, managers.database.entry_expanded_path(slot6, managers.database, "material_config")
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 32-32, warpins: 2 ---
	return 
	--- END OF BLOCK #2 ---



end
function CoreMaterialEditor:_find_selected_unit()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	if managers.editor then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-11, warpins: 1 ---
		slot3 = managers.editor

		if managers.editor.selected_unit(slot2) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 12-19, warpins: 1 ---
			slot3 = managers.editor

			if managers.editor.selected_unit(slot2) ~= self._selected_unit then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 20-33, warpins: 1 ---
				slot3 = managers.editor
				self._selected_unit = managers.editor.selected_unit(slot2)
				self._live_update_parameter_list = {}
				slot4 = self._selected_unit
				local unit_material_node, unit_material_path = self._find_unit_material(slot2, self)

				if unit_material_node and (not self._material_config_path or unit_material_path ~= self._material_config_path) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 40-46, warpins: 2 ---
					slot6 = "version"

					if unit_material_node.parameter(slot4, unit_material_node) == self.MATERIAL_CONFIG_VERSION_TAG then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 47-63, warpins: 1 ---
						slot9 = "OK,CANCEL"
						slot14 = -1

						if EWS.message_box(slot4, EWS, self._main_frame, "Do you want to open: " .. unit_material_path, "Open", Vector3(slot11, -1, -1)) == "OK" then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 64-74, warpins: 1 ---
							slot5 = self

							self._save_current(slot4)

							slot6 = unit_material_path

							self._load_node(slot4, self)

							slot5 = self._start_dialog

							self._start_dialog.end_modal(slot4)
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 75-75, warpins: 8 ---
	return 
	--- END OF BLOCK #1 ---



end
function CoreMaterialEditor:_get_material()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-9, warpins: 1 ---
	slot4 = "all"
	local units_in_world = World.find_units_quick(slot2, World)
	slot4 = units_in_world

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 10-24, warpins: 0 ---
	for _, unit_in_world in ipairs(World) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-21, warpins: 1 ---
		slot9 = unit_in_world
		slot15 = "name"
		local material = unit_in_world.material(slot8, Idstring(self._current_material_node.parameter(slot13, self._current_material_node)))

		if material then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 22-22, warpins: 1 ---
			return material
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 23-24, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 25-25, warpins: 1 ---
	return 
	--- END OF BLOCK #2 ---



end
function CoreMaterialEditor:_create_rt_name(rt)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-9, warpins: 1 ---
	table.sort(slot3)

	local rt_str = "generic"
	slot5 = rt

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 10-15, warpins: 0 ---
	for _, option in ipairs(rt) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-13, warpins: 1 ---
		rt_str = rt_str .. ":" .. option
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 14-15, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 16-16, warpins: 1 ---
	return rt_str
	--- END OF BLOCK #2 ---



end
function CoreMaterialEditor:_try_convert_parameter(mat, child, rt)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot6 = child

	if child.name(slot5) == "diffuse_texture" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-11, warpins: 1 ---
		slot7 = "DIFFUSE_TEXTURE"

		table.insert(slot5, rt)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 12-16, warpins: 1 ---
		slot6 = child

		if child.name(slot5) == "bump_normal_texture" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 17-22, warpins: 1 ---
			slot7 = "NORMALMAP"

			table.insert(slot5, rt)
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 23-29, warpins: 1 ---
			slot6 = mat
			slot10 = child

			mat.remove_child_at(slot5, mat.index_of_child(slot8, mat))
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 30-30, warpins: 3 ---
	return 
	--- END OF BLOCK #1 ---



end
function CoreMaterialEditor:_version_error(mat)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-15, warpins: 1 ---
	slot8 = "YES_NO"
	slot13 = -1
	local res = EWS.message_box(slot3, EWS, self._main_frame, "This material is not of the expected version! Do you want to convert it?", "Version", Vector3(slot10, -1, -1))

	if res == "YES" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 16-29, warpins: 1 ---
		local rt = {}
		slot8 = self.MATERIAL_VERSION_TAG

		mat.set_parameter(slot5, mat, "version")

		slot7 = "src"

		mat.clear_parameter(slot5, mat)

		slot6 = mat

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 30-37, warpins: 0 ---
		for child in mat.children(slot5) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 30-35, warpins: 1 ---
			slot13 = rt

			self._try_convert_parameter(slot9, self, mat, child)
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 36-37, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 38-48, warpins: 1 ---
		slot7 = "render_template"
		slot11 = rt

		mat.set_parameter(slot5, mat, self._create_rt_name(slot9, self))

		return true
		--- END OF BLOCK #2 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 49-50, warpins: 1 ---
		return false
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 51-51, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function CoreMaterialEditor:_update_material(param)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot4 = self
	local material = self._get_material(slot3)

	if material then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-8, warpins: 1 ---
		if param._param_type == "texture" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 9-26, warpins: 1 ---
			local name_ids = Idstring(slot4)
			slot13 = name_ids
			slot11 = 0

			Application.set_material_texture(param._name, Application, material, name_ids, Idstring(slot10), material.texture_type(param._value, material))
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 27-29, warpins: 1 ---
			if param._param_type == "vector3" or param._param_type == "scalar" then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 33-35, warpins: 2 ---
				if param._name == "diffuse_color" then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 36-40, warpins: 1 ---
					slot6 = param._value

					material.set_diffuse_color(slot4, material)
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 41-43, warpins: 1 ---
					if param._param_ui_type == "intensity" then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 44-57, warpins: 1 ---
						slot6 = Idstring(slot7)
						slot9 = LightIntensityDB
						slot12 = param._value

						material.set_variable(slot4, material, LightIntensityDB.lookup(param._name, Idstring(slot11)))
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 58-64, warpins: 1 ---
						slot8 = param._name
						slot7 = param._value

						material.set_variable(slot4, material, Idstring(slot7))
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 65-65, warpins: 6 ---
	return 
	--- END OF BLOCK #1 ---



end
function CoreMaterialEditor:_live_update()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = self._selected_unit

	if alive(slot2) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-9, warpins: 1 ---
		slot3 = self._live_update_parameter_list

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 10-15, warpins: 0 ---
		for _, param in ipairs(slot2) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 10-13, warpins: 1 ---
			slot9 = param

			self._update_material(slot7, self)
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 14-15, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 16-17, warpins: 1 ---
		self._live_update_parameter_list = {}
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 18-18, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function CoreMaterialEditor:_check_valid_xml_on_save(node)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	local str = nil
	slot5 = node

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-27, warpins: 0 ---
	for mat in node.children(slot4) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-9, warpins: 1 ---
		slot9 = mat

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 10-25, warpins: 0 ---
		for var in mat.children(slot8) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 10-15, warpins: 1 ---
			slot14 = "file"

			if var.parameter(slot12, var) == "[NONE]" then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 16-17, warpins: 1 ---
				if not str then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 18-18, warpins: 1 ---
					slot11 = ""
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 19-23, warpins: 2 ---
				slot14 = var
				str = slot11 .. var.name(slot13) .. "\n"
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 24-25, warpins: 3 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 26-27, warpins: 2 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 28-29, warpins: 1 ---
	if str ~= nil then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 30-31, warpins: 1 ---
		slot3 = false
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 32-32, warpins: 1 ---
		slot3 = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 33-34, warpins: 2 ---
	return slot3, str
	--- END OF BLOCK #3 ---



end
function CoreMaterialEditor:_set_channels_default_texture(node)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot4 = node

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-23, warpins: 0 ---
	for mat in node.children(slot3) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-8, warpins: 1 ---
		slot8 = mat

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 9-21, warpins: 0 ---
		for var in mat.children(slot7) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 9-14, warpins: 1 ---
			slot13 = "file"

			if var.parameter(slot11, var) == "[NONE]" then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 15-19, warpins: 1 ---
				slot14 = self.DEFAULT_TEXTURE

				var.set_parameter(slot11, var, "file")
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 20-21, warpins: 3 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 22-23, warpins: 2 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 24-24, warpins: 1 ---
	return 
	--- END OF BLOCK #2 ---



end

return 

--- END OF BLOCK #0 ---

FLOW; TARGET BLOCK #2



-- Decompilation error in this vicinity:
--- BLOCK #1 4-5, warpins: 1 ---
slot0 = class()
--- END OF BLOCK #1 ---

FLOW; TARGET BLOCK #2



-- Decompilation error in this vicinity:
--- BLOCK #2 6-88, warpins: 2 ---
--- END OF BLOCK #2 ---



