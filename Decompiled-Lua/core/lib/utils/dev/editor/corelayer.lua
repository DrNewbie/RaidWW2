-- Decompilation Error: _run_step(_unwarp_expressions, node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- Decompilation Error: _glue_flows(node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
slot3 = "CoreLayer"

core.module(slot1, core)

slot3 = "CoreEngineAccess"

core.import(slot1, core)

slot3 = "CoreEditorSave"

core.import(slot1, core)

slot3 = "CoreEditorUtils"

core.import(slot1, core)

slot3 = "CoreEditorWidgets"

core.import(slot1, core)

slot3 = "CoreEvent"

core.import(slot1, core)

slot3 = "CoreClass"

core.import(slot1, core)

slot3 = "CoreCode"

core.import(slot1, core)

slot3 = "CoreInput"

core.import(slot1, core)

slot3 = "CoreTable"

core.import(slot1, core)

slot3 = "CoreUnit"

core.import(slot1, core)

Layer = Layer or CoreClass.class()
function Layer:init(owner, save_name)
	if not owner then
		slot6 = "Layer:init was called without parameters owner and save_name"

		Application.error(slot4, Application)
	end

	self._owner = owner or self._owner
	self._save_name = save_name
	self._confirmed_unit_types = {}
	self._unit_map = {}
	self._unit_types = {}
	self._created_units = {}
	self._created_units_pairs = {}
	self._selected_units = {}
	self._name_ids = {}
	self._notebook_units_lists = {}
	self._editor_data = self._owner._editor_data
	self._ctrl = self._editor_data.virtual_controller
	slot6 = self
	self._move_widget = CoreEditorWidgets.MoveWidget.new(slot4, CoreEditorWidgets.MoveWidget)
	slot6 = self
	self._rotate_widget = CoreEditorWidgets.RotationWidget.new(slot4, CoreEditorWidgets.RotationWidget)
	self._layer_enabled = true
	self._will_use_widgets = false
	self._using_widget = false
	self._ignore_global_select = false
	self._marker_sphere_size = 25
	self._uses_continents = false
	slot5 = self

	self._init_unit_highlighter(slot4)

	return 
end
function Layer:_init_unit_highlighter()
	slot3 = World
	slot3 = World.unit_manager(slot2)
	self._unit_highlighter = World.unit_manager(slot2).unit_highlighter(slot2)
	slot6 = "highlight_skinned"

	self._unit_highlighter.add_config(slot2, self._unit_highlighter, "highlight", "highlight")

	slot6 = "gfx_*"

	self._unit_highlighter.set_config_name_filter(slot2, self._unit_highlighter, "highlight", "g_*")

	self._highlighted_units = {}

	return 
end
function Layer:created_units()
	return self._created_units
end
function Layer:created_units_pairs()
	return self._created_units_pairs
end
function Layer:selected_units()
	return self._selected_units
end
function Layer:current_pos()
	return self._current_pos
end
function Layer:uses_continents()
	return self._uses_continents
end
function Layer:load(world_holder, offset)
	slot8 = offset
	local world_units = world_holder.create_world(slot4, world_holder, "world", self._save_name)

	if world_units then
		slot6 = world_units

		for _, unit in ipairs(slot5) do
			slot12 = unit

			self.add_unit_to_created_units(slot10, self)
		end
	end

	return world_units
end
function Layer:post_load()
	if not self._post_register_units then
		return 
	end

	slot3 = self._post_register_units

	for _, unit in ipairs(slot2) do
		local previous_id = unit.unit_data(slot7).unit_id
		slot11 = unit
		unit.unit_data(unit).unit_id = self._owner.get_unit_id(unit, self._owner)
		slot10 = unit
		slot10 = unit.name(unit)
		local msg = "A unit, " .. unit.name(unit).s(unit) .. " in layer " .. self._save_name .. ", had duplicate unit id. The unit id was changed from " .. previous_id .. " to " .. unit.unit_data(slot15).unit_id .. ".\n\nPlease verify that no references to the unit is broken."
		slot14 = "OK,ICON_ERROR"
		slot19 = 0

		EWS.message_box(" in layer ", EWS, Global.frame_panel, msg, self._save_name, Vector3(unit, -1, -1))

		slot11 = msg

		managers.editor.output(" in layer ", managers.editor)

		slot12 = true

		self.add_unit_to_created_units(" in layer ", self, unit)
	end

	self._post_register_units = nil

	return 
end
function Layer:add_unit_to_created_units(unit, skip_register)
	if not skip_register then
		slot6 = unit

		if not self._owner.register_unit_id(slot4, self._owner) then
			self._post_register_units = self._post_register_units or {}
			slot6 = unit

			table.insert(slot4, self._post_register_units)

			return 
		end
	end

	slot6 = unit

	self.set_up_name_id(slot4, self)

	slot6 = unit

	table.insert(slot4, self._created_units)

	slot6 = unit
	self._created_units_pairs[unit.unit_data(self._created_units).unit_id] = unit

	return 
end
function Layer:set_up_name_id(unit)
	slot4 = unit

	if unit.unit_data(slot3).name_id == "none" then
		slot6 = unit
		unit.unit_data(slot3).name_id = self.get_name_id(unit, self)
	else
		slot5 = unit

		self.insert_name_id(slot3, self)
	end

	return 
end
function Layer:insert_name_id(unit)
	slot4 = unit
	slot4 = unit.name(slot3)
	local name = unit.name(slot3).s(slot3)
	self._name_ids[name] = self._name_ids[name] or {}
	slot5 = unit
	local name_id = unit.unit_data(self._name_ids[name] or ).name_id
	self._name_ids[name][name_id] = (self._name_ids[name][name_id] or 0) + 1

	return 
end
function Layer:get_name_id(unit, name)
	slot5 = unit
	slot5 = unit.name(slot4)
	local u_name = unit.name(slot4).s(slot4)
	local start_number = 1

	if name then
		local sub_name = name
		slot8 = name

		for i = string.len(slot7), 0, -1 do
			slot13 = i
			slot16 = name
			local sub = string.sub(slot11, name, string.len(slot15))
			slot15 = i
			sub_name = string.sub(name, name, 0)
			slot13 = sub

			if tonumber(name) then
				slot13 = sub
				start_number = tonumber(slot12)
			else
				break
			end
		end

		name = sub_name
	else
		local reverse = string.reverse(slot6)
		slot9 = "/"
		local i = string.find(u_name, reverse)
		slot13 = i - 1
		name = string.reverse(string.sub(slot10, reverse, 0))
		name = name .. "_"
	end

	self._name_ids[u_name] = self._name_ids[u_name] or {}
	local t = self._name_ids[u_name]

	for i = start_number, 10000, 1 do
		i = ((i < 10 and "00") or (i < 100 and "0") or "") .. i
		local name_id = name .. i

		if not t[name_id] then
			t[name_id] = 1

			return name_id
		end
	end

	return 
end
function Layer:remove_name_id(unit)
	slot4 = unit
	slot4 = unit.name(slot3)
	local unit_name = unit.name(slot3).s(slot3)

	if self._name_ids[unit_name] then
		slot5 = unit
		local name_id = unit.unit_data(slot4).name_id
		self._name_ids[unit_name][name_id] = self._name_ids[unit_name][name_id] - 1

		if self._name_ids[unit_name][name_id] == 0 then
			self._name_ids[unit_name][name_id] = nil
		end
	end

	return 
end
function Layer:set_name_id(unit, name_id)
	slot5 = unit
	slot5 = unit.name(slot4)
	local unit_name = unit.name(slot4).s(slot4)

	if self._name_ids[unit_name] then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-25, warpins: 1 ---
		local old_name_id = unit.unit_data(slot5).name_id
		slot8 = unit

		self.remove_name_id(unit, self)

		slot5 = self._name_ids[unit_name]
		slot6 = self._name_ids[unit_name][name_id] or 0
		self._name_ids[unit_name][name_id] = (self._name_ids[unit_name][name_id] or 0) + 1
		slot7 = unit
		unit.unit_data((self._name_ids[unit_name][name_id] or 0) + 1).name_id = name_id
		slot8 = unit

		managers.editor.unit_name_changed((self._name_ids[unit_name][name_id] or 0) + 1, managers.editor)

		slot7 = unit
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #1 26-26, warpins: 1 ---
		slot6 = 0

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 27-43, warpins: 2 ---
		if unit.mission_element((self._name_ids[unit_name][name_id] or 0) + 1) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 44-49, warpins: 1 ---
			slot7 = unit

			if unit.mission_element(slot6).on_name_changed then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 50-57, warpins: 1 ---
				slot7 = unit
				slot9 = name_id

				unit.mission_element(slot6).on_name_changed(slot6, unit.mission_element(slot6), old_name_id)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #2 ---



	end

	return 
end
function Layer:widget_affect_object()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._selected_unit
	--- END OF BLOCK #0 ---



end
function Layer:use_widget_position(pos)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot5 = pos

	self.set_unit_positions(slot3, self)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:use_widget_rotation(rot)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-14, warpins: 1 ---
	slot7 = self
	slot7 = self.widget_affect_object(slot6)
	slot7 = self.widget_affect_object(slot6).rotation(slot6)
	slot5 = rot * self.widget_affect_object(slot6).rotation(slot6).inverse(slot6)

	self.set_unit_rotations(slot3, self)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:update(t, dt)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-16, warpins: 1 ---
	slot7 = dt

	self._update_widget_affect_object(slot4, self, t)

	slot7 = dt

	self._update_drag_select(slot4, self, t)

	slot7 = dt

	self._update_draw_unit_trigger_sequences(slot4, self, t)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:_update_widget_affect_object(t, dt)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	slot7 = self

	if alive(self.widget_affect_object(slot6)) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-22, warpins: 1 ---
		slot5 = managers.editor
		slot8 = self
		slot8 = self.widget_affect_object(slot7)
		local widget_pos = managers.editor.world_to_screen(slot4, self.widget_affect_object(slot7).position(slot7))

		if 100 < widget_pos.z then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 23-42, warpins: 1 ---
			slot7 = 0
			widget_pos = widget_pos.with_z(slot5, widget_pos)
			local widget_screen_pos = widget_pos
			slot9 = 1000
			widget_pos = managers.editor.screen_to_world(widget_pos, managers.editor, widget_pos)
			slot7 = self
			local widget_rot = self.widget_rot(widget_pos)

			if self._using_widget then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 43-48, warpins: 1 ---
				slot8 = self._move_widget

				if self._move_widget.enabled(slot7) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 49-62, warpins: 1 ---
					slot11 = self
					slot12 = widget_screen_pos
					local result_pos = self._move_widget.calculate(slot7, self._move_widget, self.widget_affect_object(slot10), widget_rot, widget_pos)
					slot10 = result_pos

					self.use_widget_position(self._move_widget, self)
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 63-68, warpins: 2 ---
				slot8 = self._rotate_widget

				if self._rotate_widget.enabled(slot7) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 69-82, warpins: 1 ---
					slot11 = self
					slot12 = widget_screen_pos
					local result_rot = self._rotate_widget.calculate(slot7, self._rotate_widget, self.widget_affect_object(slot10), widget_rot, widget_pos)
					slot10 = result_rot

					self.use_widget_rotation(self._rotate_widget, self)
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #1 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 83-88, warpins: 3 ---
			slot8 = self._move_widget

			if self._move_widget.enabled(slot7) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 89-104, warpins: 1 ---
				slot9 = widget_pos

				self._move_widget.set_position(slot7, self._move_widget)

				slot9 = widget_rot

				self._move_widget.set_rotation(slot7, self._move_widget)

				slot10 = dt

				self._move_widget.update(slot7, self._move_widget, t)
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 105-110, warpins: 2 ---
			slot8 = self._rotate_widget

			if self._rotate_widget.enabled(slot7) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 111-126, warpins: 1 ---
				slot9 = widget_pos

				self._rotate_widget.set_position(slot7, self._rotate_widget)

				slot9 = widget_rot

				self._rotate_widget.set_rotation(slot7, self._rotate_widget)

				slot10 = dt

				self._rotate_widget.update(slot7, self._rotate_widget, t)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #2 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 127-127, warpins: 4 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:_update_drag_select(t, dt)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if not self._drag_select then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-4, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-12, warpins: 2 ---
	slot5 = managers.editor
	local end_pos = managers.editor.cursor_pos(slot4)

	if self._polyline then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 13-43, warpins: 1 ---
		slot7 = self._drag_start_pos
		local p1 = managers.editor.screen_pos(slot5, managers.editor)
		slot8 = end_pos
		local p3 = managers.editor.screen_pos(managers.editor, managers.editor)
		slot10 = 0
		local p2 = Vector3(managers.editor, p3.x, p1.y)
		slot11 = 0
		local p4 = Vector3(p3.x, p1.x, p3.y)
		slot11 = {
			p1,
			p2,
			p3,
			p4
		}

		self._polyline.set_points(p1.x, self._polyline)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 44-51, warpins: 2 ---
	slot6 = self._drag_start_pos - end_pos
	local len = self._drag_start_pos - end_pos.length(slot5)

	if 0.05 < len then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 52-57, warpins: 1 ---
		local top_left = self._drag_start_pos
		local bottom_right = end_pos

		if (bottom_right.y < top_left.y and top_left.x < bottom_right.x) or (top_left.y < bottom_right.y and bottom_right.x < top_left.x) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 70-83, warpins: 2 ---
			slot11 = 0
			top_left = Vector3(slot8, self._drag_start_pos.x, end_pos.y)
			slot11 = 0
			bottom_right = Vector3(slot8, end_pos.x, self._drag_start_pos.y)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 84-111, warpins: 3 ---
		slot13 = managers.editor
		slot15 = self._slot_mask
		local units = World.find_units(slot8, World, "camera_frustum", managers.editor.camera(slot12), top_left, bottom_right, 500000)
		self._drag_units = {}
		local r = 1
		local g = 1
		local b = 1
		slot13 = Draw
		local brush = Draw.brush(top_left)

		if CoreInput.alt() then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 112-116, warpins: 1 ---
			b = 0
			g = 0
			r = 1
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 117-121, warpins: 2 ---
		if CoreInput.ctrl() then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 122-126, warpins: 1 ---
			b = 0
			g = 1
			r = 0
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 127-139, warpins: 2 ---
		slot14 = brush
		slot20 = 0.5 * b

		brush.set_color(slot13, Color(slot16, 0.15, 0.5 * r, 0.5 * g))

		slot14 = units

		--- END OF BLOCK #3 ---

		FLOW; TARGET BLOCK #4



		-- Decompilation error in this vicinity:
		--- BLOCK #4 140-173, warpins: 0 ---
		for _, unit in ipairs(slot13) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 140-145, warpins: 1 ---
			slot20 = unit

			if self.authorised_unit_type(slot18, self) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 146-154, warpins: 1 ---
				slot21 = self

				if managers.editor.select_unit_ok_conditions(slot18, managers.editor, unit) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 155-171, warpins: 1 ---
					slot20 = unit

					table.insert(slot18, self._drag_units)

					slot20 = unit

					brush.draw(slot18, brush)

					slot23 = b * 0.75

					Application.draw(slot18, Application, unit, r * 0.75, g * 0.75)
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 172-173, warpins: 4 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #4 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 174-174, warpins: 2 ---
	return 
	--- END OF BLOCK #3 ---



end
function Layer:_update_draw_unit_trigger_sequences(t, dt)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot5 = self._selected_unit

	if alive(slot4) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-11, warpins: 1 ---
		slot5 = self._selected_unit

		if self._selected_unit.damage(slot4) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 12-17, warpins: 1 ---
			slot5 = self._selected_unit

			if not self._selected_unit.mission_element(slot4) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 18-26, warpins: 1 ---
				slot5 = self._selected_unit
				slot5 = self._selected_unit.damage(slot4)
				local trigger_name_list = self._selected_unit.damage(slot4).get_trigger_name_list(slot4)

				if trigger_name_list then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 27-30, warpins: 1 ---
					slot6 = trigger_name_list

					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 31-92, warpins: 0 ---
					for _, trigger_name in ipairs(slot5) do

						-- Decompilation error in this vicinity:
						--- BLOCK #0 31-40, warpins: 1 ---
						slot11 = self._selected_unit
						slot12 = trigger_name
						local trigger_data = self._selected_unit.damage(slot10).get_trigger_data_list(slot10, self._selected_unit.damage(slot10))

						if trigger_data and 0 < #trigger_data then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 45-48, warpins: 1 ---
							slot12 = trigger_data

							--- END OF BLOCK #0 ---

							FLOW; TARGET BLOCK #1



							-- Decompilation error in this vicinity:
							--- BLOCK #1 49-90, warpins: 0 ---
							for _, data in ipairs(slot11) do

								-- Decompilation error in this vicinity:
								--- BLOCK #0 49-53, warpins: 1 ---
								slot17 = data.notify_unit

								if alive(slot16) then

									-- Decompilation error in this vicinity:
									--- BLOCK #0 54-88, warpins: 1 ---
									slot21 = data.notify_unit
									slot22 = 1

									Application.draw_line(slot16, Application, self._selected_unit.position(slot19), data.notify_unit.position(self._selected_unit), 0, 1)

									slot20 = data.notify_unit
									slot22 = 1

									Application.draw_sphere(slot16, Application, data.notify_unit.position(data.notify_unit.position(self._selected_unit)), 50, 0, 1)

									slot21 = 1

									Application.draw(slot16, Application, data.notify_unit, 0, 1)
									--- END OF BLOCK #0 ---



								end
								--- END OF BLOCK #0 ---

								FLOW; TARGET BLOCK #1



								-- Decompilation error in this vicinity:
								--- BLOCK #1 89-90, warpins: 3 ---
								--- END OF BLOCK #1 ---



							end
							--- END OF BLOCK #1 ---



						end
						--- END OF BLOCK #0 ---

						FLOW; TARGET BLOCK #1



						-- Decompilation error in this vicinity:
						--- BLOCK #1 91-92, warpins: 4 ---
						--- END OF BLOCK #1 ---



					end
					--- END OF BLOCK #1 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 93-93, warpins: 5 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:authorised_unit_type(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	slot4 = unit
	slot4 = unit.name(slot3)
	local name = unit.name(slot3).s(slot3)

	if self._confirmed_unit_types[name] ~= nil then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-13, warpins: 1 ---
		return self._confirmed_unit_types[name]
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 14-23, warpins: 2 ---
	slot5 = unit
	local u_type = unit.type(slot4).s(slot4)
	slot6 = self._unit_types

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 24-32, warpins: 0 ---
	for _, type in ipairs(unit.type(slot4)) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 24-25, warpins: 1 ---
		if u_type == type then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 26-30, warpins: 1 ---
			self._confirmed_unit_types[name] = true

			return true
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 31-32, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 33-37, warpins: 1 ---
	self._confirmed_unit_types[name] = false

	return false
	--- END OF BLOCK #3 ---



end
function Layer:draw_grid(t, dt)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	slot5 = managers.editor

	if not managers.editor.layer_draw_grid(slot4) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-8, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 9-18, warpins: 2 ---
	slot7 = 0
	local rot = Rotation(slot4, 0, 0)
	slot6 = self._selected_unit

	if alive(0) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 19-23, warpins: 1 ---
		slot6 = self

		if self.local_rot(slot5) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 24-28, warpins: 1 ---
			slot6 = self._selected_unit
			rot = self._selected_unit.rotation(slot5)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 29-32, warpins: 3 ---
	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 33-127, warpins: 0 ---
	for i = -5, 5, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 33-127, warpins: 2 ---
		slot12 = self
		slot12 = self
		local from_x = (self._current_pos + rot.x(slot10) * i * self.grid_size(rot)) - rot.y(i * self.grid_size(rot)) * 6 * self.grid_size(rot)
		slot13 = self
		slot13 = self
		local to_x = self._current_pos + rot.x(rot) * i * self.grid_size(rot) + rot.y(i * self.grid_size(rot)) * 6 * self.grid_size(rot)
		slot17 = 0

		Application.draw_line(6 * self.grid_size(rot), Application, from_x, to_x, 0, 0.5)

		slot14 = self
		slot14 = self
		local from_y = (self._current_pos + rot.y(Application) * i * self.grid_size(rot)) - rot.x(i * self.grid_size(rot)) * 6 * self.grid_size(rot)
		slot15 = self
		slot15 = self
		local to_y = self._current_pos + rot.y(rot) * i * self.grid_size(rot) + rot.x(i * self.grid_size(rot)) * 6 * self.grid_size(rot)
		slot19 = 0

		Application.draw_line(6 * self.grid_size(rot), Application, from_y, to_y, 0, 0.5)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 128-128, warpins: 1 ---
	return 
	--- END OF BLOCK #4 ---



end
function Layer:update_always(t, dt)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if not self._layer_enabled then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-7, warpins: 1 ---
		slot5 = self._created_units

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 8-17, warpins: 0 ---
		for _, unit in ipairs(slot4) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 8-15, warpins: 1 ---
			slot14 = 0.75

			Application.draw(slot9, Application, unit, 0.75, 0.75)
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 16-17, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 18-18, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:local_rot()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	slot4 = "Local"

	return managers.editor.is_coordinate_system(slot2, managers.editor)
	--- END OF BLOCK #0 ---



end
function Layer:surface_move()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = managers.editor

	return managers.editor.use_surface_move(slot2)
	--- END OF BLOCK #0 ---



end
function Layer:use_snappoints()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = managers.editor

	return managers.editor.use_snappoints(slot2)
	--- END OF BLOCK #0 ---



end
function Layer:grid_size()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = managers.editor

	return managers.editor.grid_size(slot2)
	--- END OF BLOCK #0 ---



end
function Layer:snap_rotation()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = managers.editor

	return managers.editor.snap_rotation(slot2)
	--- END OF BLOCK #0 ---



end
function Layer:snap_rotation_axis()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = managers.editor

	return managers.editor.snap_rotation_axis(slot2)
	--- END OF BLOCK #0 ---



end
function Layer:rotation_speed()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = managers.editor

	return managers.editor.rotation_speed(slot2)
	--- END OF BLOCK #0 ---



end
function Layer:grid_altitude()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = managers.editor

	return managers.editor.grid_altitude(slot2)
	--- END OF BLOCK #0 ---



end
function Layer:build_units(params)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if not params then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-3, warpins: 1 ---
		params = {}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 4-6, warpins: 2 ---
	if not params.style then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-7, warpins: 1 ---
		local style = "LC_REPORT,LC_NO_HEADER,LC_SORT_ASCENDING,LC_SINGLE_SEL"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 8-10, warpins: 2 ---
	if not params.unit_events then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-11, warpins: 1 ---
		local unit_events = {}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 12-26, warpins: 2 ---
	slot7 = "VERTICAL"
	local notebook_sizer = EWS.BoxSizer(slot5, EWS)
	slot10 = "NB_TOP,NB_MULTILINE"
	self._notebook = EWS.Notebook(EWS, EWS, self._ews_panel, "")

	if params and params.units_notebook_min_size then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 30-34, warpins: 1 ---
		slot8 = params.units_notebook_min_size

		self._notebook.set_min_size(slot6, self._notebook)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 35-48, warpins: 3 ---
	slot11 = "EXPAND"

	notebook_sizer.add(slot6, notebook_sizer, self._notebook, 1, 0)

	slot9 = self._category_map

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 49-231, warpins: 0 ---
	for _, c in ipairs(table.map_keys(self._notebook)) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 49-132, warpins: 1 ---
		local names = self._category_map[c]
		slot16 = "TAB_TRAVERSAL"
		local panel = EWS.Panel(slot12, EWS, self._notebook, "")
		slot15 = "VERTICAL"
		local units_sizer = EWS.BoxSizer(EWS, EWS)
		slot16 = units_sizer

		panel.set_sizer(EWS, panel)

		slot19 = "ALIGN_LEFT"
		local short_name = EWS.CheckBox(EWS, EWS, panel, "Short name", "")
		slot17 = true

		short_name.set_value(EWS, short_name)

		slot20 = "EXPAND"

		units_sizer.add(EWS, units_sizer, short_name, 0, 0)

		slot23 = ""
		slot20 = "ALIGN_CENTER_HORIZONTAL"

		units_sizer.add(EWS, units_sizer, EWS.StaticText(0, EWS, panel, "Filter", 0), 0, 0)

		slot20 = "TE_CENTRE"
		local unit_filter = EWS.TextCtrl(EWS, EWS, panel, "", "")
		slot21 = "EXPAND"

		units_sizer.add(EWS, units_sizer, unit_filter, 0, 0)

		slot20 = style
		local units = EWS.ListCtrl(EWS, EWS, panel, "")
		slot18 = units

		units.clear_all(EWS)

		slot19 = "Name"

		units.append_column(EWS, units)

		slot18 = names

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 133-146, warpins: 0 ---
		for name, _ in pairs(EWS) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 133-144, warpins: 1 ---
			slot27 = name
			local i = units.append_item(slot22, self._stripped_unit_name(slot25, self))
			slot26 = name

			units.set_item_data(units, units, i)
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 145-146, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 147-185, warpins: 1 ---
		slot19 = 0

		units.autosize_column(slot17, units)

		slot22 = "EXPAND"

		units_sizer.add(slot17, units_sizer, units, 1, 0)

		slot24 = "toggle_short_name"

		short_name.connect(slot17, short_name, "EVT_COMMAND_CHECKBOX_CLICKED", callback(0, self, self))

		slot24 = "set_unit_name"
		slot21 = units

		units.connect(slot17, units, "EVT_COMMAND_LIST_ITEM_SELECTED", callback({
			filter = unit_filter,
			units = units,
			category = c,
			short_name = short_name
		}, self, self))

		slot18 = unit_events

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 186-197, warpins: 0 ---
		for _, event in ipairs(slot17) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 186-195, warpins: 1 ---
			slot29 = "set_unit_name"

			units.connect(slot22, units, event, callback(units, self, self))
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 196-197, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #3 ---

		FLOW; TARGET BLOCK #4



		-- Decompilation error in this vicinity:
		--- BLOCK #4 198-229, warpins: 1 ---
		slot24 = "update_filter"

		unit_filter.connect(slot17, unit_filter, "EVT_COMMAND_TEXT_UPDATED", callback({
			filter = unit_filter,
			units = units,
			category = c,
			short_name = short_name
		}, self, self))

		slot19 = c
		local page_name = managers.editor.category_name(slot17, managers.editor)
		self._notebook_units_lists[page_name] = {
			units = units,
			filter = unit_filter
		}
		slot22 = true

		self._notebook.add_page(, self._notebook, panel, page_name)
		--- END OF BLOCK #4 ---

		FLOW; TARGET BLOCK #5



		-- Decompilation error in this vicinity:
		--- BLOCK #5 230-231, warpins: 2 ---
		--- END OF BLOCK #5 ---



	end

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 232-232, warpins: 1 ---
	return notebook_sizer
	--- END OF BLOCK #6 ---



end
function Layer:_stripped_unit_name(name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-20, warpins: 1 ---
	local reverse = string.reverse(slot3)
	slot6 = "/"
	local i = string.find(name, reverse)
	slot10 = i - 1
	name = string.reverse(string.sub(slot7, reverse, 0))

	return name
	--- END OF BLOCK #0 ---



end
function Layer:repopulate_units()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	slot3 = self

	self.load_unit_map_from_vector(slot2)

	slot3 = self._category_map

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-32, warpins: 0 ---
	for c, names in pairs(slot2) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-23, warpins: 1 ---
		slot10 = c
		local data = self._notebook_units_lists[managers.editor.category_name(slot8, managers.editor)]
		slot9 = data.units

		data.units.clear(slot8)

		slot9 = names

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 24-30, warpins: 0 ---
		for name, _ in pairs(slot8) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 24-28, warpins: 1 ---
			slot15 = name

			data.units.append(slot13, data.units)
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 29-30, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 31-32, warpins: 2 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 33-33, warpins: 1 ---
	return 
	--- END OF BLOCK #2 ---



end
function Layer:units_notebook()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._notebook
	--- END OF BLOCK #0 ---



end
function Layer:notebook_unit_list(name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	return self._notebook_units_lists[name]
	--- END OF BLOCK #0 ---



end
function Layer:toggle_short_name(data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot5 = data

	self.update_filter(slot3, self)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:update_filter(data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-12, warpins: 1 ---
	local filter = data.filter.get_value(slot3)
	slot5 = data.units

	data.units.delete_all_items(data.filter)

	local unit_map = self._unit_map

	if data.category then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 13-15, warpins: 1 ---
		unit_map = self._category_map[data.category]
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 16-19, warpins: 2 ---
	slot6 = unit_map

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 20-54, warpins: 0 ---
	for name, _ in pairs(slot5) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 20-25, warpins: 1 ---
		slot11 = data.short_name
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 33-41, warpins: 2 ---
		slot15 = true

		if string.find(slot11, stripped_name, filter, 1) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 42-52, warpins: 1 ---
			slot13 = stripped_name
			local i = data.units.append_item(slot11, data.units)
			slot15 = name

			data.units.set_item_data(data.units, data.units, i)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 53-54, warpins: 3 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 55-60, warpins: 1 ---
	slot7 = 0

	data.units.autosize_column(slot5, data.units)

	return 
	--- END OF BLOCK #3 ---



end
function Layer:build_name_id()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-55, warpins: 1 ---
	slot4 = "HORIZONTAL"
	local sizer = EWS.BoxSizer(slot2, EWS)
	slot11 = ""
	slot8 = "ALIGN_CENTER,RIGHT"

	sizer.add(EWS, sizer, EWS.StaticText(slot6, EWS, self._ews_panel, "Name:", 0), 0, 2)

	slot8 = "TE_CENTRE"
	self._name_id = EWS.TextCtrl(EWS, EWS, self._ews_panel, "none", "")
	slot8 = "EXPAND"

	sizer.add(EWS, sizer, self._name_id, 1, 0)

	slot10 = "update_name_id"
	slot7 = self._name_id

	self._name_id.connect(EWS, self._name_id, "EVT_COMMAND_TEXT_UPDATED", callback(0, self, self))

	slot8 = "EXPAND,TOP"

	self._sizer.add(EWS, self._sizer, sizer, 0, 4)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:update_name_id(name_id)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._block_name_id_event then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-6, warpins: 1 ---
		self._block_name_id_event = false

		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 7-11, warpins: 2 ---
	slot4 = self._selected_unit

	if alive(slot3) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 12-18, warpins: 1 ---
		slot5 = self._selected_unit
		slot8 = name_id

		self.set_name_id(slot3, self, name_id.get_value(slot7))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 19-19, warpins: 2 ---
	return 
	--- END OF BLOCK #2 ---



end
function Layer:cb_toogle(data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	slot5 = data.cb
	self[data.value] = data.cb.get_value(slot4)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:cb_toogle_trg(data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-16, warpins: 1 ---
	slot7 = data.cb
	slot5 = not data.cb.get_value(slot6)

	data.cb.set_value(slot3, data.cb)

	slot5 = data.cb
	self[data.value] = data.cb.get_value(data.cb)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:change_combo_box(data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-9, warpins: 1 ---
	slot7 = data.combobox
	self[data.value] = tonumber(data.combobox.get_value(slot6))

	return 
	--- END OF BLOCK #0 ---



end
function Layer:change_combo_box_trg(data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	local next_i = nil

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-49, warpins: 0 ---
	for i = 1, #self[data.t], 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-14, warpins: 2 ---
		if self[data.value] == self[data.t][i] then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 15-19, warpins: 1 ---
			slot9 = self

			if self.ctrl(slot8) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 20-21, warpins: 1 ---
				if i == 1 then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 22-25, warpins: 1 ---
					next_i = #self[data.t]
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 26-27, warpins: 1 ---
					next_i = 1
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 28-32, warpins: 1 ---
				slot9 = self

				if self.shift(slot8) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 33-34, warpins: 1 ---
					if i == 1 then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 35-38, warpins: 1 ---
						next_i = #self[data.t]
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 39-40, warpins: 1 ---
						next_i = i - 1
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 41-45, warpins: 1 ---
					if i == #self[data.t] then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 46-47, warpins: 1 ---
						next_i = 1
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 48-48, warpins: 1 ---
						next_i = i + 1
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 49-49, warpins: 7 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 50-65, warpins: 1 ---
	slot6 = self[data.t][next_i]

	data.combobox.set_value(slot4, data.combobox)

	slot8 = data.combobox
	self[data.value] = tonumber(data.combobox.get_value(slot7))

	return 
	--- END OF BLOCK #2 ---



end
function Layer:use_move_widget(value)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._will_use_widgets then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-26, warpins: 1 ---
		slot5 = value

		self._move_widget.set_use(slot3, self._move_widget)

		slot4 = self._move_widget
		slot9 = self

		self._move_widget.set_enabled(slot3, alive(self.widget_affect_object(slot8)))

		slot4 = self._rotate_widget
		slot9 = self

		self._rotate_widget.set_enabled(slot3, alive(self.widget_affect_object(slot8)))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 27-27, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:use_rotate_widget(value)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._will_use_widgets then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-26, warpins: 1 ---
		slot5 = value

		self._rotate_widget.set_use(slot3, self._rotate_widget)

		slot4 = self._move_widget
		slot9 = self

		self._move_widget.set_enabled(slot3, alive(self.widget_affect_object(slot8)))

		slot4 = self._rotate_widget
		slot9 = self

		self._rotate_widget.set_enabled(slot3, alive(self.widget_affect_object(slot8)))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 27-27, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:unit_types()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._unit_types
	--- END OF BLOCK #0 ---



end
function Layer:load_unit_map_from_vector(which)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if not which then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-3, warpins: 1 ---
		slot2 = self._unit_types
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 4-12, warpins: 2 ---
	self._unit_types = slot2
	self._unit_map = {}
	self._category_map = {}
	slot4 = self._unit_types

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 13-39, warpins: 0 ---
	for _, t in pairs(slot3) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 13-24, warpins: 1 ---
		self._category_map[t] = {}
		slot12 = t

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 25-37, warpins: 0 ---
		for _, unit_name in ipairs(managers.database.list_units_of_type(slot10, managers.database)) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 25-35, warpins: 1 ---
			slot16 = unit_name
			local unit_data = CoreEngineAccess._editor_unit_data(unit_name.id(slot15))
			self._unit_map[unit_name] = unit_data
			self._category_map[t][unit_name] = unit_data
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 36-37, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 38-39, warpins: 2 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 40-40, warpins: 1 ---
	return 
	--- END OF BLOCK #3 ---



end
function Layer:set_unit_map(map)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	self._unit_map = map

	return 
	--- END OF BLOCK #0 ---



end
function Layer:get_unit_map()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._unit_map
	--- END OF BLOCK #0 ---



end
function Layer:category_map()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._category_map
	--- END OF BLOCK #0 ---



end
function Layer:get_layer_name()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return nil
	--- END OF BLOCK #0 ---



end
function Layer:cancel_all(ctrlr, event)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-13, warpins: 1 ---
	slot5 = event

	event.skip(slot4)

	slot6 = "K_ESCAPE"
	slot6 = event

	if EWS.name_to_key_code(slot4, EWS) == event.key_code(EWS) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 14-16, warpins: 1 ---
		slot5 = self

		self.ews_replace_unit(slot4)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 17-17, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:deselect()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = self

	if not self.condition(slot2) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-12, warpins: 1 ---
		slot4 = nil

		self.set_select_unit(slot2, self)

		slot3 = self

		self.update_unit_settings(slot2)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 13-13, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:force_editor_state()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = self._owner

	self._owner.force_editor_state(slot2)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:update_unit_settings()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-34, warpins: 1 ---
	slot4 = self._selected_unit

	managers.editor.unit_output(slot2, managers.editor)

	slot5 = self._selected_units

	managers.editor.has_editables(slot2, managers.editor, self._selected_unit)

	slot3 = self._move_widget
	slot8 = self

	self._move_widget.set_enabled(slot2, alive(self.widget_affect_object(slot7)))

	slot3 = self._rotate_widget
	slot8 = self

	self._rotate_widget.set_enabled(slot2, alive(self.widget_affect_object(slot7)))

	if self._name_id then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 35-41, warpins: 1 ---
		self._block_name_id_event = true
		slot3 = self._selected_unit

		if alive(slot2) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 42-56, warpins: 1 ---
			slot6 = self._selected_unit
			slot4 = self._selected_unit.unit_data(slot5).name_id

			self._name_id.set_value(slot2, self._name_id)

			slot4 = true

			self._name_id.set_enabled(slot2, self._name_id)
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 57-66, warpins: 1 ---
			slot4 = false

			self._name_id.set_enabled(slot2, self._name_id)

			slot4 = "-"

			self._name_id.set_value(slot2, self._name_id)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 67-71, warpins: 3 ---
	slot4 = self._selected_unit

	self.set_reference_unit(slot2, self)

	return 
	--- END OF BLOCK #1 ---



end
function Layer:activate()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	slot3 = self

	self.update_unit_settings(slot2)

	slot3 = self._selected_unit

	if alive(slot2) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-18, warpins: 1 ---
		slot6 = self._selected_unit
		slot4 = self._selected_unit.position(slot5).z

		managers.editor.set_grid_altitude(slot2, managers.editor)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 19-38, warpins: 2 ---
	slot3 = self
	slot6 = managers.editor

	self.use_move_widget(slot2, managers.editor.using_move_widget(slot5))

	slot3 = self
	slot6 = managers.editor

	self.use_rotate_widget(slot2, managers.editor.using_rotate_widget(slot5))

	slot3 = self

	self.recalc_all_locals(slot2)

	return 
	--- END OF BLOCK #1 ---



end
function Layer:deactivate()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-11, warpins: 1 ---
	self._drag_units = nil
	slot3 = self

	self.select_release(slot2)

	slot4 = false

	self._move_widget.set_enabled(slot2, self._move_widget)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:build_panel()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return nil
	--- END OF BLOCK #0 ---



end
function Layer:widget_rot()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	local widget_rot = Rotation()
	slot4 = self

	if self.local_rot(slot3) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-14, warpins: 1 ---
		slot4 = self
		slot4 = self.widget_affect_object(slot3)
		widget_rot = self.widget_affect_object(slot3).rotation(slot3)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 15-15, warpins: 2 ---
	return widget_rot
	--- END OF BLOCK #1 ---



end
function Layer:click_widget()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-18, warpins: 1 ---
	slot4 = 0
	local from = managers.editor.get_cursor_look_point(slot2, managers.editor)
	slot5 = 100000
	local to = managers.editor.get_cursor_look_point(managers.editor, managers.editor)
	slot5 = self._move_widget

	if self._move_widget.enabled(managers.editor) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 19-34, warpins: 1 ---
		slot11 = "target_unit"
		slot14 = self._move_widget
		local ray = World.raycast(slot4, World, "ray", from, to, "ray_type", "widget", self._move_widget.widget(slot13))

		if ray and ray.body then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 38-42, warpins: 1 ---
			slot6 = self

			if self.shift(slot5) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 43-45, warpins: 1 ---
				slot6 = self

				self.clone(slot5)
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 46-79, warpins: 2 ---
			slot6 = self._move_widget
			slot9 = ray.body
			slot9 = ray.body.name(slot8)

			self._move_widget.add_move_widget_axis(slot5, ray.body.name(slot8).s(slot8))

			self._grab = true
			slot6 = CoreEditorUtils.GrabInfo
			slot9 = self
			self._grab_info = CoreEditorUtils.GrabInfo.new(slot5, self.widget_affect_object(slot8))
			self._using_widget = true
			slot7 = self.widget_affect_object(slot8)
			slot10 = self

			self._move_widget.set_move_widget_offset(slot5, self._move_widget, self.widget_rot(self))
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 80-85, warpins: 4 ---
	slot5 = self._rotate_widget

	if self._rotate_widget.enabled(slot4) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 86-101, warpins: 1 ---
		slot11 = "target_unit"
		slot14 = self._rotate_widget
		local ray = World.raycast(slot4, World, "ray", from, to, "ray_type", "widget", self._rotate_widget.widget(slot13))

		if ray and ray.body then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 105-109, warpins: 1 ---
			slot6 = self

			if self.shift(slot5) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 110-112, warpins: 1 ---
				slot6 = self

				self.clone(slot5)
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 113-171, warpins: 2 ---
			slot6 = self._rotate_widget
			slot9 = ray.body
			slot9 = ray.body.name(slot8)

			self._rotate_widget.set_rotate_widget_axis(slot5, ray.body.name(slot8).s(slot8))

			slot7 = true

			managers.editor.set_value_info_visibility(slot5, managers.editor)

			self._grab = true
			slot6 = CoreEditorUtils.GrabInfo
			slot9 = self
			self._grab_info = CoreEditorUtils.GrabInfo.new(slot5, self.widget_affect_object(slot8))
			self._using_widget = true
			slot7 = ray.position

			self._rotate_widget.set_world_dir(slot5, self._rotate_widget)

			slot6 = self._rotate_widget
			slot10 = ray.position
			slot10 = 0

			self._rotate_widget.set_rotate_widget_start_screen_position(slot5, managers.editor.world_to_screen(slot8, managers.editor).with_z(slot8, managers.editor.world_to_screen(slot8, managers.editor)))

			slot6 = self._rotate_widget
			slot9 = self
			slot9 = self.widget_affect_object(slot8)

			self._rotate_widget.set_rotate_widget_unit_rot(slot5, self.widget_affect_object(slot8).rotation(slot8))
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 172-172, warpins: 4 ---
	return 
	--- END OF BLOCK #2 ---



end
function Layer:release_widget()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._using_widget then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-11, warpins: 1 ---
		slot3 = self

		self.cloned_group(slot2)

		self._grab = false

		if self._selected_unit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 12-21, warpins: 1 ---
			slot6 = self._selected_unit
			slot4 = self._selected_unit.position(slot5).z

			managers.editor.set_grid_altitude(slot2, managers.editor)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 22-24, warpins: 2 ---
		slot3 = self

		self.reset_widget_values(slot2)
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 25-25, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:cloned_group()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._clone_create_group then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-10, warpins: 1 ---
		self._clone_create_group = false
		slot3 = managers.editor

		managers.editor.group(slot2)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 11-11, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:using_widget()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._using_widget
	--- END OF BLOCK #0 ---



end
function Layer:reset_widget_values()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-17, warpins: 1 ---
	self._using_widget = false
	slot3 = self._move_widget

	self._move_widget.reset_values(slot2)

	slot3 = self._rotate_widget

	self._rotate_widget.reset_values(slot2)

	slot4 = false

	managers.editor.set_value_info_visibility(slot2, managers.editor)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:prepare_replace(names, rules)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if not rules then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-3, warpins: 1 ---
		rules = {}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 4-9, warpins: 2 ---
	local data = {}
	local units = {}
	slot7 = names

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 10-108, warpins: 0 ---
	for _, name in ipairs(slot6) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-28, warpins: 1 ---
		slot12 = CoreEngineAccess._editor_unit_data(name.id(slot13))
		local slot = CoreEngineAccess._editor_unit_data(name.id(slot13)).slot(slot11)
		slot18 = slot

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 29-106, warpins: 0 ---
		for _, unit in ipairs(World.find_units_quick(name, World, "disabled", "all")) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 29-36, warpins: 1 ---
			slot19 = name

			if unit.name(slot17) == name.id(unit) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 37-44, warpins: 1 ---
				slot19 = unit

				if managers.editor.unit_in_layer(slot17, managers.editor) == self then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 45-51, warpins: 1 ---
					slot18 = unit
					local continent = unit.unit_data(slot17).continent
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 105-106, warpins: 5 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 107-108, warpins: 2 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 109-112, warpins: 1 ---
	slot7 = units

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 113-118, warpins: 0 ---
	for _, unit in ipairs(slot6) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 113-116, warpins: 1 ---
		slot13 = unit

		self.delete_unit(slot11, self)
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 117-118, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 119-119, warpins: 1 ---
	return data
	--- END OF BLOCK #5 ---



end
function Layer:recreate_units(name, data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	local units_to_select = {}
	local reference_unit = nil
	self._continent_locked_picked = true
	slot7 = data

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 9-66, warpins: 0 ---
	for _, params in ipairs(slot6) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-10, warpins: 1 ---
		if not name then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 11-11, warpins: 1 ---
			slot10 = params.name
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 12-25, warpins: 2 ---
		slot12 = slot10
		local unit_name = slot10.id(slot11)
		local continent = params.continent
		local pos = params.position
		local rot = params.rotation
		slot19 = rot
		local new_unit = self.do_spawn_unit(slot15, self, unit_name, pos)

		if continent then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 26-31, warpins: 1 ---
			slot17 = new_unit

			if new_unit.unit_data(slot16).continent ~= continent then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 32-38, warpins: 1 ---
				slot19 = continent

				managers.editor.change_continent_for_unit(slot16, managers.editor, new_unit)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 39-41, warpins: 3 ---
		if params.groups then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 42-45, warpins: 1 ---
			slot17 = params.groups

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 46-51, warpins: 0 ---
			for _, group in ipairs(slot16) do

				-- Decompilation error in this vicinity:
				--- BLOCK #0 46-49, warpins: 1 ---
				slot23 = new_unit

				group.add_unit(slot21, group)
				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 50-51, warpins: 2 ---
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 52-54, warpins: 2 ---
		if params.reference_unit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 55-56, warpins: 1 ---
			reference_unit = new_unit
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 57-59, warpins: 1 ---
			if params.selected then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 60-64, warpins: 1 ---
				slot18 = new_unit

				table.insert(slot16, units_to_select)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #3 ---

		FLOW; TARGET BLOCK #4



		-- Decompilation error in this vicinity:
		--- BLOCK #4 65-66, warpins: 4 ---
		--- END OF BLOCK #4 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 67-82, warpins: 1 ---
	self._continent_locked_picked = false
	slot8 = nil

	self.set_select_unit(slot6, self)

	self._replacing_units = true
	slot8 = reference_unit

	self.set_select_unit(slot6, self)

	slot7 = units_to_select

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 83-88, warpins: 0 ---
	for _, unit in ipairs(slot6) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 83-86, warpins: 1 ---
		slot13 = unit

		self.set_select_unit(slot11, self)
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 87-88, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 89-91, warpins: 1 ---
	self._replacing_units = false

	return 
	--- END OF BLOCK #4 ---



end
function Layer:replace_unit(name, all)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	local replace_units = {}

	if all then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-15, warpins: 1 ---
		slot9 = "all"
		slot12 = self._selected_unit

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 16-34, warpins: 0 ---
		for _, unit in ipairs(World.find_units_quick(slot7, World, self._selected_unit.slot(slot11))) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-24, warpins: 1 ---
			slot12 = self._selected_unit

			if unit.name(slot10) == self._selected_unit.name(unit) and unit ~= self._selected_unit then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 28-32, warpins: 1 ---
				slot12 = unit

				table.insert(slot10, replace_units)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 33-34, warpins: 4 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 35-35, warpins: 1 ---
		--- END OF BLOCK #2 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 36-39, warpins: 1 ---
		slot6 = self._selected_units

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 40-49, warpins: 0 ---
		for _, unit in ipairs(slot5) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 40-42, warpins: 1 ---
			if unit ~= self._selected_unit then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 43-47, warpins: 1 ---
				slot12 = unit

				table.insert(slot10, replace_units)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 48-49, warpins: 3 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 50-60, warpins: 2 ---
	slot7 = self._selected_unit

	table.insert(slot5, replace_units)

	slot8 = replace_units

	self._replace_units(slot5, self, name)

	return 
	--- END OF BLOCK #1 ---



end
function Layer:_replace_units(name, replace_units)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	slot5 = self._selected_units
	local selected_units = CoreTable.clone(slot4)
	local reference_unit = self._selected_unit
	local units_to_select = {}
	slot8 = replace_units

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 11-99, warpins: 0 ---
	for _, unit in ipairs(slot7) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-16, warpins: 1 ---
		slot13 = unit
		local continent = unit.unit_data(slot12).continent
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 98-99, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 100-113, warpins: 1 ---
	slot9 = nil

	self.set_select_unit(slot7, self)

	self._replacing_units = true
	slot9 = reference_unit

	self.set_select_unit(slot7, self)

	slot8 = units_to_select

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 114-119, warpins: 0 ---
	for _, unit in ipairs(slot7) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 114-117, warpins: 1 ---
		slot14 = unit

		self.set_select_unit(slot12, self)
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 118-119, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 120-122, warpins: 1 ---
	self._replacing_units = false

	return 
	--- END OF BLOCK #4 ---



end
function Layer:use_grab_info()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot3 = self

	self.reset_widget_values(slot2)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:unit_sampler()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if not self._grab then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-8, warpins: 1 ---
		slot3 = self

		if not self.condition(slot2) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 9-24, warpins: 1 ---
			local data = {
				ray_type = "body editor",
				sample = true
			}
			slot5 = "editor_all"
			data.mask = managers.slot.get_mask(slot3, managers.slot)
			slot5 = data
			local ray = managers.editor.unit_by_raycast(slot3, managers.editor)

			if ray and ray.unit then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 28-43, warpins: 1 ---
				local unit_name = ray.unit.name(slot4)
				slot7 = unit_name
				local s = managers.editor.select_unit_name(ray.unit, managers.editor)
				slot8 = s

				managers.editor.output(managers.editor, managers.editor)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 44-44, warpins: 5 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:ignore_global_select()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._ignore_global_select
	--- END OF BLOCK #0 ---



end
function Layer:select_unit_authorised(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return true
	--- END OF BLOCK #0 ---



end
function Layer:click_select_unit()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	slot3 = self

	self.set_drag_select(slot2)

	slot4 = self

	managers.editor.click_select_unit(slot2, managers.editor)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:set_drag_select()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = self

	if self.condition(slot2) or self._grab then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-9, warpins: 2 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 10-38, warpins: 2 ---
	self._drag_select = true
	slot4 = {
		color = Color(slot6, 0.5, 1, 1)
	}
	slot10 = 1
	self._polyline = managers.editor._gui.polyline(slot2, managers.editor._gui)
	slot4 = true

	self._polyline.set_closed(slot2, self._polyline)

	slot3 = managers.editor
	self._drag_start_pos = managers.editor.cursor_pos(slot2)

	return 
	--- END OF BLOCK #1 ---



end
function Layer:remove_polyline()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._polyline then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-12, warpins: 1 ---
		slot4 = self._polyline

		managers.editor._gui.remove(slot2, managers.editor._gui)

		self._polyline = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 13-13, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:adding_units()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	return CoreInput.ctrl()
	--- END OF BLOCK #0 ---



end
function Layer:removing_units()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	return CoreInput.alt()
	--- END OF BLOCK #0 ---



end
function Layer:adding_or_removing_units()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	if not CoreInput.ctrl() then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-8, warpins: 1 ---
		slot1 = CoreInput.alt()
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 9-9, warpins: 2 ---
	return slot1
	--- END OF BLOCK #1 ---



end
function Layer:select_release()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	self._drag_select = false
	slot3 = self

	self.remove_polyline(slot2)

	if self._drag_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-14, warpins: 1 ---
		self._selecting_many_units = true
		slot3 = self._drag_units

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 15-20, warpins: 0 ---
		for _, unit in ipairs(slot2) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 15-18, warpins: 1 ---
			slot9 = unit

			self.set_select_unit(slot7, self)
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 19-20, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 21-34, warpins: 1 ---
		self._selecting_many_units = false
		slot3 = self

		self.check_referens_exists(slot2)

		slot4 = self._selected_units

		managers.editor.selected_units(slot2, managers.editor)

		slot3 = self

		self.update_unit_settings(slot2)
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 35-37, warpins: 2 ---
	self._drag_units = nil

	return 
	--- END OF BLOCK #1 ---



end
function Layer:add_highlighted_unit(unit, config)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if not unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-3, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 4-4, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:remove_highlighted_unit(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
function Layer:clear_highlighted_units()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot3 = self._selected_units

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-10, warpins: 0 ---
	for _, unit in ipairs(slot2) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-8, warpins: 1 ---
		slot9 = unit

		self.remove_highlighted_unit(slot7, self)
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 9-10, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 11-11, warpins: 1 ---
	return 
	--- END OF BLOCK #2 ---



end
function Layer:clear_selected_units_table()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	slot3 = self

	self.clear_highlighted_units(slot2)

	self._selected_units = {}

	return 
	--- END OF BLOCK #0 ---



end
function Layer:clear_selected_units()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-11, warpins: 1 ---
	slot3 = self

	self.clear_selected_units_table(slot2)

	slot4 = nil

	self.set_reference_unit(slot2, self)

	slot3 = self

	self.update_unit_settings(slot2)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:set_selected_units(units)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-14, warpins: 1 ---
	slot4 = self

	self.clear_selected_units(slot3)

	self._selecting_many_units = true
	slot5 = "call_set_select_unit"
	local id = Profiler.start(slot3, Profiler)
	slot5 = units

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 15-20, warpins: 0 ---
	for _, unit in ipairs(Profiler) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 15-18, warpins: 1 ---
		slot11 = unit

		self.set_select_unit(slot9, self)
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 19-20, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 21-42, warpins: 1 ---
	slot6 = id

	Profiler.stop(slot4, Profiler)

	slot6 = "call_set_select_unit"

	Profiler.counter_time(slot4, Profiler)

	slot6 = self._selected_units

	managers.editor.selected_units(slot4, managers.editor)

	slot5 = self

	self.update_unit_settings(slot4)

	self._selecting_many_units = false

	return 
	--- END OF BLOCK #2 ---



end
function Layer:select_group(group)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-20, warpins: 1 ---
	slot4 = self

	self.clear_highlighted_units(slot3)

	slot4 = self
	slot7 = group

	self.set_reference_unit(slot3, group.reference(slot6))

	slot6 = group
	self._selected_units = CoreTable.clone(group.units(group.reference))
	slot4 = self._selected_units

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 21-27, warpins: 0 ---
	for _, unit in ipairs(slot3) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 21-25, warpins: 1 ---
		slot11 = "highlight"

		self.add_highlighted_unit(slot8, self, unit)
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 26-27, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 28-40, warpins: 1 ---
	slot5 = group

	managers.editor.group_selected(slot3, managers.editor)

	slot4 = self

	self.recalc_all_locals(slot3)

	slot4 = self

	self.update_unit_settings(slot3)

	return 
	--- END OF BLOCK #2 ---



end
function Layer:current_group()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot4 = self._selected_unit

	return self.unit_in_group(slot2, self)
	--- END OF BLOCK #0 ---



end
function Layer:unit_in_group(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot4 = unit

	if alive(slot3) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-11, warpins: 1 ---
		slot4 = unit
		local groups = unit.unit_data(slot3).editor_groups

		if groups then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 12-15, warpins: 1 ---
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 16-35, warpins: 0 ---
			for i = #groups, 1, -1 do

				-- Decompilation error in this vicinity:
				--- BLOCK #0 16-18, warpins: 2 ---
				local group = groups[i]

				if group then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 19-23, warpins: 1 ---
					slot10 = group

					if group.closed(slot9) then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 24-33, warpins: 1 ---
						slot11 = managers.editor

						if group.continent(slot9) == managers.editor.current_continent(group) then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 34-34, warpins: 1 ---
							return group
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 35-35, warpins: 4 ---
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 36-37, warpins: 3 ---
	return nil
	--- END OF BLOCK #1 ---



end
function Layer:set_select_group(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	slot4 = managers.editor

	if managers.editor.using_groups(slot3) and not self._clone_create_group then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-19, warpins: 1 ---
		slot5 = unit
		local group = self.unit_in_group(slot3, self)
		slot5 = self
		local current_group = self.current_group(self)

		if group then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 20-27, warpins: 1 ---
			slot6 = group
			local reference = group.reference(slot5)

			if CoreInput.alt() then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 28-29, warpins: 1 ---
				if current_group and current_group == group then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 32-40, warpins: 1 ---
					slot8 = unit

					current_group.remove_unit(slot6, current_group)

					slot8 = unit

					self.remove_select_unit(slot6, self)
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 41-45, warpins: 1 ---
				if CoreInput.shift() then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 46-50, warpins: 1 ---
					slot8 = unit

					group.set_reference(slot6, group)
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 51-55, warpins: 1 ---
					if CoreInput.ctrl() then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 56-57, warpins: 1 ---
						if current_group then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 58-62, warpins: 1 ---
							slot7 = self

							if self.current_group(slot6) == group then

								-- Decompilation error in this vicinity:
								--- BLOCK #0 63-71, warpins: 1 ---
								slot8 = unit

								current_group.remove_unit(slot6, current_group)

								slot8 = unit

								self.remove_select_unit(slot6, self)
								--- END OF BLOCK #0 ---



							else

								-- Decompilation error in this vicinity:
								--- BLOCK #0 72-80, warpins: 1 ---
								slot8 = unit

								current_group.add_unit(slot6, current_group)

								slot8 = unit

								self.add_select_unit(slot6, self)
								--- END OF BLOCK #0 ---



							end
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 81-84, warpins: 1 ---
						slot8 = group

						self.select_group(slot6, self)
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 85-89, warpins: 8 ---
			slot7 = group

			if reference ~= group.reference(slot6) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 90-94, warpins: 1 ---
				slot8 = group

				self.select_group(slot6, self)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #1 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 95-99, warpins: 1 ---
			if CoreInput.ctrl() then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 100-101, warpins: 1 ---
				if current_group then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 102-110, warpins: 1 ---
					slot7 = unit

					current_group.add_unit(slot5, current_group)

					slot7 = unit

					self.add_select_unit(slot5, self)
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 111-113, warpins: 1 ---
				if not self._selecting_many_units then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 114-116, warpins: 1 ---
					slot6 = self

					self.clear_selected_units(slot5)
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 117-118, warpins: 6 ---
		return true
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 119-120, warpins: 3 ---
	return false
	--- END OF BLOCK #1 ---



end
function Layer:set_select_unit(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	slot4 = managers.editor

	if managers.editor.loading(slot3) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-8, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 9-14, warpins: 2 ---
	slot5 = unit

	if self.set_select_group(slot3, self) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 15-15, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 16-20, warpins: 2 ---
	slot4 = self

	if self.alt(slot3) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 21-25, warpins: 1 ---
		slot5 = unit

		self.remove_select_unit(slot3, self)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 26-30, warpins: 1 ---
		slot4 = self

		if self.shift(slot3) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 31-37, warpins: 1 ---
			slot5 = unit

			if table.contains(slot3, self._selected_units) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 38-45, warpins: 1 ---
				slot5 = unit

				self.set_reference_unit(slot3, self)

				slot4 = self

				self.recalc_all_locals(slot3)
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 46-50, warpins: 1 ---
				slot4 = self
				slot2 = self.set_reference_unit

				if not self._selected_unit then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 51-51, warpins: 1 ---
					slot5 = unit
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 52-57, warpins: 2 ---
				slot2(slot3, slot4)

				slot5 = unit

				self.add_select_unit(slot3, self)
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 58-62, warpins: 1 ---
			slot4 = self

			if (self.ctrl(slot3) or self._selecting_many_units or self._replacing_units) and 0 < #self._selected_units then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 74-78, warpins: 1 ---
				slot5 = unit

				self.add_select_unit(slot3, self)
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 79-95, warpins: 2 ---
				slot4 = self

				self.clear_selected_units_table(slot3)

				slot5 = unit

				self.set_reference_unit(slot3, self)

				slot6 = "highlight"

				self.add_highlighted_unit(slot3, self, unit)

				slot5 = unit

				table.insert(slot3, self._selected_units)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 96-98, warpins: 5 ---
	if not self._selecting_many_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 99-101, warpins: 1 ---
		slot4 = self

		self.check_referens_exists(slot3)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 102-104, warpins: 2 ---
	if not self._selecting_many_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 105-119, warpins: 1 ---
		slot5 = unit

		managers.editor.on_selected_unit(slot3, managers.editor)

		slot5 = self._selected_units

		managers.editor.selected_units(slot3, managers.editor)

		slot4 = self

		self.update_unit_settings(slot3)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 120-120, warpins: 2 ---
	return 
	--- END OF BLOCK #5 ---



end
function Layer:add_select_unit(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-9, warpins: 1 ---
		slot5 = unit

		if not table.contains(slot3, self._selected_units) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 10-22, warpins: 1 ---
			slot5 = unit

			table.insert(slot3, self._selected_units)

			slot6 = "highlight"

			self.add_highlighted_unit(slot3, self, unit)

			if self._selected_unit then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 23-28, warpins: 1 ---
				slot6 = self._selected_unit

				self.recalc_locals(slot3, self, unit)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 29-31, warpins: 1 ---
			if not self._selecting_many_units then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 32-40, warpins: 1 ---
				slot5 = unit

				table.delete(slot3, self._selected_units)

				slot5 = unit

				self.remove_highlighted_unit(slot3, self)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 41-41, warpins: 5 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:remove_select_unit(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	slot5 = unit

	if table.contains(slot3, self._selected_units) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-16, warpins: 1 ---
		slot5 = unit

		table.delete(slot3, self._selected_units)

		slot5 = unit

		self.remove_highlighted_unit(slot3, self)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 17-17, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:check_referens_exists()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	if 0 < #self._selected_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-12, warpins: 1 ---
		slot4 = self._selected_unit

		if not table.contains(slot2, self._selected_units) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 13-21, warpins: 1 ---
			slot4 = self._selected_units[1]

			self.set_reference_unit(slot2, self)

			slot3 = self

			self.recalc_all_locals(slot2)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 22-25, warpins: 1 ---
		slot4 = nil

		self.set_reference_unit(slot2, self)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 26-26, warpins: 3 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:set_reference_unit(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot4 = self._selected_unit

	if alive(slot3) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-10, warpins: 1 ---
		slot4 = unit

		if not alive(slot3) or unit ~= self._selected_unit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 14-17, warpins: 2 ---
			slot5 = self._selected_unit

			self._on_reference_unit_unselected(slot3, self)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 18-25, warpins: 3 ---
	self._selected_unit = unit
	slot5 = self._selected_unit

	managers.editor.on_reference_unit(slot3, managers.editor)

	return 
	--- END OF BLOCK #1 ---



end
function Layer:_on_reference_unit_unselected(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
function Layer:recalc_all_locals()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	if 0 < #self._selected_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-12, warpins: 1 ---
		slot4 = self._selected_unit

		if not table.contains(slot2, self._selected_units) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 13-17, warpins: 1 ---
			slot4 = self._selected_units[1]

			self.set_reference_unit(slot2, self)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 18-22, warpins: 3 ---
	slot3 = self._selected_unit

	if alive(slot2) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 23-45, warpins: 1 ---
		local reference = self._selected_unit
		slot7 = 0
		reference.unit_data(slot3).local_pos = Vector3(reference, 0, 0)
		slot7 = 0
		reference.unit_data(Vector3(reference, 0, 0)).local_rot = Rotation(reference, 0, 0)
		slot4 = self._selected_units

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 46-54, warpins: 0 ---
		for _, unit in ipairs(Rotation(reference, 0, 0)) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 46-47, warpins: 1 ---
			if unit ~= reference then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 48-52, warpins: 1 ---
				slot11 = reference

				self.recalc_locals(slot8, self, unit)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 53-54, warpins: 3 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 55-55, warpins: 2 ---
	return 
	--- END OF BLOCK #2 ---



end
function Layer:recalc_locals(unit, reference)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-33, warpins: 1 ---
	local pos = reference.position(slot4)
	local rot = reference.rotation(reference)
	slot8 = unit
	slot8 = unit.unit_data(unit).world_pos - pos
	slot11 = rot
	unit.unit_data(reference).local_pos = unit.unit_data(unit).world_pos - pos.rotate_with(unit, rot.inverse(slot10))
	slot9 = unit
	unit.unit_data(unit.unit_data(unit).world_pos - pos.rotate_with(unit, rot.inverse(slot10))).local_rot = rot.inverse(unit) * unit.rotation(rot)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:selected_unit()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._selected_unit
	--- END OF BLOCK #0 ---



end
function Layer:create_unit(name, pos, rot, to_continent_name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-11, warpins: 1 ---
	slot9 = rot
	local unit = CoreUnit.safe_spawn_unit(slot6, name, pos)
	slot8 = self

	if self.uses_continents(name) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 12-13, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 27-28, warpins: 2 ---
		if continent then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 29-32, warpins: 1 ---
			slot10 = unit

			continent.add_unit(slot8, continent)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 33-64, warpins: 3 ---
	slot8 = unit
	unit.unit_data(slot7).world_pos = pos
	slot10 = unit
	unit.unit_data(slot7).unit_id = self._owner.get_unit_id(unit, self._owner)
	slot10 = unit
	slot7 = self.get_name_id(unit, self)
	unit.unit_data(self._owner.get_unit_id(unit, self._owner)).name_id = slot7
	slot9 = unit

	managers.editor.spawned_unit(slot7, managers.editor)

	slot9 = unit

	self._on_unit_created(slot7, self)

	return unit
	--- END OF BLOCK #1 ---



end
function Layer:do_spawn_unit(name, pos, rot, to_continent_name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 16-21, warpins: 2 ---
	slot9 = "locked"

	if continent.value(slot7, continent) and not self._continent_locked_picked then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 25-41, warpins: 1 ---
		slot12 = managers.editor
		slot12 = managers.editor.current_continent(slot11)
		slot9 = "Can't create units in continent " .. managers.editor.current_continent(slot11).name(slot11) .. " because it is locked!"

		managers.editor.output_warning(slot7, managers.editor)

		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 42-46, warpins: 3 ---
	slot8 = name

	if name.s(slot7) ~= "" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 47-48, warpins: 1 ---
		if not pos then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 49-49, warpins: 1 ---
			pos = self._current_pos
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 50-51, warpins: 2 ---
		if not rot then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 52-69, warpins: 1 ---
			slot12 = 0
			slot13 = 0
			slot14 = 1
			rot = Rotation(slot7, Vector3(Vector3(1, 0, 1), 1, 0), Vector3(0, 0, 0))
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 70-92, warpins: 2 ---
		slot12 = to_continent_name
		local unit = self.create_unit(slot7, self, name, pos, rot)
		slot10 = unit

		table.insert(self, self._created_units)

		slot10 = unit
		self._created_units_pairs[unit.unit_data(self._created_units).unit_id] = unit
		slot10 = unit

		self.set_select_unit(unit.unit_data(self._created_units).unit_id, self)

		return unit
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 93-93, warpins: 2 ---
	return 
	--- END OF BLOCK #3 ---



end
function Layer:remove_unit(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-37, warpins: 1 ---
	slot5 = unit

	table.delete(slot3, self._selected_units)

	slot5 = unit

	self.remove_highlighted_unit(slot3, self)

	slot5 = unit

	self.remove_name_id(slot3, self)

	slot5 = unit

	managers.editor.remove_unit_id(slot3, managers.editor)

	slot5 = unit

	managers.editor.deleted_unit(slot3, managers.editor)

	slot5 = unit

	managers.portal.delete_unit(slot3, managers.portal)

	slot4 = unit

	if unit.unit_data(slot3).continent then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 38-45, warpins: 1 ---
		slot4 = unit
		slot5 = unit

		unit.unit_data(slot3).continent.remove_unit(slot3, unit.unit_data(slot3).continent)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 46-51, warpins: 2 ---
	slot5 = unit

	World.delete_unit(slot3, World)

	return 
	--- END OF BLOCK #1 ---



end
function Layer:delete_unit(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._selected_unit == unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-10, warpins: 1 ---
		slot5 = nil

		self.set_reference_unit(slot3, self)

		slot4 = self

		self.update_unit_settings(slot3)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 11-27, warpins: 2 ---
	slot5 = unit

	table.delete(slot3, self._created_units)

	slot5 = unit
	self._created_units_pairs[unit.unit_data(self._created_units).unit_id] = nil
	slot5 = unit

	self.remove_unit(unit.unit_data(self._created_units).unit_id, self)

	return 
	--- END OF BLOCK #1 ---



end
function Layer:_on_unit_created(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
function Layer:show_replace_units()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = self

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 17-19, warpins: 2 ---
	if self._selected_unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 20-25, warpins: 1 ---
		slot4 = self

		managers.editor.show_layer_replace_dialog(slot2, managers.editor)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 26-26, warpins: 2 ---
	return 
	--- END OF BLOCK #2 ---



end
function Layer:get_created_unit_by_pattern(patterns)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	local units = {}
	slot5 = self._created_units

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-32, warpins: 0 ---
	for _, unit in ipairs(slot4) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-9, warpins: 1 ---
		slot10 = patterns

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 10-30, warpins: 0 ---
		for _, pattern in ipairs(slot9) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 10-23, warpins: 1 ---
			slot17 = unit
			slot17 = unit.name(slot16)
			slot18 = true

			if string.find(slot14, unit.name(slot16).s(slot16), pattern, 1) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 24-28, warpins: 1 ---
				slot16 = unit

				table.insert(slot14, units)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 29-30, warpins: 3 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 31-32, warpins: 2 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 33-33, warpins: 1 ---
	return units
	--- END OF BLOCK #2 ---



end
function Layer:add_triggers()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-91, warpins: 1 ---
	local vc = self._editor_data.virtual_controller
	slot5 = Idstring(slot6)
	slot10 = "click_widget"

	vc.add_trigger(slot3, vc, callback("lmb", self, self))

	slot5 = Idstring(callback)
	slot10 = "release_widget"

	vc.add_release_trigger(slot3, vc, callback("lmb", self, self))

	slot5 = Idstring(callback)
	slot10 = "deselect"

	vc.add_trigger(slot3, vc, callback("deselect", self, self))

	slot5 = Idstring(callback)
	slot10 = "unit_sampler"

	vc.add_trigger(slot3, vc, callback("unit_sampler", self, self))

	slot5 = Idstring(callback)
	slot10 = "click_select_unit"

	vc.add_trigger(slot3, vc, callback("lmb", self, self))

	slot5 = Idstring(callback)
	slot10 = "select_release"

	vc.add_release_trigger(slot3, vc, callback("lmb", self, self))

	slot5 = Idstring(callback)
	slot10 = "on_clone_edited_values"

	vc.add_trigger(slot3, vc, callback("clone_edited_values", self, self))

	slot5 = Idstring(callback)
	slot10 = "on_center_view_on_selected_unit"

	vc.add_trigger(slot3, vc, callback("center_view_on_selected_unit", self, self))

	return 
	--- END OF BLOCK #0 ---



end
function Layer:clear_triggers()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	slot3 = self._editor_data.virtual_controller

	self._editor_data.virtual_controller.clear_triggers(slot2)

	return 
	--- END OF BLOCK #0 ---



end
function Layer:get_help(text)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	return text .. "No help Available"
	--- END OF BLOCK #0 ---



end
function Layer:undo()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot4 = "No undo implemented in current layer"

	cat_debug(slot2, "editor")

	return 
	--- END OF BLOCK #0 ---



end
function Layer:clone()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot4 = "No clone implemented in current layer"

	cat_debug(slot2, "editor")

	return 
	--- END OF BLOCK #0 ---



end
function Layer:_cloning_done()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
function Layer:on_center_view_on_selected_unit()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-9, warpins: 1 ---
	slot3 = managers.editor
	slot6 = self

	managers.editor.center_view_on_unit(slot2, self.selected_unit(slot5))

	return 
	--- END OF BLOCK #0 ---



end
function Layer:on_clone_edited_values()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = self

	if self.ctrl(slot2) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-6, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 7-9, warpins: 2 ---
	if self._selected_unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-22, warpins: 1 ---
		slot7 = "editor_all"
		local ray = self._owner.select_unit_by_raycast(slot2, self._owner, managers.slot.get_mask("body editor", managers.slot))

		if ray and ray.unit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 26-30, warpins: 1 ---
			slot4 = self

			if self.shift(slot3) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 31-36, warpins: 1 ---
				slot6 = ray.unit

				self.clone_edited_values(slot3, self, self._selected_unit)
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 37-41, warpins: 1 ---
				slot6 = self._selected_unit

				self.clone_edited_values(slot3, self, ray.unit)
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 42-44, warpins: 2 ---
			slot4 = self

			self.update_unit_settings(slot3)
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 45-45, warpins: 4 ---
	return 
	--- END OF BLOCK #2 ---



end
function Layer:clone_edited_values(unit, source)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	slot6 = source

	if unit.name(slot4) ~= source.name(unit) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-9, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 10-15, warpins: 2 ---
	slot5 = source

	if not CoreEditorUtils.get_editable_lights(slot4) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 16-16, warpins: 1 ---
		local lights = {}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 17-20, warpins: 2 ---
	slot6 = lights

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 21-163, warpins: 0 ---
	for _, light in ipairs(slot5) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 21-92, warpins: 1 ---
		local new_light = unit.get_object(slot10, light.name(slot13))
		slot12 = new_light
		slot15 = light

		new_light.set_near_range(unit, light.near_range(light))

		slot12 = new_light
		slot15 = light

		new_light.set_far_range(unit, light.far_range(light))

		slot12 = new_light
		slot15 = light

		new_light.set_enable(unit, light.enable(light))

		slot12 = new_light
		slot15 = light

		new_light.set_color(unit, light.color(light))

		slot12 = new_light
		slot15 = light

		new_light.set_multiplier(unit, light.multiplier(light))

		slot12 = new_light
		slot15 = light

		new_light.set_falloff_exponent(unit, light.falloff_exponent(light))

		slot12 = new_light
		slot15 = light

		new_light.set_linear_attenuation_factor(unit, light.linear_attenuation_factor(light))

		slot12 = new_light
		slot15 = light

		new_light.set_spot_angle_start(unit, light.spot_angle_start(light))

		slot12 = new_light
		slot15 = light

		new_light.set_spot_angle_end(unit, light.spot_angle_end(light))

		slot12 = new_light
		slot15 = light

		new_light.set_clipping_values(unit, light.clipping_values(light))

		slot12 = source

		if source.unit_data(unit).projection_textures then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 93-103, warpins: 1 ---
			slot13 = light
			slot13 = light.name(source)
			local projection_texture = source.unit_data(slot11).projection_textures[light.name(source).s(source)]
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 104-105, warpins: 2 ---
		if projection_texture then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 106-120, warpins: 1 ---
			local is_projection = CoreEditorUtils.is_projection_light(slot12, source, light)
			slot16 = light
			slot15 = "omni"

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 128-129, warpins: 3 ---
			if is_projection and is_spot then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 132-148, warpins: 1 ---
				slot18 = projection_texture
				slot18 = false

				new_light.set_projection_texture(slot14, new_light, Idstring(slot17), false)

				slot13 = unit.unit_data(slot14)
				slot16 = unit

				if not unit.unit_data(unit).projection_textures then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 149-149, warpins: 1 ---
					slot14 = {}
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 150-161, warpins: 2 ---
				slot13.projection_textures = slot14
				slot16 = light
				slot16 = light.name(unit)
				unit.unit_data(slot14).projection_textures[light.name(unit).s(unit)] = projection_texture
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 162-163, warpins: 5 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 164-177, warpins: 1 ---
	slot7 = source
	unit.unit_data(slot5).mesh_variation = source.unit_data(unit).mesh_variation
	slot6 = unit

	if unit.unit_data(source.unit_data(unit).mesh_variation).mesh_variation then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 178-183, warpins: 1 ---
		slot6 = unit

		if unit.unit_data(slot5).mesh_variation ~= "default" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 184-194, warpins: 1 ---
			slot9 = unit
			slot9 = unit

			managers.sequence.run_sequence_simple2(slot5, managers.sequence, unit.unit_data(slot8).mesh_variation, "change_state")
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 195-208, warpins: 3 ---
	slot7 = source
	unit.unit_data(slot5).material = source.unit_data(unit).material
	slot6 = unit

	if unit.unit_data(source.unit_data(unit).material).material then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 209-214, warpins: 1 ---
		slot6 = unit

		if unit.unit_data(slot5).material ~= "default" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 215-222, warpins: 1 ---
			slot9 = unit

			unit.set_material_config(slot5, unit, unit.unit_data(true).material)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 223-227, warpins: 3 ---
	slot6 = unit

	if unit.editable_gui(slot5) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 228-371, warpins: 1 ---
		slot6 = unit
		slot6 = unit.editable_gui(slot5)
		slot9 = source
		slot9 = source.editable_gui(slot8)

		unit.editable_gui(slot5).set_text(slot5, source.editable_gui(slot8).text(slot8))

		slot6 = unit
		slot6 = unit.editable_gui(slot5)
		slot9 = source
		slot9 = source.editable_gui(slot8)

		unit.editable_gui(slot5).set_font_size(slot5, source.editable_gui(slot8).font_size(slot8))

		slot6 = unit
		slot6 = unit.editable_gui(slot5)
		slot9 = source
		slot9 = source.editable_gui(slot8)

		unit.editable_gui(slot5).set_font_color(slot5, source.editable_gui(slot8).font_color(slot8))

		slot6 = unit
		slot6 = unit.editable_gui(slot5)
		slot9 = source
		slot9 = source.editable_gui(slot8)

		unit.editable_gui(slot5).set_font(slot5, source.editable_gui(slot8).font(slot8))

		slot6 = unit
		slot6 = unit.editable_gui(slot5)
		slot9 = source
		slot9 = source.editable_gui(slot8)

		unit.editable_gui(slot5).set_align(slot5, source.editable_gui(slot8).align(slot8))

		slot6 = unit
		slot6 = unit.editable_gui(slot5)
		slot9 = source
		slot9 = source.editable_gui(slot8)

		unit.editable_gui(slot5).set_vertical(slot5, source.editable_gui(slot8).vertical(slot8))

		slot6 = unit
		slot6 = unit.editable_gui(slot5)
		slot9 = source
		slot9 = source.editable_gui(slot8)

		unit.editable_gui(slot5).set_blend_mode(slot5, source.editable_gui(slot8).blend_mode(slot8))

		slot6 = unit
		slot6 = unit.editable_gui(slot5)
		slot9 = source
		slot9 = source.editable_gui(slot8)

		unit.editable_gui(slot5).set_render_template(slot5, source.editable_gui(slot8).render_template(slot8))

		slot6 = unit
		slot6 = unit.editable_gui(slot5)
		slot9 = source
		slot9 = source.editable_gui(slot8)

		unit.editable_gui(slot5).set_wrap(slot5, source.editable_gui(slot8).wrap(slot8))

		slot6 = unit
		slot6 = unit.editable_gui(slot5)
		slot9 = source
		slot9 = source.editable_gui(slot8)

		unit.editable_gui(slot5).set_word_wrap(slot5, source.editable_gui(slot8).word_wrap(slot8))

		slot6 = unit
		slot6 = unit.editable_gui(slot5)
		slot9 = source
		slot9 = source.editable_gui(slot8)

		unit.editable_gui(slot5).set_alpha(slot5, source.editable_gui(slot8).alpha(slot8))

		slot6 = unit
		slot6 = unit.editable_gui(slot5)
		slot9 = source
		slot9 = source.editable_gui(slot8)

		unit.editable_gui(slot5).set_shape(slot5, source.editable_gui(slot8).shape(slot8))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #6 ---

	FLOW; TARGET BLOCK #7



	-- Decompilation error in this vicinity:
	--- BLOCK #7 372-376, warpins: 2 ---
	slot6 = unit

	if unit.ladder(slot5) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 377-400, warpins: 1 ---
		slot6 = unit
		slot6 = unit.ladder(slot5)
		slot9 = source
		slot9 = source.ladder(slot8)

		unit.ladder(slot5).set_width(slot5, source.ladder(slot8).width(slot8))

		slot6 = unit
		slot6 = unit.ladder(slot5)
		slot9 = source
		slot9 = source.ladder(slot8)

		unit.ladder(slot5).set_height(slot5, source.ladder(slot8).height(slot8))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #7 ---

	FLOW; TARGET BLOCK #8



	-- Decompilation error in this vicinity:
	--- BLOCK #8 401-401, warpins: 2 ---
	return 
	--- END OF BLOCK #8 ---



end
function Layer:_continent_locked(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	slot4 = unit
	local continent = unit.unit_data(slot3).continent

	if not continent then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-8, warpins: 1 ---
		return false
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 9-16, warpins: 2 ---
	slot5 = unit
	slot6 = "locked"

	return unit.unit_data(slot4).continent.value(slot4, unit.unit_data(slot4).continent)
	--- END OF BLOCK #1 ---



end
function Layer:set_enabled(enabled)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	self._layer_enabled = enabled
	slot4 = self._created_units

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-17, warpins: 0 ---
	for _, unit in ipairs(slot3) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-11, warpins: 1 ---
		slot10 = unit

		if not self._continent_locked(slot8, self) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 12-15, warpins: 1 ---
			slot10 = enabled

			unit.set_enabled(slot8, unit)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 16-17, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 18-19, warpins: 1 ---
	return true
	--- END OF BLOCK #2 ---



end
function Layer:hide_all()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	local units_in_layer = self._created_units
	slot4 = units_in_layer

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-19, warpins: 0 ---
	for _, unit in ipairs(slot3) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-10, warpins: 1 ---
		slot9 = unit

		if unit.enabled(slot8) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 11-17, warpins: 1 ---
			slot11 = false

			managers.editor.set_unit_visible(slot8, managers.editor, unit)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 18-19, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 20-20, warpins: 1 ---
	return 
	--- END OF BLOCK #2 ---



end
function Layer:unhide_all()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot3 = self._created_units

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-18, warpins: 0 ---
	for _, unit in ipairs(slot2) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-9, warpins: 1 ---
		slot8 = unit

		if unit.enabled(slot7) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 10-16, warpins: 1 ---
			slot10 = true

			managers.editor.set_unit_visible(slot7, managers.editor, unit)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 17-18, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 19-19, warpins: 1 ---
	return 
	--- END OF BLOCK #2 ---



end
function Layer:clear()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot3 = self._created_units

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-15, warpins: 0 ---
	for _, unit in ipairs(slot2) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-9, warpins: 1 ---
		slot8 = unit

		if alive(slot7) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 10-13, warpins: 1 ---
			slot9 = unit

			self.remove_unit(slot7, self)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 14-15, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 16-36, warpins: 1 ---
	slot4 = false

	self._move_widget.set_enabled(slot2, self._move_widget)

	slot4 = nil

	self.set_reference_unit(slot2, self)

	slot3 = self

	self.clear_selected_units_table(slot2)

	self._created_units = {}
	self._created_units_pairs = {}
	self._name_ids = {}

	if self._name_id then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 37-46, warpins: 1 ---
		slot4 = "-"

		self._name_id.set_value(slot2, self._name_id)

		slot4 = false

		self._name_id.set_enabled(slot2, self._name_id)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 47-47, warpins: 2 ---
	return 
	--- END OF BLOCK #3 ---



end
function Layer:set_unit_name(units)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot4 = units
	local i = units.selected_item(slot3)

	if i ~= -1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-23, warpins: 1 ---
		slot9 = i
		local name = self.get_real_name(slot4, units.get_item_data(slot7, units))
		slot8 = name
		slot6 = CoreEngineAccess._editor_unit_data(name.id(slot7))

		if not CoreEngineAccess._editor_unit_data(name.id(slot7)).model_script_data(self) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 24-39, warpins: 1 ---
			slot7 = "Unit " .. name .. " doesnt have a model or diesel file."

			managers.editor.output(slot5, managers.editor)

			slot7 = i

			units.deselect_index(slot5, units)

			self._unit_name = ""

			return 
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 40-40, warpins: 2 ---
		self._unit_name = name
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 41-41, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function Layer:get_real_name(name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	local fs = " %*"
	slot6 = fs

	if string.find(slot4, name) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-20, warpins: 1 ---
		slot6 = fs
		local e = string.find(slot4, name)
		slot8 = e - 1
		name = string.sub(name, name, 1)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 21-21, warpins: 2 ---
	return name
	--- END OF BLOCK #1 ---



end
function Layer:condition()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	slot3 = managers.editor

	if not managers.editor.conditions(slot2) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-8, warpins: 1 ---
		slot1 = self._using_widget
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 9-9, warpins: 2 ---
	return slot1
	--- END OF BLOCK #1 ---



end
function Layer:grab()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._grab
	--- END OF BLOCK #0 ---



end
function Layer:create_marker()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
function Layer:use_marker()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
function Layer:on_continent_changed()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
function Layer:set_unit_rotations()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
function Layer:set_unit_positions()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
function Layer:_add_project_save_data(data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
function Layer:_add_project_unit_save_data(unit, data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
function Layer:selected_amount_string()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	return "Selected " .. self._save_name .. ": " .. #self._selected_units
	--- END OF BLOCK #0 ---



end
slot2 = "wpn"
local idstring_wpn = Idstring("selected_amount_string")
function Layer:save()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot3 = self._created_units

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-62, warpins: 0 ---
	for _, unit in ipairs(slot2) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-10, warpins: 1 ---
		slot8 = unit
		local unit_data = unit.unit_data(slot7)

		if not unit_data.instance then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 11-16, warpins: 1 ---
			local t = {}
			t.entry = self._save_name

			if unit_data.continent then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 17-20, warpins: 1 ---
				slot10 = unit_data.continent
				slot8 = unit_data.continent.name(slot9)
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 21-45, warpins: 2 ---
			t.continent = slot8
			slot11 = unit
			slot9 = CoreEditorSave.save_data_table(slot10)
			t.data = {
				unit_data = slot9
			}
			slot12 = t.data

			self._add_project_unit_save_data(slot9, self, unit)

			slot11 = t

			managers.editor.add_save_data(slot9, managers.editor)

			slot10 = unit

			if unit.type(slot9) ~= idstring_wpn then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 46-60, warpins: 1 ---
				slot11 = {
					category = "units",
					name = unit.name(slot13).s(slot13),
					continent = unit_data.continent
				}
				slot14 = unit
				slot14 = unit.name(slot13)

				managers.editor.add_to_world_package(slot9, managers.editor)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 61-62, warpins: 4 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 63-63, warpins: 1 ---
	return 
	--- END OF BLOCK #2 ---



end
function Layer:test_spawn(type)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-15, warpins: 1 ---
	local pos = Vector3()
	local rot = Rotation()
	local i = 0
	local prow = 40
	local y_pos = 0
	local c_rad = 0
	local row_units = {}
	local max_rad = 0
	local removed = {}
	slot13 = self._unit_map

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 16-111, warpins: 0 ---
	for name, unit_data in pairs(slot12) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 16-17, warpins: 1 ---
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 110-111, warpins: 4 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 112-118, warpins: 1 ---
	slot13 = "\n"

	print(slot12)

	slot13 = removed

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 119-124, warpins: 0 ---
	for _, name in ipairs(slot12) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 119-122, warpins: 1 ---
		slot19 = name

		print(slot17, "Removed")
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 123-124, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 125-128, warpins: 1 ---
	slot13 = "DONE"

	print(slot12)

	return 
	--- END OF BLOCK #4 ---



end
function Layer:shift()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	return CoreInput.shift()
	--- END OF BLOCK #0 ---



end
function Layer:ctrl()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	return CoreInput.ctrl()
	--- END OF BLOCK #0 ---



end
function Layer:alt()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	return CoreInput.alt()
	--- END OF BLOCK #0 ---



end

return 
