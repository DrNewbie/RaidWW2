-- Decompilation Error: _run_step(_unwarp_expressions, node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- Decompilation Error: _glue_flows(node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.

-- Decompilation error in this vicinity:
--- BLOCK #0 1-3, warpins: 1 ---
slot0 = FFCEditorController or class()
FFCEditorController = slot0
function FFCEditorController:init(cam, controller)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-29, warpins: 1 ---
	self._controller = controller
	self._camera = cam
	self._move_speed = 5000
	self._turn_speed = 150
	slot5 = cam
	slot5 = cam.rotation(slot4)
	self._pitch = cam.rotation(slot4).pitch(slot4)
	slot5 = cam
	slot5 = cam.rotation(slot4)
	self._yaw = cam.rotation(slot4).yaw(slot4)
	self._lock_pos = false
	self._cube_counter = 1
	self._creating_cube_map = false
	self._mul = 112

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:update(time, rel_time)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._camera then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-6, warpins: 1 ---
		if self._creating_cube_map then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 7-10, warpins: 1 ---
			slot5 = self

			self.create_cube_map(slot4)

			return 
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 11-128, warpins: 2 ---
		slot7 = rel_time

		self._draw_frustum_freeze(slot4, self, time)

		local speed = self._move_speed * rel_time
		local turn_speed = self._turn_speed * 0.001
		slot12 = self._controller
		slot15 = "altitude_down"
		slot9 = speed * (self._controller.button(slot10, Idstring(slot13)) - self._controller.button(self._controller, Idstring("altitude_up")))
		local altitude = Vector3(time, 0, 0)
		slot9 = self._controller
		slot12 = "go_left"
		local mov_x = (self._controller.button(0, Idstring(self._controller.button(self._controller, Idstring("altitude_up")))) - self._controller.button(self._controller, Idstring("go_right"))) * speed
		slot10 = self._controller
		local mov_y = (self._controller.button(self._controller, Idstring("go_right")) - self._controller.button(self._controller, Idstring("forward"))) * speed
		slot10 = self._camera
		slot11 = self._camera
		slot11 = self._camera.rotation(self._camera.rotation(self._controller))
		local move = self._camera.rotation(self._controller).x(self._controller) * mov_x + self._camera.rotation(self._camera.rotation(self._controller)).y(self._camera.rotation(self._controller)) * mov_y
		slot17 = "look"
		slot13 = 90
		self._pitch = math.clamp(self._camera.rotation(self._controller), self._pitch + turn_speed * -self._controller.axis("backward", Idstring(slot16)).y, -90)
		slot12 = self._controller
		slot15 = "look"
		self._yaw = self._yaw + turn_speed * -self._controller.axis(self._pitch + turn_speed * -self._controller.axis("backward", Idstring(slot16)).y, Idstring(self._controller)).x
		slot11 = self._controller
		slot14 = "look_gamepad"

		if self._controller.has_axis(turn_speed * -self._controller.axis(self._pitch + turn_speed * -self._controller.axis("backward", Idstring(slot16)).y, Idstring(self._controller)).x, Idstring(Idstring)) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 129-151, warpins: 1 ---
			local x = self._controller.axis(slot10, Idstring(slot13)).x
			slot15 = "look_gamepad"
			local y = self._controller.axis(self._controller, Idstring("look_gamepad")).y
			slot13 = y

			if math.abs(self._controller) < 0.1 then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 152-152, warpins: 1 ---
				y = 0
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 153-159, warpins: 2 ---
			slot13 = x

			if math.abs(slot12) < 0.1 then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 160-160, warpins: 1 ---
				x = 0
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 161-177, warpins: 2 ---
			slot15 = 90
			self._pitch = math.clamp(slot12, self._pitch + 10 * turn_speed * -y, -90)
			self._yaw = self._yaw + 10 * turn_speed * -x
			--- END OF BLOCK #2 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 178-186, warpins: 2 ---
		slot11 = self._controller
		slot14 = "plane_switch"

		if self._controller.button(slot10, Idstring(slot13)) ~= 0 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 187-192, warpins: 1 ---
			slot13 = 0
			move = Vector3(slot10, move.x, move.y)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 193-211, warpins: 2 ---
		slot14 = self._camera
		slot12 = self._camera.position(slot13) + move + altitude

		self._camera.set_position(slot10, self._camera)

		slot11 = self._camera
		slot16 = 0

		self._camera.set_rotation(slot10, Rotation(slot13, self._yaw, self._pitch))
		--- END OF BLOCK #3 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 212-212, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function FFCEditorController:update_locked(time, rel_time)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	slot7 = rel_time

	self._draw_frustum_freeze(slot4, self, time)

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:_draw_frustum_freeze(time, rel_time)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if not self._frustum_frozen then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-4, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-196, warpins: 2 ---
	local near = self._frozen_camera.near_range(slot4)
	slot6 = self._frozen_camera
	local far = self._frozen_camera.far_range(self._frozen_camera)
	local R = 1
	local G = 0
	local B = 1
	slot15 = near
	local n1 = self._frozen_camera.screen_to_world(slot9, Vector3(slot12, -1, -1))
	slot16 = near
	local n2 = self._frozen_camera.screen_to_world(self._frozen_camera, Vector3(-1, 1, -1))
	slot17 = near
	local n3 = self._frozen_camera.screen_to_world(self._frozen_camera, Vector3(1, 1, 1))
	slot18 = near
	local n4 = self._frozen_camera.screen_to_world(self._frozen_camera, Vector3(1, -1, 1))
	slot19 = far
	local f1 = self._frozen_camera.screen_to_world(self._frozen_camera, Vector3(-1, -1, -1))
	slot20 = far
	local f2 = self._frozen_camera.screen_to_world(self._frozen_camera, Vector3(-1, 1, -1))
	slot21 = far
	local f3 = self._frozen_camera.screen_to_world(self._frozen_camera, Vector3(1, 1, 1))
	slot22 = far
	local f4 = self._frozen_camera.screen_to_world(self._frozen_camera, Vector3(1, -1, 1))
	slot23 = B

	Application.draw_line(self._frozen_camera, Application, n1, n2, R, G)

	slot23 = B

	Application.draw_line(self._frozen_camera, Application, n2, n3, R, G)

	slot23 = B

	Application.draw_line(self._frozen_camera, Application, n3, n4, R, G)

	slot23 = B

	Application.draw_line(self._frozen_camera, Application, n4, n1, R, G)

	slot23 = B

	Application.draw_line(self._frozen_camera, Application, n1, f1, R, G)

	slot23 = B

	Application.draw_line(self._frozen_camera, Application, n2, f2, R, G)

	slot23 = B

	Application.draw_line(self._frozen_camera, Application, n3, f3, R, G)

	slot23 = B

	Application.draw_line(self._frozen_camera, Application, n4, f4, R, G)

	slot23 = B

	Application.draw_line(self._frozen_camera, Application, f1, f2, R, G)

	slot23 = B

	Application.draw_line(self._frozen_camera, Application, f2, f3, R, G)

	slot23 = B

	Application.draw_line(self._frozen_camera, Application, f3, f4, R, G)

	slot23 = B

	Application.draw_line(self._frozen_camera, Application, f4, f1, R, G)

	return 
	--- END OF BLOCK #1 ---



end
function FFCEditorController:set_camera(cam)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	self._camera = cam

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:set_camera_pos(pos)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	slot5 = pos

	self._camera.set_position(slot3, self._camera)

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:set_camera_rot(rot)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-20, warpins: 1 ---
	slot4 = rot
	self._yaw = rot.yaw(slot3)
	slot4 = rot
	self._pitch = rot.pitch(slot3)
	slot4 = self._camera
	slot8 = self._pitch
	slot11 = rot

	self._camera.set_rotation(slot3, Rotation(slot6, self._yaw, rot.roll(slot10)))

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:set_camera_roll(roll)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-27, warpins: 1 ---
	slot6 = self._camera
	slot6 = self._camera.rotation(roll)
	slot5 = roll
	local rot = Rotation(slot3, self._camera.rotation(roll).y(roll))
	slot5 = self._camera
	slot10 = self._camera
	slot8 = self._camera.rotation(slot9).y(slot9)
	slot11 = rot

	self._camera.set_rotation(self._camera.rotation(roll).y(roll), Rotation(slot7, rot.z(self._camera.rotation(slot9))))

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:set_controller(c)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	self._controller = c

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:set_move_speed(speed)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	self._move_speed = speed

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:set_turn_speed(t_speed)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	self._turn_speed = t_speed

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:set_fov(fov)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	slot5 = fov

	self._camera.set_fov(slot3, self._camera)

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:get_camera_pos()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot3 = self._camera

	return self._camera.position(slot2)
	--- END OF BLOCK #0 ---



end
function FFCEditorController:get_camera_rot()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot3 = self._camera

	return self._camera.rotation(slot2)
	--- END OF BLOCK #0 ---



end
function FFCEditorController:get_move_speed()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._move_speed
	--- END OF BLOCK #0 ---



end
function FFCEditorController:get_turn_speed()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._turn_speed
	--- END OF BLOCK #0 ---



end
function FFCEditorController:frustum_freeze(camera)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-61, warpins: 1 ---
	self._frustum_frozen = true
	local old_cam = camera
	local new_cam = World.create_camera(slot4)
	slot6 = new_cam
	slot9 = old_cam

	new_cam.set_fov(World, old_cam.fov(slot8))

	slot6 = new_cam
	slot9 = old_cam

	new_cam.set_position(World, old_cam.position(slot8))

	slot6 = new_cam
	slot9 = old_cam

	new_cam.set_rotation(World, old_cam.rotation(slot8))

	slot6 = new_cam
	slot9 = old_cam

	new_cam.set_far_range(World, old_cam.far_range(slot8))

	slot6 = new_cam
	slot9 = old_cam

	new_cam.set_near_range(World, old_cam.near_range(slot8))

	slot6 = new_cam
	slot9 = old_cam

	new_cam.set_aspect_ratio(World, old_cam.aspect_ratio(slot8))

	slot6 = new_cam
	slot9 = old_cam

	new_cam.set_width_multiplier(World, old_cam.width_multiplier(slot8))

	slot7 = new_cam

	self.set_camera(World, self)

	slot8 = new_cam

	Application.set_frustum_freeze_camera(World, Application, old_cam)

	self._frozen_camera = old_cam

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:frustum_unfreeze(camera)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-30, warpins: 1 ---
	self._frustum_frozen = false
	local old_cam = camera
	slot5 = old_cam
	slot8 = self._camera

	old_cam.set_position(slot4, self._camera.position(slot7))

	slot5 = old_cam
	slot8 = self._camera

	old_cam.set_rotation(slot4, self._camera.rotation(slot7))

	slot7 = old_cam

	Application.set_frustum_freeze_camera(slot4, Application, old_cam)

	slot6 = old_cam

	self.set_camera(slot4, self)

	self._frozen_camera = nil

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:frustum_frozen()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._frustum_frozen
	--- END OF BLOCK #0 ---



end
function FFCEditorController:start_cube_map(params)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	self._params = params

	if not params.name then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-5, warpins: 1 ---
		slot2 = ""
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-13, warpins: 2 ---
	self._cubemap_name = slot2
	self._simple_postfix = params.simple_postfix
	self._output_name = params.output_name

	if not self._output_name then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 14-14, warpins: 1 ---
		slot2 = "cubemap"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 15-18, warpins: 2 ---
	self._output_name = slot2

	if params.light then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 19-61, warpins: 1 ---
		slot5 = "omni"
		self._light = World.create_light(slot3, World)
		slot4 = self._light
		slot7 = params.light

		self._light.set_position(slot3, params.light.position(slot6))

		slot4 = self._light
		slot7 = params.light

		self._light.set_near_range(slot3, params.light.near_range(slot6))

		slot4 = self._light
		slot7 = params.light

		self._light.set_far_range(slot3, params.light.far_range(slot6))

		slot4 = self._light
		slot9 = 1

		self._light.set_color(slot3, Vector3(slot6, 1, 1))

		if self._params.spot then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 62-92, warpins: 1 ---
			slot6 = self._params.unit
			slot9 = 1
			local rot = Rotation(slot3, Vector3(self._params.unit.rotation(slot5), 0, 0))
			slot5 = -rot.z(self._params.unit.rotation(slot5))
			slot8 = rot
			rot = Rotation(self._params.unit.rotation(slot5).z(slot5), rot.y(rot))
			slot6 = rot

			self._params.unit.set_rotation(self._params.unit.rotation(slot5).z(slot5), self._params.unit)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 93-99, warpins: 3 ---
	slot4 = self._camera
	slot2 = self._camera.set_fov

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 108-125, warpins: 2 ---
	slot2(slot3, slot4)

	self._cube_counter = 0
	self._wait_frames = 5
	self._creating_cube_map = true
	self._cube_map_done_func = params.done_callback
	self._names = {}
	slot2 = table.insert
	slot4 = self._names
	slot5 = self._cubemap_name

	if self._simple_postfix then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 126-127, warpins: 1 ---
		slot6 = "6.tga"
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 128-128, warpins: 1 ---
		slot6 = "_6(zpos).tga"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 129-137, warpins: 2 ---
	slot5 = slot5 .. slot6

	slot2(slot3, slot4)

	slot2 = table.insert
	slot4 = self._names
	slot5 = self._cubemap_name

	if self._simple_postfix then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 138-139, warpins: 1 ---
		slot6 = "1.tga"
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 140-140, warpins: 1 ---
		slot6 = "_1(xneg).tga"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 141-149, warpins: 2 ---
	slot5 = slot5 .. slot6

	slot2(slot3, slot4)

	slot2 = table.insert
	slot4 = self._names
	slot5 = self._cubemap_name

	if self._simple_postfix then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 150-151, warpins: 1 ---
		slot6 = "4.tga"
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 152-152, warpins: 1 ---
		slot6 = "_4(ypos).tga"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #6 ---

	FLOW; TARGET BLOCK #7



	-- Decompilation error in this vicinity:
	--- BLOCK #7 153-161, warpins: 2 ---
	slot5 = slot5 .. slot6

	slot2(slot3, slot4)

	slot2 = table.insert
	slot4 = self._names
	slot5 = self._cubemap_name

	if self._simple_postfix then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 162-163, warpins: 1 ---
		slot6 = "2.tga"
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 164-164, warpins: 1 ---
		slot6 = "_2(xpos).tga"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #7 ---

	FLOW; TARGET BLOCK #8



	-- Decompilation error in this vicinity:
	--- BLOCK #8 165-173, warpins: 2 ---
	slot5 = slot5 .. slot6

	slot2(slot3, slot4)

	slot2 = table.insert
	slot4 = self._names
	slot5 = self._cubemap_name

	if self._simple_postfix then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 174-175, warpins: 1 ---
		slot6 = "3.tga"
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 176-176, warpins: 1 ---
		slot6 = "_3(yneg).tga"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #8 ---

	FLOW; TARGET BLOCK #9



	-- Decompilation error in this vicinity:
	--- BLOCK #9 177-185, warpins: 2 ---
	slot5 = slot5 .. slot6

	slot2(slot3, slot4)

	slot2 = table.insert
	slot4 = self._names
	slot5 = self._cubemap_name

	if self._simple_postfix then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 186-187, warpins: 1 ---
		slot6 = "5.tga"
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 188-188, warpins: 1 ---
		slot6 = "_5(zneg).tga"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #9 ---

	FLOW; TARGET BLOCK #10



	-- Decompilation error in this vicinity:
	--- BLOCK #10 189-229, warpins: 2 ---
	slot5 = slot5 .. slot6

	slot2(slot3, slot4)

	self._name_ordered = {}
	slot5 = self._names[2]

	table.insert(slot3, self._name_ordered)

	slot5 = self._names[4]

	table.insert(slot3, self._name_ordered)

	slot5 = self._names[5]

	table.insert(slot3, self._name_ordered)

	slot5 = self._names[3]

	table.insert(slot3, self._name_ordered)

	slot5 = self._names[6]

	table.insert(slot3, self._name_ordered)

	slot5 = self._names[1]

	table.insert(slot3, self._name_ordered)

	return 
	--- END OF BLOCK #10 ---



end
function FFCEditorController:creating_cube_map()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._creating_cube_map
	--- END OF BLOCK #0 ---



end
function FFCEditorController:create_cube_map()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	if 0 < self._wait_frames then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-9, warpins: 1 ---
		self._wait_frames = self._wait_frames - 1

		return false
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 10-16, warpins: 2 ---
	self._cube_counter = self._cube_counter + 1

	if self._params.spot then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 17-19, warpins: 1 ---
		if self._cube_counter == 1 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 20-23, warpins: 1 ---
			slot3 = self

			self._create_spot_projection(slot2)
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 24-26, warpins: 1 ---
			if self._cube_counter == 2 then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 27-30, warpins: 1 ---
				slot3 = self

				self._generate_spot_projection(slot2)
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 31-33, warpins: 1 ---
				slot3 = self

				self._cubemap_done(slot2)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 34-35, warpins: 3 ---
		return true
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 36-41, warpins: 2 ---
	slot3 = self
	local x1, y1, x2, y2 = self._get_screen_size(slot2)

	if self._cube_counter == 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 42-58, warpins: 1 ---
		slot7 = self._camera
		slot14 = 1
		slot10 = Vector3(slot11, 0, 0)
		slot15 = 0

		self._camera.set_rotation(slot6, Rotation(slot9, Vector3(0, 0, -1)))
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 59-61, warpins: 1 ---
		if self._cube_counter == 2 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 62-78, warpins: 1 ---
			slot7 = self._camera
			slot14 = 0
			slot10 = Vector3(slot11, -1, 0)
			slot15 = 0

			self._camera.set_rotation(slot6, Rotation(slot9, Vector3(-1, 0, -1)))
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 79-81, warpins: 1 ---
			if self._cube_counter == 3 then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 82-98, warpins: 1 ---
				slot7 = self._camera
				slot14 = 0
				slot10 = Vector3(slot11, 0, 1)
				slot15 = -1

				self._camera.set_rotation(slot6, Rotation(slot9, Vector3(0, 0, 0)))
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 99-101, warpins: 1 ---
				if self._cube_counter == 4 then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 102-118, warpins: 1 ---
					slot7 = self._camera
					slot14 = 0
					slot10 = Vector3(slot11, 1, 0)
					slot15 = 0

					self._camera.set_rotation(slot6, Rotation(slot9, Vector3(1, 0, -1)))
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 119-121, warpins: 1 ---
					if self._cube_counter == 5 then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 122-138, warpins: 1 ---
						slot7 = self._camera
						slot14 = 0
						slot10 = Vector3(slot11, 0, -1)
						slot15 = 1

						self._camera.set_rotation(slot6, Rotation(slot9, Vector3(0, 0, 0)))
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 139-141, warpins: 1 ---
						if self._cube_counter == 6 then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 142-158, warpins: 1 ---
							slot7 = self._camera
							slot14 = -1
							slot10 = Vector3(slot11, 0, 0)
							slot15 = 0

							self._camera.set_rotation(slot6, Rotation(slot9, Vector3(0, 0, -1)))
							--- END OF BLOCK #0 ---



						else

							-- Decompilation error in this vicinity:
							--- BLOCK #0 159-161, warpins: 1 ---
							if self._cube_counter == 7 then

								-- Decompilation error in this vicinity:
								--- BLOCK #0 162-167, warpins: 1 ---
								slot7 = self
								slot5 = self._generate_cubemap

								if self._params.light then

									-- Decompilation error in this vicinity:
									--- BLOCK #0 168-169, warpins: 1 ---
									slot8 = "cubemap_light"
									--- END OF BLOCK #0 ---



								else

									-- Decompilation error in this vicinity:
									--- BLOCK #0 170-170, warpins: 1 ---
									slot8 = "cubemap_reflection"
									--- END OF BLOCK #0 ---



								end

								--- END OF BLOCK #0 ---

								FLOW; TARGET BLOCK #1



								-- Decompilation error in this vicinity:
								--- BLOCK #1 171-176, warpins: 2 ---
								slot5(slot6, slot7)

								slot7 = self

								self._cubemap_done(slot6)

								return true
								--- END OF BLOCK #1 ---



							end
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 177-180, warpins: 8 ---
	if not self._params.source_path then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 181-185, warpins: 1 ---
		slot7 = managers.database
		local path = managers.database.root_path(slot6)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 186-200, warpins: 2 ---
	slot13 = y2

	Application.screenshot(slot7, Application, path .. self._names[self._cube_counter], x1, y1, x2)

	return false
	--- END OF BLOCK #4 ---



end
function FFCEditorController:_cubemap_done()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = self._light

	if alive(slot2) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-10, warpins: 1 ---
		slot4 = self._light

		World.delete_light(slot2, World)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 11-15, warpins: 2 ---
	self._creating_cube_map = nil

	if self._cube_map_done_func then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 16-17, warpins: 1 ---
		self._cube_map_done_func()
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 18-18, warpins: 2 ---
	return 
	--- END OF BLOCK #2 ---



end
function FFCEditorController:_get_screen_size()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-18, warpins: 1 ---
	slot3 = Application
	local res = Application.screen_resolution(slot2)
	local diff = res.x - res.y
	local x1 = diff / 2
	local y1 = 0
	local x2 = res.x - diff / 2
	local y2 = res.y

	return x1, y1, x2, y2
	--- END OF BLOCK #0 ---



end
function FFCEditorController:_create_spot_projection()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-27, warpins: 1 ---
	slot3 = self
	local x1, y1, x2, y2 = self._get_screen_size(slot2)
	slot7 = self._camera
	slot12 = self._params.light
	slot10 = -self._params.light.rotation(slot11).z(slot11)
	slot15 = 1

	self._camera.set_rotation(slot6, Rotation(slot9, Vector3(self._params.light.rotation(slot11), 0, 0)))

	if not self._params.source_path then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 28-32, warpins: 1 ---
		slot7 = managers.database
		local path = managers.database.root_path(slot6)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 33-45, warpins: 2 ---
	slot13 = y2

	Application.screenshot(slot7, Application, path .. self._name_ordered[1], x1, y1, x2)

	return 
	--- END OF BLOCK #1 ---



end
function FFCEditorController:_generate_spot_projection()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-11, warpins: 1 ---
	slot3 = managers.database
	local execute = managers.database.root_path(slot2) .. "aux_assets/engine/tools/spotmapgen.bat "

	if not self._params.source_path then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 12-16, warpins: 1 ---
		slot4 = managers.database
		local path = managers.database.root_path(slot3)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 17-26, warpins: 2 ---
	execute = execute .. path .. self._name_ordered[1] .. " "

	if not self._params.output_path then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 27-31, warpins: 1 ---
		slot5 = managers.database
		slot3 = managers.database.root_path(slot4)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 32-48, warpins: 2 ---
	local output_path = slot3 .. self._output_name .. ".dds "
	execute = execute .. output_path .. " "
	slot6 = execute

	os.execute(output_path)

	slot6 = self
	slot4 = self._add_meta_data

	if not self._params.output_path then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 49-53, warpins: 1 ---
		slot9 = managers.database
		slot7 = managers.database.root_path(slot8)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 54-59, warpins: 2 ---
	slot8 = "diffuse_colormap_gradient_alpha_manual_mips"

	slot4(slot5, slot6, slot7 .. self._output_name .. ".dds")

	return 
	--- END OF BLOCK #3 ---



end
function FFCEditorController:_generate_cubemap(file)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-13, warpins: 1 ---
	slot4 = managers.database
	local execute = managers.database.root_path(slot3) .. "aux_assets/engine/tools/" .. file .. ".bat "
	slot5 = self._names

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 14-30, warpins: 0 ---
	for i, _ in ipairs(file) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 14-17, warpins: 1 ---
		if not self._params.source_path then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 18-22, warpins: 1 ---
			slot10 = managers.database
			local path = managers.database.root_path(slot9)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 23-28, warpins: 2 ---
		execute = execute .. path .. self._name_ordered[i] .. " "
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 29-30, warpins: 2 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 31-34, warpins: 1 ---
	if not self._params.output_path then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 35-39, warpins: 1 ---
		slot5 = managers.database
		slot3 = managers.database.root_path(slot4)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 40-56, warpins: 2 ---
	local output_path = slot3 .. self._output_name .. " "
	execute = execute .. output_path .. " "
	slot6 = execute

	os.execute(output_path)

	slot6 = self
	slot4 = self._add_meta_data

	if not self._params.output_path then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 57-61, warpins: 1 ---
		slot9 = managers.database
		slot7 = managers.database.root_path(slot8)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 62-67, warpins: 2 ---
	slot8 = "diffuse_colormap_gradient_alpha_manual_mips"

	slot4(slot5, slot6, slot7 .. self._output_name .. ".dds")

	return 
	--- END OF BLOCK #4 ---



end
function FFCEditorController:_add_meta_data(file, meta)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-17, warpins: 1 ---
	slot5 = managers.database
	local execute = managers.database.root_path(slot4) .. "aux_assets/engine/tools/diesel_dds_tagger.exe "
	execute = execute .. file .. " " .. meta
	slot6 = execute

	os.execute(file)

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:update_orthographic(time, rel_time)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-72, warpins: 1 ---
	local speed = self._move_speed * rel_time
	slot7 = self._controller
	slot10 = "go_left"
	local mov_x = (self._controller.button(slot5, Idstring(slot8)) - self._controller.button(self._controller, Idstring("go_right"))) * speed
	slot8 = self._controller
	local mov_y = (self._controller.button(self._controller, Idstring("go_right")) - self._controller.button(self._controller, Idstring("forward"))) * speed
	slot10 = 0
	local move = Vector3(self._controller, mov_x * 5, mov_y * 5)
	slot10 = self._camera.position("backward") + move

	self._camera.set_position(mov_x * 5, self._camera)

	slot11 = self._controller
	slot14 = "altitude_down"
	self._mul = self._mul + (speed * (self._controller.button(self._camera, Idstring(self._camera)) - self._controller.button(self._controller, Idstring("altitude_up")))) / 100
	slot9 = self

	self.set_orthographic_screen((speed * (self._controller.button(self._camera, Idstring(self._camera)) - self._controller.button(self._controller, Idstring("altitude_up")))) / 100)

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:set_orthographic_screen()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-27, warpins: 1 ---
	local res = Application.screen_resolution(slot2)
	slot8 = res.y / 2 * self._mul

	self._camera.set_orthographic_screen(Application, self._camera, -(res.x / 2) * self._mul, res.x / 2 * self._mul, -(res.y / 2) * self._mul)

	return 
	--- END OF BLOCK #0 ---



end
function FFCEditorController:toggle_orthographic(use)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	local camera = self._camera

	if use then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-62, warpins: 1 ---
		self._camera_settings = {}
		slot6 = camera
		self._camera_settings.far_range = camera.far_range(slot5)
		slot6 = camera
		self._camera_settings.near_range = camera.near_range(slot5)
		slot6 = camera
		self._camera_settings.position = camera.position(slot5)
		slot6 = camera
		slot4 = camera.rotation(slot5)
		self._camera_settings.rotation = slot4
		slot5 = camera
		slot8 = "orthographic"

		camera.set_projection_type(slot4, Idstring(slot7))

		slot5 = self

		self.set_orthographic_screen(slot4)

		slot5 = camera
		slot12 = camera

		camera.set_position(slot4, Vector3(slot7, 0, 0))

		slot5 = camera
		slot8 = math.DOWN
		slot13 = 0

		camera.set_rotation(slot4, Rotation(slot7, Vector3(camera.position(slot11).z, 0, 1)))

		slot6 = 75000

		camera.set_far_range(slot4, camera)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 63-88, warpins: 1 ---
		slot5 = camera
		slot8 = "perspective"

		camera.set_projection_type(slot4, Idstring(slot7))

		slot6 = self._camera_settings.far_range

		camera.set_far_range(slot4, camera)

		slot6 = self._camera_settings.near_range

		camera.set_near_range(slot4, camera)

		slot6 = self._camera_settings.position

		camera.set_position(slot4, camera)

		slot6 = self._camera_settings.rotation

		camera.set_rotation(slot4, camera)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 89-89, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end

return 

--- END OF BLOCK #0 ---

FLOW; TARGET BLOCK #2



-- Decompilation error in this vicinity:
--- BLOCK #1 4-5, warpins: 1 ---
slot0 = class()
--- END OF BLOCK #1 ---

FLOW; TARGET BLOCK #2



-- Decompilation error in this vicinity:
--- BLOCK #2 6-100, warpins: 2 ---
--- END OF BLOCK #2 ---



