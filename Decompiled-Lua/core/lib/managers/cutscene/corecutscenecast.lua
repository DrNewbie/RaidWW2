-- Decompilation Error: _run_step(_unwarp_expressions, node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- Decompilation Error: _glue_flows(node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.

-- Decompilation error in this vicinity:
--- BLOCK #0 1-3, warpins: 1 ---
slot0 = CoreCutsceneCast or class()
CoreCutsceneCast = slot0
function CoreCutsceneCast:prime(cutscene)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	slot2 = assert

	if cutscene then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-6, warpins: 1 ---
		slot6 = cutscene
		slot4 = cutscene.is_valid(slot5)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 7-19, warpins: 2 ---
	slot5 = "Attempting to prime invalid cutscene."

	slot2(slot3, slot4)

	local preload = true
	slot6 = cutscene

	self._actor_units_in_cutscene(slot4, self)

	slot7 = preload

	self._animation_blob_controller(slot4, self, cutscene)

	return 
	--- END OF BLOCK #1 ---



end
function CoreCutsceneCast:unload()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot1 = pairs

	if not self._animation_blob_controllers then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-5, warpins: 1 ---
		slot3 = {}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-7, warpins: 2 ---
	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 8-27, warpins: 0 ---
	for _, blob_controller in slot1(slot2) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-9, warpins: 1 ---
		if blob_controller ~= false then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 10-14, warpins: 1 ---
			slot8 = blob_controller

			if alive(slot7) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 15-19, warpins: 1 ---
				slot8 = blob_controller

				if blob_controller.is_playing(slot7) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 20-22, warpins: 1 ---
					slot8 = blob_controller

					blob_controller.stop(slot7)
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 23-25, warpins: 2 ---
				slot8 = blob_controller

				blob_controller.destroy(slot7)
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 26-27, warpins: 4 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 28-33, warpins: 1 ---
	self._animation_blob_controllers = nil
	slot1 = pairs

	if not self._spawned_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 34-34, warpins: 1 ---
		slot3 = {}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 35-36, warpins: 2 ---
	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 37-51, warpins: 0 ---
	for _, unit in slot1(slot2) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 37-41, warpins: 1 ---
		slot8 = unit

		if alive(slot7) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 42-49, warpins: 1 ---
			local unit_type = unit.name(slot7)
			slot10 = unit

			World.delete_unit(unit, World)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 50-51, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 52-58, warpins: 1 ---
	self._spawned_units = nil
	slot3 = self.__root_unit

	if alive(slot2) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 59-63, warpins: 1 ---
		slot4 = self.__root_unit

		World.delete_unit(slot2, World)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #6 ---

	FLOW; TARGET BLOCK #7



	-- Decompilation error in this vicinity:
	--- BLOCK #7 64-66, warpins: 2 ---
	self.__root_unit = nil

	return 
	--- END OF BLOCK #7 ---



end
function CoreCutsceneCast:is_ready(cutscene)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if cutscene then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-6, warpins: 1 ---
		slot5 = cutscene
		local blob_controller = self._animation_blob_controller(slot3, self)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 7-8, warpins: 2 ---
	if blob_controller ~= nil then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-12, warpins: 1 ---
		slot5 = blob_controller
		slot3 = blob_controller.ready(slot4)

		if blob_controller.ready(slot4) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 13-14, warpins: 0 ---
			slot3 = false
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 15-15, warpins: 1 ---
		slot3 = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 16-16, warpins: 3 ---
	return slot3
	--- END OF BLOCK #2 ---



end
function CoreCutsceneCast:set_timer(timer)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot2 = pairs

	if not self._spawned_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-5, warpins: 1 ---
		slot4 = {}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-7, warpins: 2 ---
	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 8-22, warpins: 0 ---
	for _, unit in slot2(slot3) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-12, warpins: 1 ---
		slot9 = unit

		if alive(slot8) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 13-20, warpins: 1 ---
			slot10 = timer

			unit.set_timer(slot8, unit)

			slot10 = timer

			unit.set_animation_timer(slot8, unit)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 21-22, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 23-23, warpins: 1 ---
	return 
	--- END OF BLOCK #3 ---



end
function CoreCutsceneCast:set_cutscene_visible(cutscene, visible)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot3 = pairs

	if not self._spawned_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-5, warpins: 1 ---
		slot5 = {}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-7, warpins: 2 ---
	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 8-26, warpins: 0 ---
	for unit_name, unit in slot3(slot4) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-14, warpins: 1 ---
		slot12 = true

		if cutscene.has_unit(slot9, cutscene, unit_name) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 15-19, warpins: 1 ---
			slot10 = self
			slot8 = self._set_unit_and_children_visible
			slot11 = unit

			if visible then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 20-23, warpins: 1 ---
				slot15 = unit_name
				slot12 = self.unit_visible(slot13, self)
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 24-24, warpins: 2 ---
			slot8(slot9, slot10, slot11)
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 25-26, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 27-27, warpins: 1 ---
	return 
	--- END OF BLOCK #3 ---



end
function CoreCutsceneCast:set_unit_visible(unit_name, visible)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	visible = not not visible

	if not self._hidden_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-6, warpins: 1 ---
		slot3 = {}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 7-12, warpins: 2 ---
	self._hidden_units = slot3
	local current_visibility = not self._hidden_units[unit_name]

	if visible ~= current_visibility then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 13-15, warpins: 1 ---
		slot4 = self._hidden_units

		if visible then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-17, warpins: 1 ---
			slot5 = nil

			if nil then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 18-19, warpins: 0 ---
				slot5 = false
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 20-20, warpins: 1 ---
			slot5 = true
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 21-27, warpins: 3 ---
		slot4[unit_name] = slot5
		slot7 = unit_name
		local unit = self.unit(slot5, self)

		if unit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 28-32, warpins: 1 ---
			slot9 = visible

			self._set_unit_and_children_visible(slot6, self, unit)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 33-33, warpins: 3 ---
	return 
	--- END OF BLOCK #2 ---



end
function CoreCutsceneCast:unit_visible(unit_name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._hidden_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-5, warpins: 1 ---
		slot2 = self._hidden_units[unit_name]
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-7, warpins: 2 ---
	if slot2 ~= nil then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-9, warpins: 1 ---
		slot2 = false
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-10, warpins: 1 ---
		slot2 = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 11-11, warpins: 2 ---
	return slot2
	--- END OF BLOCK #2 ---



end
function CoreCutsceneCast:unit(unit_name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._spawned_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-5, warpins: 1 ---
		slot2 = self._spawned_units[unit_name]
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-6, warpins: 2 ---
	return slot2
	--- END OF BLOCK #1 ---



end
function CoreCutsceneCast:actor_unit(unit_name, cutscene)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	slot6 = unit_name
	local unit = self.unit(slot4, self)

	if unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-12, warpins: 1 ---
		slot7 = unit_name
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 15-20, warpins: 2 ---
		slot7 = cutscene

		return self._actor_units_in_cutscene(slot5, self)[unit_name]
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 21-21, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function CoreCutsceneCast:unit_names()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 11-11, warpins: 2 ---
	return slot1
	--- END OF BLOCK #1 ---



end
function CoreCutsceneCast:evaluate_cutscene_at_time(cutscene, time)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if not self._last_evaluated_cutscene then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-4, warpins: 1 ---
		slot3 = cutscene
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-8, warpins: 2 ---
	self._last_evaluated_cutscene = slot3

	if cutscene ~= self._last_evaluated_cutscene then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-12, warpins: 1 ---
		slot6 = self._last_evaluated_cutscene

		self._stop_animations_on_actor_units_in_cutscene(slot4, self)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 13-17, warpins: 2 ---
	slot5 = cutscene
	local orientation_unit = cutscene.find_spawned_orientation_unit(slot4)

	if orientation_unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 18-25, warpins: 1 ---
		slot6 = self
		slot6 = self._root_unit(slot5)

		if self._root_unit(slot5).parent(slot5) ~= orientation_unit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 26-32, warpins: 1 ---
			slot7 = orientation_unit
			slot10 = self

			self._reparent_to_locator_unit(slot5, self, self._root_unit(slot9))
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 33-38, warpins: 3 ---
	slot7 = cutscene
	local blob_controller = self._animation_blob_controller(slot5, self)

	if blob_controller then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 39-43, warpins: 1 ---
		slot7 = blob_controller

		if blob_controller.ready(slot6) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 44-48, warpins: 1 ---
			slot7 = blob_controller

			if not blob_controller.is_playing(slot6) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 49-65, warpins: 1 ---
				slot8 = cutscene
				local actor_units = self._actor_units_in_cutscene(slot6, self)

				function slot9(unit_name)

					-- Decompilation error in this vicinity:
					--- BLOCK #0 1-7, warpins: 1 ---
					slot5 = unit_name

					return unit_name, cutscene.blend_set_for_unit(slot3, cutscene)
					--- END OF BLOCK #0 ---



				end

				local blend_sets = table.remap(self, actor_units)
				slot11 = blend_sets

				blob_controller.play(actor_units, blob_controller, actor_units)

				slot9 = blob_controller

				blob_controller.pause(actor_units)
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 66-70, warpins: 2 ---
			slot8 = time

			blob_controller.set_time(slot6, blob_controller)
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 71-77, warpins: 1 ---
		slot10 = cutscene

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 78-122, warpins: 0 ---
		for unit_name, unit in pairs(self._actor_units_in_cutscene(slot8, self)) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 78-83, warpins: 1 ---
			slot13 = unit_name
			local unit_animation = cutscene.animation_for_unit(slot11, cutscene)

			if unit_animation then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 84-91, warpins: 1 ---
				local machine = unit.anim_state_machine(slot12)
				slot14 = machine

				if not machine.enabled(unit) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 92-102, warpins: 1 ---
					slot15 = true

					machine.set_enabled(slot13, machine)

					slot16 = unit_animation

					if not self._state_machine_is_playing_raw_animation(slot13, self, machine) then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 103-106, warpins: 1 ---
						slot15 = unit_animation

						machine.play_raw(slot13, machine)
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 107-111, warpins: 3 ---
				slot14 = cutscene
				local anim_length = cutscene.duration(slot13)

				if anim_length == 0 then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 112-113, warpins: 1 ---
					slot13 = 0
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 114-114, warpins: 1 ---
					local normalized_time = time / anim_length
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #1 ---

				FLOW; TARGET BLOCK #2



				-- Decompilation error in this vicinity:
				--- BLOCK #2 115-120, warpins: 2 ---
				slot19 = normalized_time

				machine.set_parameter(slot15, machine, unit_animation, "t")
				--- END OF BLOCK #2 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 121-122, warpins: 3 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 123-125, warpins: 3 ---
	self._last_evaluated_cutscene = cutscene

	return 
	--- END OF BLOCK #4 ---



end
function CoreCutsceneCast:evaluate_object_at_time(cutscene, unit_name, object_name, time)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-15, warpins: 1 ---
	slot9 = cutscene
	slot8 = "Currently only supported with optimized cutscenes."

	assert(slot6, cutscene.is_optimized("Currently only supported with optimized cutscenes."))

	slot8 = cutscene
	local blob_controller = self._animation_blob_controller(slot6, self)
	slot8 = blob_controller

	if alive(self) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 16-20, warpins: 1 ---
		slot8 = blob_controller
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 41-48, warpins: 3 ---
		slot10 = 0

		return Vector3(slot7, 0, 0), Rotation()
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 49-49, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function CoreCutsceneCast:spawn_unit(unit_name, unit_type)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	slot7 = unit_type

	if DB.has(slot4, DB, "unit") then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-83, warpins: 1 ---
		slot5 = "cutscene"
		slot10 = unit_name

		cat_print(slot4, string.format(slot7, "[CoreCutsceneCast] Spawning \"%s\" named \"%s\".", unit_type))

		slot5 = World
		slot6 = false

		World.effect_manager(slot4).set_spawns_enabled(slot4, World.effect_manager(slot4))

		slot10 = 0
		slot6 = Vector3(slot7, 0, 0)
		local unit = safe_spawn_unit(slot4, unit_type, Rotation())
		slot6 = World
		slot7 = true

		World.effect_manager(unit_type).set_spawns_enabled(unit_type, World.effect_manager(unit_type))

		slot6 = unit
		slot9 = managers.cutscene

		unit.set_timer(unit_type, managers.cutscene.timer(0))

		slot6 = unit
		slot9 = managers.cutscene

		unit.set_animation_timer(unit_type, managers.cutscene.timer(0))

		slot9 = self
		slot8 = unit

		self._reparent_to_locator_unit(unit_type, self, self._root_unit(0))

		slot8 = false

		self._set_unit_and_children_visible(unit_type, self, unit)

		slot10 = 10000000

		unit.set_animation_lod(unit_type, unit, 1, 100000, 10000000)

		slot6 = unit

		if unit.cutscene(unit_type) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 84-89, warpins: 1 ---
			slot6 = unit

			if unit.cutscene(slot5).setup then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 90-95, warpins: 1 ---
				slot6 = unit
				slot6 = unit.cutscene(slot5)

				unit.cutscene(slot5).setup(slot5)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 96-100, warpins: 3 ---
		slot6 = unit

		if unit.anim_state_machine(slot5) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 101-107, warpins: 1 ---
			slot6 = unit
			slot7 = false

			unit.anim_state_machine(slot5).set_enabled(slot5, unit.anim_state_machine(slot5))
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 108-119, warpins: 2 ---
		slot6 = managers.cutscene
		slot7 = unit

		managers.cutscene.actor_database(slot5).append_unit_info(slot5, managers.cutscene.actor_database(slot5))

		if not self._spawned_units then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 120-120, warpins: 1 ---
			slot4 = {}
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 121-125, warpins: 2 ---
		self._spawned_units = slot4
		self._spawned_units[unit_name] = unit

		return unit
		--- END OF BLOCK #3 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 126-133, warpins: 1 ---
		slot8 = unit_type
		slot5 = "Unit type \"" .. tostring(slot7) .. "\" not found."

		error(slot4)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 134-134, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function CoreCutsceneCast:delete_unit(unit_name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	slot5 = unit_name
	local unit = self.unit(slot3, self)

	if unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-11, warpins: 1 ---
		slot5 = unit

		if alive(slot4) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 12-19, warpins: 1 ---
			local unit_type = unit.name(slot4)
			slot7 = unit

			World.delete_unit(unit, World)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 20-22, warpins: 3 ---
	if self._spawned_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 23-25, warpins: 1 ---
		self._spawned_units[unit_name] = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 26-28, warpins: 2 ---
	if self._hidden_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 29-31, warpins: 1 ---
		self._hidden_units[unit_name] = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 32-33, warpins: 2 ---
	if unit == nil then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 34-35, warpins: 1 ---
		slot3 = false
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 36-36, warpins: 1 ---
		slot3 = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 37-37, warpins: 2 ---
	return slot3
	--- END OF BLOCK #4 ---



end
function CoreCutsceneCast:rename_unit(unit_name, new_unit_name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	slot6 = unit_name
	local unit = self.unit(slot4, self)

	if unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-14, warpins: 1 ---
		self._spawned_units[unit_name] = nil
		self._spawned_units[new_unit_name] = unit

		if self._hidden_units and self._hidden_units[unit_name] then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 19-24, warpins: 1 ---
			self._hidden_units[unit_name] = nil
			self._hidden_units[new_unit_name] = true
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 25-26, warpins: 3 ---
		return true
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 27-28, warpins: 2 ---
	return false
	--- END OF BLOCK #1 ---



end
function CoreCutsceneCast:_stop_animations_on_actor_units_in_cutscene(cutscene)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	slot5 = cutscene
	local blob_controller = self._animation_blob_controller(slot3, self)

	if blob_controller then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-10, warpins: 1 ---
		slot5 = blob_controller

		blob_controller.stop(slot4)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-17, warpins: 1 ---
		slot8 = cutscene

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 18-28, warpins: 0 ---
		for unit_name, unit in pairs(self._actor_units_in_cutscene(slot6, self)) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 18-22, warpins: 1 ---
			slot10 = unit
			local machine = unit.anim_state_machine(slot9)

			if machine then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 23-26, warpins: 1 ---
				slot12 = false

				machine.set_enabled(slot10, machine)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 27-28, warpins: 3 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 29-29, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function CoreCutsceneCast:_state_machine_is_playing_raw_animation(machine, animation)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-17, warpins: 1 ---
	slot7 = machine
	slot7 = machine.config(function (state)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-3, warpins: 1 ---
		slot3 = state

		return state.name(slot2)
		--- END OF BLOCK #0 ---



	end)

	function slot6(state)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-3, warpins: 1 ---
		slot3 = state

		return state.name(slot2)
		--- END OF BLOCK #0 ---



	end

	local state_names = table.collect(slot4, machine.config(function (state)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-3, warpins: 1 ---
		slot3 = state

		return state.name(slot2)
		--- END OF BLOCK #0 ---



	end).states(function (state)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-3, warpins: 1 ---
		slot3 = state

		return state.name(slot2)
		--- END OF BLOCK #0 ---



	end))
	slot7 = animation

	if table.contains(machine.config(function (state)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-3, warpins: 1 ---
		slot3 = state

		return state.name(slot2)
		--- END OF BLOCK #0 ---



	end).states(function (state)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-3, warpins: 1 ---
		slot3 = state

		return state.name(slot2)
		--- END OF BLOCK #0 ---



	end), state_names) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 18-21, warpins: 1 ---
		slot7 = animation
		slot4 = machine.is_playing(slot5, machine)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 22-23, warpins: 2 ---
	return slot4
	--- END OF BLOCK #1 ---



end
function CoreCutsceneCast:_reparent_to_locator_unit(parent, child)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-24, warpins: 1 ---
	slot5 = parent.get_object(slot6, parent)
	slot6 = "Parent does not have an Object named \"locator\"."
	local parent_locator = assert(slot4, slot5)
	slot6 = child

	child.unlink(slot5)

	slot9 = parent_locator
	slot8 = child
	slot11 = child
	slot11 = child.orientation_object(slot10)

	parent.link(slot5, parent, parent_locator.name("locator"), child.orientation_object(slot10).name(slot10))

	return 
	--- END OF BLOCK #0 ---



end
function CoreCutsceneCast:_set_unit_and_children_visible(unit, visible, excluded_units)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	slot7 = visible

	unit.set_visible(slot5, unit)

	slot7 = visible

	unit.set_enabled(slot5, unit)

	if not excluded_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-15, warpins: 1 ---
		slot4 = table.remap

		if not self._spawned_units then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-16, warpins: 1 ---
			slot6 = {}
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 17-19, warpins: 2 ---
		function slot7(unit_name, unit)

			-- Decompilation error in this vicinity:
			--- BLOCK #0 1-3, warpins: 1 ---
			return unit, true
			--- END OF BLOCK #0 ---



		end

		excluded_units = slot4(slot5, slot6)
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 20-25, warpins: 2 ---
	slot8 = unit

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 26-36, warpins: 0 ---
	for _, child in ipairs(unit.children(slot7)) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 26-28, warpins: 1 ---
		if not excluded_units[child] then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 29-34, warpins: 1 ---
			slot14 = excluded_units

			self._set_unit_and_children_visible(slot10, self, child, visible)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 35-36, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 37-37, warpins: 1 ---
	return 
	--- END OF BLOCK #3 ---



end
function CoreCutsceneCast:_animation_blob_controller(cutscene, preloading)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot5 = cutscene

	if cutscene.animation_blobs(slot4) == nil then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-7, warpins: 1 ---
		return nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-10, warpins: 2 ---
	if not self._animation_blob_controllers then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-11, warpins: 1 ---
		slot3 = {}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 12-16, warpins: 2 ---
	self._animation_blob_controllers = slot3
	local blob_controller = self._animation_blob_controllers[cutscene]

	if blob_controller == nil then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 17-18, warpins: 1 ---
		if not preloading then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 19-28, warpins: 1 ---
			slot10 = cutscene
			slot7 = "The cutscene \"" .. cutscene.name(slot9) .. "\" was not preloaded, causing a performance spike."

			Application.error(slot5, Application)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 29-38, warpins: 2 ---
		slot6 = CutScene
		slot9 = cutscene
		blob_controller = CutScene.load(slot5, cutscene.animation_blobs(slot8))
		self._animation_blob_controllers[cutscene] = blob_controller
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 39-39, warpins: 2 ---
	return blob_controller
	--- END OF BLOCK #3 ---



end
function CoreCutsceneCast:_actor_units_in_cutscene(cutscene)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if not self._spawned_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-4, warpins: 1 ---
		slot2 = {}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-12, warpins: 2 ---
	self._spawned_units = slot2
	local result = {}
	slot7 = cutscene

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 13-56, warpins: 0 ---
	for unit_name, unit_type in pairs(cutscene.controlled_unit_types(slot6)) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 13-16, warpins: 1 ---
		local unit = self._spawned_units[unit_name]

		if unit == nil then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 17-23, warpins: 1 ---
			slot13 = unit_type
			unit = self.spawn_unit(slot10, self, unit_name)
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 24-28, warpins: 1 ---
			slot11 = unit

			if not alive(slot10) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 29-42, warpins: 1 ---
				slot11 = "debug"
				slot16 = unit_type
				slot19 = cutscene

				cat_print(slot10, string.format(slot13, "[CoreCutsceneCast] Zombie Unit detected! Actor \"%s\" of unit type \"%s\" in cutscene \"%s\".", unit_name, cutscene.name(slot18)))

				unit = nil
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 43-48, warpins: 1 ---
				slot9 = assert
				slot13 = unit

				if unit.name(slot12) ~= unit_type then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 49-50, warpins: 1 ---
					slot11 = false
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 51-51, warpins: 1 ---
					slot11 = true
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 52-53, warpins: 2 ---
				slot12 = "Named unit type mismatch."

				slot9(slot10, slot11)
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 54-54, warpins: 3 ---
		result[unit_name] = unit
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 55-56, warpins: 2 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 57-57, warpins: 1 ---
	return result
	--- END OF BLOCK #3 ---



end
function CoreCutsceneCast:_root_unit()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self.__root_unit == nil then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-18, warpins: 1 ---
		slot9 = 0
		slot5 = Vector3("core/units/locator/locator", 0, 0)
		self.__root_unit = World.spawn_unit(slot2, World, Idstring(slot5), Rotation())
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 19-20, warpins: 2 ---
	return self.__root_unit
	--- END OF BLOCK #1 ---



end

return 

--- END OF BLOCK #0 ---

FLOW; TARGET BLOCK #2



-- Decompilation error in this vicinity:
--- BLOCK #1 4-5, warpins: 1 ---
slot0 = class()
--- END OF BLOCK #1 ---

FLOW; TARGET BLOCK #2



-- Decompilation error in this vicinity:
--- BLOCK #2 6-73, warpins: 2 ---
--- END OF BLOCK #2 ---



