-- Decompilation Error: _run_step(_unwarp_expressions, node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- Decompilation Error: _glue_flows(node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.

-- Decompilation error in this vicinity:
--- BLOCK #0 1-3, warpins: 1 ---
slot0 = ObjectInteractionManager or class()
ObjectInteractionManager = slot0
ObjectInteractionManager.FRAMES_TO_COMPLETE = 15
function ObjectInteractionManager:init()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-24, warpins: 1 ---
	self._interactive_units = {}
	self._interactive_count = 0
	self._update_index = 0
	self._close_units = {}
	self._close_index = 0
	self._close_freq = 1
	self._active_unit = nil
	self._active_locator = nil
	slot4 = "interaction_obstruction"
	self._slotmask_interaction_obstruction = managers.slot.get_mask(slot2, managers.slot)

	return 
	--- END OF BLOCK #0 ---



end
function ObjectInteractionManager:update(t, dt)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-9, warpins: 1 ---
	slot5 = managers.player
	local player_unit = managers.player.player_unit(slot4)

	if 0 < self._interactive_count then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-14, warpins: 1 ---
		slot6 = player_unit

		if alive(slot5) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 15-25, warpins: 1 ---
			slot6 = player_unit
			local player_pos = player_unit.movement(slot5).m_head_pos(slot5)
			slot9 = player_unit

			self._update_targeted(player_unit.movement(slot5), self, player_pos)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 26-26, warpins: 3 ---
	return 
	--- END OF BLOCK #1 ---



end
function ObjectInteractionManager:interact(player)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot4 = self._active_unit

	if alive(slot3) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-16, warpins: 1 ---
		slot4 = self._active_unit
		slot6 = self._active_locator
		local interacted, timer = self._active_unit.interaction(slot3).interact_start(slot3, self._active_unit.interaction(slot3), player)

		if timer then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 17-18, warpins: 1 ---
			self._active_object_locked_data = true
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 19-20, warpins: 2 ---
		if not interacted then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 21-22, warpins: 1 ---
			if interacted ~= nil then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 23-24, warpins: 1 ---
				slot4 = false

				if false then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 25-26, warpins: 0 ---
					slot4 = false
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 27-27, warpins: 1 ---
				slot4 = true
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 28-30, warpins: 4 ---
		return slot4, timer, self._active_unit
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 31-32, warpins: 2 ---
	return false
	--- END OF BLOCK #1 ---



end
function ObjectInteractionManager:end_action_interact(player)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	self._active_object_locked_data = nil
	slot4 = self._active_unit

	if alive(slot3) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-16, warpins: 1 ---
		slot4 = self._active_unit
		slot6 = self._active_locator

		self._active_unit.interaction(slot3).interact(slot3, self._active_unit.interaction(slot3), player)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 17-17, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function ObjectInteractionManager:interupt_action_interact()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	self._active_object_locked_data = nil

	return 
	--- END OF BLOCK #0 ---



end
function ObjectInteractionManager:active_unit()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._active_unit
	--- END OF BLOCK #0 ---



end
function ObjectInteractionManager:deactivate_unit()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	self._active_unit = nil
	self._current_dot = 0

	return 
	--- END OF BLOCK #0 ---



end
function ObjectInteractionManager:add_unit(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-21, warpins: 1 ---
	slot5 = unit

	table.insert(slot3, self._interactive_units)

	self._interactive_count = self._interactive_count + 1
	slot4 = 1
	slot7 = #self._interactive_units / self.FRAMES_TO_COMPLETE
	self._close_freq = math.max(slot3, math.floor(slot6))

	return 
	--- END OF BLOCK #0 ---



end
function ObjectInteractionManager:remove_unit(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot4 = self._interactive_units

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-48, warpins: 0 ---
	for k, v in pairs(slot3) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-6, warpins: 1 ---
		if v == unit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 7-29, warpins: 1 ---
			slot10 = k

			table.remove(slot8, self._interactive_units)

			self._interactive_count = self._interactive_count - 1
			slot9 = 1
			slot12 = #self._interactive_units / self.FRAMES_TO_COMPLETE
			self._close_freq = math.max(slot8, math.floor(slot11))

			if self._interactive_count == 0 then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 30-36, warpins: 1 ---
				self._close_units = {}
				slot9 = self._active_unit

				if alive(slot8) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 37-43, warpins: 1 ---
					slot9 = self._active_unit
					slot9 = self._active_unit.interaction(slot8)

					self._active_unit.interaction(slot8).remove_interact(slot8)
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 44-45, warpins: 2 ---
				self._active_unit = nil
				--- END OF BLOCK #1 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 46-46, warpins: 2 ---
			return 
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 47-48, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 49-49, warpins: 1 ---
	return 
	--- END OF BLOCK #2 ---



end
local mvec1 = Vector3()
local index_table = {}
function ObjectInteractionManager:_update_targeted(player_pos, player_unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	local mvec3_dis = mvector3.distance

	if 0 < #self._close_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-11, warpins: 1 ---
		slot6 = self._close_units

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 12-54, warpins: 0 ---
		for k, unit in pairs(slot5) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 12-16, warpins: 1 ---
			slot11 = unit

			if alive(slot10) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 17-24, warpins: 1 ---
				slot11 = unit
				slot11 = unit.interaction(slot10)
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 48-52, warpins: 2 ---
				slot12 = k

				table.remove(slot10, self._close_units)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 53-54, warpins: 4 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 55-58, warpins: 2 ---
	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 59-128, warpins: 0 ---
	for i = 1, self._close_freq, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 59-62, warpins: 2 ---
		if self._interactive_count <= self._close_index then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 63-65, warpins: 1 ---
			self._close_index = 1
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 66-68, warpins: 1 ---
			self._close_index = self._close_index + 1
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 69-76, warpins: 2 ---
		local unit = self._interactive_units[self._close_index]
		slot11 = unit

		if alive(slot10) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 77-81, warpins: 1 ---
			slot11 = unit

			if not unit.interaction(slot10) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 82-91, warpins: 1 ---
				slot15 = unit
				slot12 = "[ObjectInteractionManager:_update_targeted] Missing interaction for unit (possible UnitResource problem?): " .. inspect(slot14)

				Application.throw_exception(slot10, Application)
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 92-99, warpins: 1 ---
				slot11 = unit
				slot11 = unit.interaction(slot10)

				if unit.interaction(slot10).active(slot10) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 100-105, warpins: 1 ---
					slot12 = unit

					if not self._in_close_list(slot10, self) then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 106-122, warpins: 1 ---
						slot14 = unit
						slot14 = unit.interaction(slot13)
						slot12 = unit
						slot12 = unit.interaction(player_pos)

						if mvec3_dis(slot10, unit.interaction(slot13).interact_position(slot13)) <= unit.interaction(player_pos).interact_distance(player_pos) then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 123-127, warpins: 1 ---
							slot12 = unit

							table.insert(slot10, self._close_units)
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 128-128, warpins: 6 ---
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 129-132, warpins: 1 ---
	local locked = false

	if self._active_object_locked_data then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 133-137, warpins: 1 ---
		slot7 = self._active_unit
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 181-182, warpins: 5 ---
	if locked then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 183-183, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 184-187, warpins: 2 ---
	local last_active = self._active_unit
	local last_active_locator = self._active_locator

	if not last_active or not self._current_dot then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 191-191, warpins: 2 ---
		local last_dot = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 192-204, warpins: 2 ---
	slot10 = player_unit
	local blocked = player_unit.movement(slot9).object_interaction_blocked(slot9)
	slot11 = managers.player

	if managers.player.current_state(player_unit.movement(slot9)) ~= "driving" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 205-206, warpins: 1 ---
		slot9 = false
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 207-207, warpins: 1 ---
		local driving = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #6 ---

	FLOW; TARGET BLOCK #7



	-- Decompilation error in this vicinity:
	--- BLOCK #7 208-214, warpins: 2 ---
	slot12 = managers.player

	if managers.player.current_state(slot11) ~= "bipod" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 215-216, warpins: 1 ---
		slot10 = false
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 217-217, warpins: 1 ---
		local bipod_deployed = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #7 ---

	FLOW; TARGET BLOCK #8



	-- Decompilation error in this vicinity:
	--- BLOCK #8 218-222, warpins: 2 ---
	if 0 < #self._close_units and not blocked and not driving and not bipod_deployed then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 229-231, warpins: 1 ---
		local active_unit = nil

		if not last_dot then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 232-232, warpins: 1 ---
			local current_dot = 0.9
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 233-248, warpins: 2 ---
		local closest_locator = nil
		slot16 = player_unit
		local player_fwd = player_unit.camera(slot15).forward(slot15)
		slot17 = player_unit
		slot17 = player_unit.camera(player_unit.camera(slot15))
		local camera_pos = player_unit.camera(player_unit.camera(slot15)).position(player_unit.camera(slot15))

		if not self._close_test_index then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 249-249, warpins: 1 ---
			slot16 = 0
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 250-258, warpins: 2 ---
		self._close_test_index = slot16
		self._close_test_index = self._close_test_index + 1

		if #self._close_units < self._close_test_index then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 259-260, warpins: 1 ---
			self._close_test_index = 1
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 261-269, warpins: 2 ---
		slot19 = last_active
		local contains = table.contains(slot17, self._close_units)
		slot17 = pairs
		slot19 = {}

		if contains then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 270-270, warpins: 1 ---
			slot20 = last_active
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #3 ---

		FLOW; TARGET BLOCK #4



		-- Decompilation error in this vicinity:
		--- BLOCK #4 271-277, warpins: 2 ---
		slot19[1] = slot20
		slot19[2] = self._close_units[self._close_test_index]

		if not slot19 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 278-278, warpins: 1 ---
			slot19 = self._close_units
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #4 ---

		FLOW; TARGET BLOCK #5



		-- Decompilation error in this vicinity:
		--- BLOCK #5 279-280, warpins: 2 ---
		--- END OF BLOCK #5 ---

		FLOW; TARGET BLOCK #6



		-- Decompilation error in this vicinity:
		--- BLOCK #6 281-534, warpins: 0 ---
		for _, unit in slot17(slot18) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 281-285, warpins: 1 ---
			slot24 = unit

			if alive(slot23) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 286-293, warpins: 1 ---
				slot24 = unit
				slot24 = unit.interaction(slot23)

				if unit.interaction(slot23).ray_objects(slot23) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 294-298, warpins: 1 ---
					slot24 = unit
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 432-440, warpins: 2 ---
					slot24 = unit
					slot25 = player_unit

					if unit.interaction(slot23).can_select(slot23, unit.interaction(slot23)) then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 441-466, warpins: 1 ---
						slot24 = mvec1
						slot27 = unit
						slot27 = unit.interaction(slot26)

						mvector3.set(slot23, unit.interaction(slot26).interact_position(slot26))

						slot25 = camera_pos

						mvector3.subtract(slot23, mvec1)

						slot24 = mvec1

						mvector3.normalize(slot23)

						slot25 = mvec1
						local dot = mvector3.dot(slot23, player_fwd)
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 533-534, warpins: 13 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #6 ---

		FLOW; TARGET BLOCK #7



		-- Decompilation error in this vicinity:
		--- BLOCK #7 535-536, warpins: 1 ---
		if active_unit and self._active_unit ~= active_unit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 540-544, warpins: 1 ---
			slot19 = self._active_unit

			if alive(slot18) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 545-551, warpins: 1 ---
				slot19 = self._active_unit
				slot19 = self._active_unit.interaction(slot18)

				self._active_unit.interaction(slot18).unselect(slot18)
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 552-561, warpins: 2 ---
			slot19 = active_unit
			slot21 = self._active_locator

			if not active_unit.interaction(slot18).selected(slot18, active_unit.interaction(slot18), player_unit) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 562-562, warpins: 1 ---
				active_unit = nil
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 563-567, warpins: 2 ---
			slot20 = last_active

			self._hide_bracket_indicator(slot18, self)
			--- END OF BLOCK #2 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 568-570, warpins: 2 ---
			if self._active_locator and self._active_locator ~= last_active_locator then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 574-591, warpins: 1 ---
				slot19 = self._active_unit
				slot19 = self._active_unit.interaction(slot18)

				self._active_unit.interaction(slot18).unselect(slot18)

				slot19 = self._active_unit
				slot21 = self._active_locator

				if not self._active_unit.interaction(slot18).selected(slot18, self._active_unit.interaction(slot18), player_unit) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 592-594, warpins: 1 ---
					active_unit = nil
					self._active_locator = nil
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 595-599, warpins: 2 ---
				slot20 = active_unit

				self._hide_bracket_indicator(slot18, self)
				--- END OF BLOCK #1 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 600-604, warpins: 2 ---
				slot19 = self._active_unit

				if alive(slot18) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 605-613, warpins: 1 ---
					slot19 = self._active_unit
					slot19 = self._active_unit.interaction(slot18)

					if self._active_unit.interaction(slot18).dirty(slot18) then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 614-639, warpins: 1 ---
						slot19 = self._active_unit
						slot20 = false

						self._active_unit.interaction(slot18).set_dirty(slot18, self._active_unit.interaction(slot18))

						slot19 = self._active_unit
						slot19 = self._active_unit.interaction(slot18)

						self._active_unit.interaction(slot18).unselect(slot18)

						slot19 = self._active_unit
						slot21 = self._active_locator

						if not self._active_unit.interaction(slot18).selected(slot18, self._active_unit.interaction(slot18), player_unit) then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 640-640, warpins: 1 ---
							active_unit = nil
							--- END OF BLOCK #0 ---



						end

						--- END OF BLOCK #0 ---

						FLOW; TARGET BLOCK #1



						-- Decompilation error in this vicinity:
						--- BLOCK #1 641-644, warpins: 2 ---
						slot20 = active_unit

						self._hide_bracket_indicator(slot18, self)
						--- END OF BLOCK #1 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #7 ---

		FLOW; TARGET BLOCK #8



		-- Decompilation error in this vicinity:
		--- BLOCK #8 645-647, warpins: 5 ---
		self._active_unit = active_unit
		self._current_dot = current_dot
		--- END OF BLOCK #8 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 648-653, warpins: 4 ---
		self._active_unit = nil
		slot14 = self._active_unit

		self._hide_bracket_indicator(slot12, self)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #8 ---

	FLOW; TARGET BLOCK #9



	-- Decompilation error in this vicinity:
	--- BLOCK #9 654-658, warpins: 2 ---
	slot13 = last_active

	if alive(slot12) and not self._active_unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 662-673, warpins: 1 ---
		self._active_unit = nil
		slot13 = last_active
		slot13 = last_active.interaction(slot12)

		last_active.interaction(slot12).unselect(slot12)

		slot14 = last_active

		self._hide_bracket_indicator(slot12, self)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #9 ---

	FLOW; TARGET BLOCK #10



	-- Decompilation error in this vicinity:
	--- BLOCK #10 674-674, warpins: 3 ---
	return 
	--- END OF BLOCK #10 ---



end
function ObjectInteractionManager:_hide_bracket_indicator(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-7, warpins: 1 ---
		slot4 = unit

		if alive(slot3) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 8-15, warpins: 1 ---
			slot4 = unit
			slot7 = "g_bracket"
			local bracket_locator = unit.get_object(slot3, Idstring(slot6))

			if bracket_locator then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 16-20, warpins: 1 ---
				slot5 = unit

				if unit.damage(slot4) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 21-29, warpins: 1 ---
					slot5 = unit
					slot6 = "hide_bracket"

					if unit.damage(slot4).has_sequence(slot4, unit.damage(slot4)) then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 30-36, warpins: 1 ---
						slot5 = unit
						slot6 = "hide_bracket"

						unit.damage(slot4).run_sequence_simple(slot4, unit.damage(slot4))
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 37-37, warpins: 6 ---
	return 
	--- END OF BLOCK #1 ---



end
local m_obj_pos = Vector3()
function ObjectInteractionManager:_raycheck_ok(unit, camera_pos, locator)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if locator then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-18, warpins: 1 ---
		slot10 = locator
		slot14 = "report"
		local obstructed = World.raycast(slot5, World, "ray", locator.position(slot9), camera_pos, "ray_type", "bag body", "slot_mask", self._slotmask_interaction_obstruction)

		if not obstructed then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 19-21, warpins: 1 ---
			return true
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 22-29, warpins: 1 ---
		slot6 = unit
		slot6 = unit.interaction(slot5)
		local check_objects = unit.interaction(slot5).ray_objects(slot5)

		if not check_objects then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 30-31, warpins: 1 ---
			return true
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 32-35, warpins: 2 ---
		slot7 = check_objects

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 36-80, warpins: 0 ---
		for _, object in ipairs(slot6) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 36-48, warpins: 1 ---
			slot13 = m_obj_pos

			object.m_position(slot11, object)

			local obstructed = false
			slot13 = unit
			slot13 = unit.interaction(object)

			if unit.interaction(object).self_blocking(object) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 49-62, warpins: 1 ---
				slot21 = "report"
				obstructed = World.raycast(slot12, World, "ray", m_obj_pos, camera_pos, "ray_type", "bag body", "slot_mask", self._slotmask_interaction_obstruction)
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 63-74, warpins: 1 ---
				slot21 = "report"
				obstructed = unit.raycast(slot12, unit, "ray", m_obj_pos, camera_pos, "ray_type", "bag body", "slot_mask", self._slotmask_interaction_obstruction)
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 75-76, warpins: 2 ---
			if not obstructed then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 77-78, warpins: 1 ---
				return true
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 79-80, warpins: 3 ---
			--- END OF BLOCK #2 ---



		end
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 81-82, warpins: 3 ---
	return false
	--- END OF BLOCK #1 ---



end
function ObjectInteractionManager:_in_close_list(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	if 0 < #self._close_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-9, warpins: 1 ---
		slot4 = self._close_units

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 10-15, warpins: 0 ---
		for k, v in pairs(slot3) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 10-11, warpins: 1 ---
			if v == unit then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 12-13, warpins: 1 ---
				return true
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 14-15, warpins: 3 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 16-17, warpins: 2 ---
	return false
	--- END OF BLOCK #1 ---



end

return 

--- END OF BLOCK #0 ---

FLOW; TARGET BLOCK #2



-- Decompilation error in this vicinity:
--- BLOCK #1 4-5, warpins: 1 ---
slot0 = class()
--- END OF BLOCK #1 ---

FLOW; TARGET BLOCK #2



-- Decompilation error in this vicinity:
--- BLOCK #2 6-55, warpins: 2 ---
--- END OF BLOCK #2 ---



