-- Decompilation Error: _run_step(_unwarp_expressions, node)

-- Decompilation Error: _glue_flows(node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.

-- Decompilation error in this vicinity:
--- BLOCK #0 1-3, warpins: 1 ---
slot0 = WarcryManager or class()
WarcryManager = slot0
WarcryManager.WARCRY_READY_MESSAGE_DURATION = 6
WarcryManager.CLASS_TO_WARCRY = {
	recon = "sharpshooter",
	demolitions = "clustertruck",
	assault = "berserk",
	infiltrator = "ghost"
}
WarcryManager.get_instance = function ()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	if not Global.warcry_manager then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-10, warpins: 1 ---
		slot3 = WarcryManager
		Global.warcry_manager = WarcryManager.new(slot2)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 11-23, warpins: 2 ---
	slot3 = WarcryManager

	setmetatable(slot1, Global.warcry_manager)

	slot2 = Global.warcry_manager

	Global.warcry_manager._setup(slot1)

	return Global.warcry_manager
	--- END OF BLOCK #1 ---



end
WarcryManager.init = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-17, warpins: 1 ---
	self._meter_value = 0
	self._meter_max_value = 1
	self._warcries = {}
	self._active_warcry = nil
	slot3 = "warcry"
	self._ids_warcry_post_processor = Idstring(slot2)
	slot3 = "warcry"
	self._ids_warcry_modifier = Idstring(slot2)

	return 
	--- END OF BLOCK #0 ---



end
WarcryManager._setup = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	slot3 = self

	self.reset(slot2)

	if self._active_warcry then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-20, warpins: 1 ---
		slot4 = {
			name = self._active_warcry.get_type(slot6),
			level = self._active_warcry.get_level(slot6)
		}
		slot7 = self._active_warcry
		slot7 = self._active_warcry

		self.set_active_warcry(slot2, self)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 21-21, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
WarcryManager.set_warcry_post_effect = function (self, ids_effect)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	slot4 = managers.viewport
	local vp = managers.viewport.first_active_viewport(slot3)

	if vp then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-16, warpins: 1 ---
		slot5 = vp
		slot8 = ids_effect

		vp.vp(slot4).set_post_processor_effect(slot4, vp.vp(slot4), "World", self._ids_warcry_post_processor)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 17-17, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
WarcryManager.warcry_post_material = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	slot3 = managers.viewport
	local vp = managers.viewport.first_active_viewport(slot2)

	if vp then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-17, warpins: 1 ---
		slot4 = vp
		slot6 = self._ids_warcry_post_processor
		local warcry_pp = vp.vp(slot3).get_post_processor_effect(slot3, vp.vp(slot3), "World")

		if warcry_pp then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 18-23, warpins: 1 ---
			slot6 = self._ids_warcry_modifier
			local warcry_mod = warcry_pp.modifier(slot4, warcry_pp)

			if warcry_mod then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 24-26, warpins: 1 ---
				slot6 = warcry_mod

				return warcry_mod.material(slot5)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 27-27, warpins: 4 ---
	return 
	--- END OF BLOCK #1 ---



end
WarcryManager.acquire_warcry = function (self, warcry_name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	slot5 = warcry_name

	if self.warcry_acquired(slot3, self) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-7, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-10, warpins: 2 ---
	if self._active_warcry then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-13, warpins: 1 ---
		slot4 = self

		self.deactivate_warcry(slot3)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 14-25, warpins: 2 ---
	local warcry = {
		level = 1
	}
	warcry.name = warcry_name
	slot6 = warcry

	table.insert(slot4, self._warcries)

	slot6 = warcry

	self.set_active_warcry(slot4, self)

	return 
	--- END OF BLOCK #2 ---



end
WarcryManager.set_active_warcry = function (self, warcry)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._active_warcry then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-9, warpins: 1 ---
		slot4 = self._active_warcry

		self._active_warcry.cleanup(slot3)

		self._active_warcry = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 10-25, warpins: 2 ---
	slot4 = warcry.name
	self._active_warcry = Warcry.create(slot3)
	slot5 = warcry.level

	self._active_warcry.set_level(slot3, self._active_warcry)

	self._active_warcry_name = warcry.name

	if managers.hud then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 26-31, warpins: 1 ---
		slot5 = warcry.name

		managers.hud.set_player_active_warcry(slot3, managers.hud)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 32-32, warpins: 2 ---
	return 
	--- END OF BLOCK #2 ---



end
WarcryManager.get_active_warcry = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._active_warcry
	--- END OF BLOCK #0 ---



end
WarcryManager.get_active_warcry_name = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._active_warcry_name
	--- END OF BLOCK #0 ---



end
WarcryManager.increase_warcry_level = function (self, warcry_name, amount)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if not amount then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-3, warpins: 1 ---
		local increase_amount = 1
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 4-5, warpins: 2 ---
	if not warcry_name and self._active_warcry then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-14, warpins: 1 ---
		slot6 = self._active_warcry
		warcry_name = self._active_warcry.get_type(slot5)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 15-16, warpins: 2 ---
		if not warcry_name and not self._active_warcry then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 20-20, warpins: 1 ---
			return 
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 21-23, warpins: 4 ---
	if self._active_warcry then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 24-29, warpins: 1 ---
		slot6 = self._active_warcry

		if warcry_name == self._active_warcry.get_type(slot5) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 30-38, warpins: 1 ---
			local current_level = self._active_warcry.get_level(slot5)
			slot8 = current_level + increase_amount

			self._active_warcry.set_level(self._active_warcry, self._active_warcry)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 39-43, warpins: 3 ---
	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 44-56, warpins: 0 ---
	for i = 1, #self._warcries, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 44-48, warpins: 2 ---
		if self._warcries[i].name == warcry_name then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 49-55, warpins: 1 ---
			self._warcries[i].level = self._warcries[i].level + increase_amount
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 56-56, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 57-57, warpins: 1 ---
	return 
	--- END OF BLOCK #5 ---



end
WarcryManager.warcry_acquired = function (self, warcry_name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-13, warpins: 0 ---
	for i = 1, #self._warcries, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-10, warpins: 2 ---
		if self._warcries[i].name == warcry_name then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 11-12, warpins: 1 ---
			return true
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 13-13, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 14-15, warpins: 1 ---
	return false
	--- END OF BLOCK #2 ---



end
WarcryManager.activate_peer_warcry = function (self, peer_id, warcry_type, level)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	self._peer_warcries[peer_id] = {}
	self._peer_warcries[peer_id].type = warcry_type
	self._peer_warcries[peer_id].level = level

	return 
	--- END OF BLOCK #0 ---



end
WarcryManager.deactivate_peer_warcry = function (self, peer_id)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	self._peer_warcries[peer_id] = nil

	return 
	--- END OF BLOCK #0 ---



end
WarcryManager.activate_warcry = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if not self._active_warcry then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-4, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-29, warpins: 2 ---
	slot4 = "warcry"

	managers.hud.remove_comm_wheel_option(slot2, managers.hud)

	slot4 = "warcry_ready"

	managers.hud.hide_big_prompt(slot2, managers.hud)

	slot3 = self._active_warcry

	self._active_warcry.activate(slot2)

	slot4 = BuffEffectManager.EFFECT_PLAYERS_CANT_USE_WARCRIES

	if managers.buff_effect.is_effect_active(slot2, managers.buff_effect) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 30-47, warpins: 1 ---
		slot4 = BuffEffectManager.EFFECT_PLAYERS_CANT_USE_WARCRIES
		slot7 = managers.network
		slot7 = managers.network.session(slot6)
		slot7 = managers.network.session(slot6).local_peer(slot6)

		managers.buff_effect.fail_effect(slot2, managers.buff_effect, managers.network.session(slot6).local_peer(slot6).id(slot6))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 48-133, warpins: 2 ---
	slot3 = self._active_warcry
	self._duration = self._active_warcry.duration(slot2)
	self._remaining = self._duration
	self._active = true
	local warcry_type = self._active_warcry.get_type(slot2)
	local warcry_level = self._active_warcry.get_level(self._active_warcry)
	slot5 = managers.network

	managers.network.session(self._active_warcry).send_to_peers_synched(self._active_warcry, managers.network.session(self._active_warcry), "sync_activate_warcry", warcry_type, warcry_level)

	local warcry_switch = managers.hud._sound_source
	slot7 = "warcry_switch"
	slot13 = warcry_type
	slot10 = "warcry_" .. tostring(slot12)

	warcry_switch.set_switch(managers.network.session(self._active_warcry), warcry_switch, tostring(self._duration))

	slot7 = "warcry_level"
	slot13 = warcry_level
	slot10 = "warcry_level_" .. tostring(warcry_type)

	warcry_switch.set_switch(managers.network.session(self._active_warcry), warcry_switch, tostring(self._duration))

	slot7 = "warcry_active"

	managers.hud._sound_source.post_event(managers.network.session(self._active_warcry), managers.hud._sound_source)

	slot12 = warcry_type
	slot9 = "warcry_" .. tostring(tostring(warcry_type))
	slot8 = {
		skip_idle_check = true,
		instigator = managers.player.local_player(tostring(tostring(warcry_type)))
	}
	slot11 = managers.player

	managers.dialog.queue_dialog(managers.network.session(self._active_warcry), managers.dialog, tostring(tostring))

	slot6 = Network

	if Network.is_server(managers.network.session(self._active_warcry)) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 134-147, warpins: 1 ---
		slot9 = managers.network
		slot9 = managers.network.session(slot8)
		slot9 = warcry_level

		self.activate_peer_warcry(slot5, self, managers.network.session(slot8).local_peer(slot8)._id, warcry_type)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 148-148, warpins: 2 ---
	return 
	--- END OF BLOCK #3 ---



end
WarcryManager.deactivate_warcry = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-12, warpins: 1 ---
	slot5 = true

	self._fill_meter_by_value(slot2, self, -self._meter_value)

	self._meter_full = false

	if managers.hud then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 13-17, warpins: 1 ---
		slot3 = managers.hud

		managers.hud.deactivate_player_warcry(slot2)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 18-20, warpins: 2 ---
	if not self._active then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 21-21, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 22-25, warpins: 2 ---
	slot3 = self

	self._deactivate_warcry(slot2)

	return 
	--- END OF BLOCK #2 ---



end
WarcryManager.fill_meter_by_value = function (self, value, sync)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-9, warpins: 1 ---
	slot6 = BuffEffectManager.EFFECT_WARCRIES_DISABLED

	if managers.buff_effect.is_effect_active(slot4, managers.buff_effect) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-10, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 11-13, warpins: 2 ---
	if self._active then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 14-14, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 15-20, warpins: 2 ---
	slot7 = sync

	self._fill_meter_by_value(slot4, self, value)

	return 
	--- END OF BLOCK #2 ---



end
WarcryManager._fill_meter_by_value = function (self, value, sync)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	self._meter_value = self._meter_value + value

	if self._meter_max_value <= self._meter_value then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-12, warpins: 1 ---
		self._meter_value = self._meter_max_value

		if not self._meter_full then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 13-15, warpins: 1 ---
			slot5 = self

			self._on_meter_full(slot4)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 16-19, warpins: 3 ---
	if self._meter_value < 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 20-21, warpins: 1 ---
		self._meter_value = 0
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 22-25, warpins: 2 ---
	if managers.hud then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 26-37, warpins: 1 ---
		slot6 = {
			current = self._meter_value,
			total = self._meter_max_value
		}

		managers.hud.set_player_warcry_meter_fill(slot4, managers.hud)

		if sync then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 38-44, warpins: 1 ---
			slot5 = managers.network

			if managers.network.session(slot4) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 45-57, warpins: 1 ---
				slot5 = managers.network
				slot7 = self._meter_value / self._meter_max_value * 100

				managers.network.session(slot4).send_to_peers_synched(slot4, managers.network.session(slot4), "sync_warcry_meter_fill_percentage")
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 58-58, warpins: 4 ---
	return 
	--- END OF BLOCK #3 ---



end
WarcryManager.add_warcry_comm_wheel_option = function (self, index)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-27, warpins: 1 ---
	local warcry_comm_wheel_option = {
		id = "warcry",
		text_id = "com_wheel_warcry"
	}
	slot6 = self._active_warcry
	slot4 = self._active_warcry.get_type(slot5)
	warcry_comm_wheel_option.icon = tweak_data.warcry[slot4].hud_icon
	warcry_comm_wheel_option.color = Color.white
	slot7 = "activate_warcry"
	warcry_comm_wheel_option.clbk = callback(slot4, self, self)
	slot7 = index

	managers.hud.add_comm_wheel_option(slot4, managers.hud, warcry_comm_wheel_option)

	return 
	--- END OF BLOCK #0 ---



end
WarcryManager.current_meter_percentage = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	return self._meter_value / self._meter_max_value * 100
	--- END OF BLOCK #0 ---



end
WarcryManager._on_meter_full = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-37, warpins: 1 ---
	self._meter_full = true
	slot4 = true

	managers.hud.set_player_warcry_meter_glow(slot2, managers.hud)

	slot3 = managers.network
	slot5 = true

	managers.network.session(slot2).send_to_peers_synched(slot2, managers.network.session(slot2), "sync_warcry_meter_glow")

	slot4 = "warcry_available"

	managers.hud._sound_source.post_event(slot2, managers.hud._sound_source)

	slot4 = 1

	self.add_warcry_comm_wheel_option(slot2, self)

	local prompt_text = nil
	slot4 = managers.controller

	if managers.controller.is_using_controller(self) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 38-64, warpins: 1 ---
		slot8 = {
			BTN_USE_ITEM = managers.localization.get_default_macros(slot10).BTN_TOP_L .. " + " .. managers.localization.get_default_macros(slot12).BTN_TOP_R
		}
		slot11 = managers.localization
		slot13 = managers.localization
		prompt_text = utf8.to_upper(managers.localization.text(slot5, managers.localization, "hud_interact_warcry_ready"))
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 65-82, warpins: 1 ---
		slot8 = {
			BTN_USE_ITEM = managers.localization.btn_macro(slot10, managers.localization)
		}
		slot12 = "activate_warcry"
		prompt_text = utf8.to_upper(managers.localization.text(slot5, managers.localization, "hud_interact_warcry_ready"))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 83-104, warpins: 2 ---
	local interact_data = {
		id = "warcry_ready"
	}
	interact_data.text = prompt_text
	interact_data.duration = WarcryManager.WARCRY_READY_MESSAGE_DURATION
	slot6 = {
		background = "backgrounds_warcry_msg",
		id = interact_data.id,
		text = interact_data.text,
		duration = interact_data.duration,
		text_color = Color(slot8)
	}
	slot9 = "dd9a38"

	managers.hud.set_big_prompt(slot4, managers.hud)

	return 
	--- END OF BLOCK #1 ---



end
WarcryManager._deactivate_warcry = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._active_warcry then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-7, warpins: 1 ---
		slot3 = self._active_warcry

		self._active_warcry.deactivate(slot2)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-19, warpins: 2 ---
	self._duration = nil
	self._active = false
	self._meter_full = false
	self._last_value = nil

	if managers.hud then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 20-24, warpins: 1 ---
		slot3 = managers.hud

		managers.hud.deactivate_player_warcry(slot2)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 25-28, warpins: 2 ---
	if managers.network then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 29-53, warpins: 1 ---
		slot3 = managers.network
		slot5 = false

		managers.network.session(slot2).send_to_peers_synched(slot2, managers.network.session(slot2), "sync_warcry_meter_glow")

		slot3 = managers.network
		slot4 = "sync_deactivate_warcry"

		managers.network.session(slot2).send_to_peers_synched(slot2, managers.network.session(slot2))

		slot3 = Network

		if Network.is_server(slot2) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 54-65, warpins: 1 ---
			slot6 = managers.network
			slot6 = managers.network.session(slot5)
			slot4 = managers.network.session(slot5).local_peer(slot5)._id

			self.deactivate_peer_warcry(slot2, self)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 66-66, warpins: 3 ---
	return 
	--- END OF BLOCK #3 ---



end
WarcryManager.update = function (self, t, dt)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if not self._active then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-4, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-7, warpins: 2 ---
	if not self._last_value then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-9, warpins: 1 ---
		self._last_value = self._meter_value
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 10-32, warpins: 2 ---
	slot6 = dt

	self._active_warcry.update(slot4, self._active_warcry)

	self._remaining = self._remaining - dt
	local diff = self._remaining / self._duration - self._last_value
	slot7 = diff

	self._fill_meter_by_value(self._active_warcry, self)

	self._last_value = self._meter_value

	if self._meter_value <= 0 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 33-35, warpins: 1 ---
		slot6 = self

		self._deactivate_warcry(slot5)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 36-36, warpins: 2 ---
	return 
	--- END OF BLOCK #3 ---



end
WarcryManager.remaining = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._remaining
	--- END OF BLOCK #0 ---



end
WarcryManager.duration = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._duration
	--- END OF BLOCK #0 ---



end
WarcryManager.active = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._active
	--- END OF BLOCK #0 ---



end
WarcryManager.current_meter_value = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._meter_value
	--- END OF BLOCK #0 ---



end
WarcryManager.meter_full = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._meter_full
	--- END OF BLOCK #0 ---



end
WarcryManager.reset = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._active_warcry then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-23, warpins: 1 ---
		self._fill_meter_by_value(slot2, self, -self._meter_value)

		slot3 = self._active_warcry
		slot6 = self._active_warcry_name

		setmetatable(slot2, Warcry.get_metatable(true))

		slot3 = self

		self.deactivate_warcry(slot2)

		slot3 = self._active_warcry

		self._active_warcry.cleanup(slot2)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 24-35, warpins: 2 ---
	self._meter_value = 0
	self._meter_max_value = 1
	self._remaining = nil
	self._peer_warcries = {}

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 36-39, warpins: 0 ---
	for i = 1, 4, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 36-39, warpins: 2 ---
		self._peer_warcries[i] = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 40-40, warpins: 1 ---
	return 
	--- END OF BLOCK #3 ---



end
WarcryManager.clear_active_warcry = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._active_warcry then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-23, warpins: 1 ---
		self._fill_meter_by_value(slot2, self, -self._meter_value)

		slot3 = self._active_warcry
		slot6 = self._active_warcry_name

		setmetatable(slot2, Warcry.get_metatable(true))

		slot3 = self

		self.deactivate_warcry(slot2)

		slot3 = self._active_warcry

		self._active_warcry.cleanup(slot2)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 24-28, warpins: 2 ---
	self._warcries = {}
	self._active_warcry = nil

	return 
	--- END OF BLOCK #1 ---



end
WarcryManager.peer_warcry_upgrade_value = function (self, peer_id, upgrade_category, upgrade_definition_name, default_value)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	local peer_warcry = self._peer_warcries[peer_id]

	if peer_warcry then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-14, warpins: 1 ---
		local buffs = nil

		if #tweak_data.warcry[peer_warcry.type].buffs < peer_warcry.level then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 15-27, warpins: 1 ---
			buffs = tweak_data.warcry[peer_warcry.type].buffs[#tweak_data.warcry[peer_warcry.type].buffs]
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 28-34, warpins: 1 ---
			buffs = tweak_data.warcry[peer_warcry.type].buffs[peer_warcry.level]
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 35-38, warpins: 2 ---
		slot9 = buffs

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 39-76, warpins: 0 ---
		for index, buff in pairs(slot8) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 39-46, warpins: 1 ---
			local upgrade_definition = tweak_data.upgrades.definitions[buff]

			if upgrade_definition.upgrade.upgrade == upgrade_definition_name then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 47-56, warpins: 1 ---
				local upgrade_name = upgrade_definition.upgrade.upgrade
				local upgrade_level = upgrade_definition.upgrade.value
				local upgrade_category_table = nil
				slot18 = upgrade_category

				if type(slot17) == "table" then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 57-63, warpins: 1 ---
					upgrade_category_table = tweak_data.upgrades.values

					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 64-66, warpins: 0 ---
					for j = 1, #upgrade_category, 1 do

						-- Decompilation error in this vicinity:
						--- BLOCK #0 64-66, warpins: 2 ---
						upgrade_category_table = upgrade_category_table[upgrade_category[j]]
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #1 ---

					FLOW; TARGET BLOCK #2



					-- Decompilation error in this vicinity:
					--- BLOCK #2 67-67, warpins: 1 ---
					--- END OF BLOCK #2 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 68-71, warpins: 1 ---
					upgrade_category_table = tweak_data.upgrades.values[upgrade_category]
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 72-74, warpins: 2 ---
				return upgrade_category_table[upgrade_name][upgrade_level]
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 75-76, warpins: 3 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 77-77, warpins: 2 ---
	return default_value
	--- END OF BLOCK #1 ---



end
WarcryManager.save = function (self, data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._warcries then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-9, warpins: 1 ---
		local manager_data = {}
		manager_data.warcries = self._warcries
		manager_data.active_warcry = self._active_warcry
		data.warcry_manager = manager_data
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 10-10, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
WarcryManager.load = function (self, data, version)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if data.warcry_manager and data.warcry_manager.warcries then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-28, warpins: 1 ---
		slot5 = self

		self.reset(slot4)

		slot5 = self

		self.clear_active_warcry(slot4)

		self._meter_value = 0
		self._meter_max_value = 1
		self._warcries = {}
		self._active_warcry = nil
		self._warcries = data.warcry_manager.warcries

		if data.warcry_manager.active_warcry then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 29-41, warpins: 1 ---
			slot6 = {
				level = data.warcry_manager.active_warcry._level,
				name = data.warcry_manager.active_warcry._type
			}

			self.set_active_warcry(slot4, self)
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 42-48, warpins: 1 ---
			slot6 = self._warcries[#self._warcries]

			self.set_active_warcry(slot4, self)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 49-49, warpins: 4 ---
	return 
	--- END OF BLOCK #1 ---



end
WarcryManager.on_simulation_ended = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	self._meter_value = 0

	return 
	--- END OF BLOCK #0 ---



end
WarcryManager.on_mission_end_callback = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	slot3 = self

	self._deactivate_warcry(slot2)

	slot5 = true

	self._fill_meter_by_value(slot2, self, -self._meter_value)

	return 
	--- END OF BLOCK #0 ---



end

return 

--- END OF BLOCK #0 ---

FLOW; TARGET BLOCK #2



-- Decompilation error in this vicinity:
--- BLOCK #1 4-5, warpins: 1 ---
slot0 = class()
--- END OF BLOCK #1 ---

FLOW; TARGET BLOCK #2



-- Decompilation error in this vicinity:
--- BLOCK #2 6-115, warpins: 2 ---
--- END OF BLOCK #2 ---



