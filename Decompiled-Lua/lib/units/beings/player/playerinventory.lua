-- Decompilation Error: _run_step(_unwarp_expressions, node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- Decompilation Error: _glue_flows(node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.

-- Decompilation error in this vicinity:
--- BLOCK #0 1-3, warpins: 1 ---
slot0 = PlayerInventory or class()
PlayerInventory = slot0
PlayerInventory._all_event_types = {
	"add",
	"equip",
	"unequip"
}
PlayerInventory.SLOT_1 = 1
PlayerInventory.SLOT_2 = 2
PlayerInventory.SLOT_3 = 3
PlayerInventory.SLOT_4 = 4
PlayerInventory.SEND_WEAPON_TYPE_PLAYER_PRIMARY_SECONDARY = "send_type_player_primary_secondary"
PlayerInventory.SEND_WEAPON_TYPE_PLAYER_MELEE_GRENADE = "send_type_player_melee_grenade"
PlayerInventory.SEND_WEAPON_TYPE_TEAMAI_COPS = "send_type_teamai_cops"
PlayerInventory.init = function (self, unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-47, warpins: 1 ---
	self._unit = unit
	self._available_selections = {}
	self._equipped_selection = nil
	self._latest_addition = nil
	self._selected_primary = nil
	self._use_data_alias = "player"
	self._align_places = {}
	slot6 = "a_weapon_right"
	self._align_places.right_hand = {
		on_body = false,
		obj3d_name = Idstring(slot5)
	}
	self._align_places.left_hand = {
		on_body = false,
		obj3d_name = Idstring(slot5)
	}
	slot7 = unit
	self._listener_id = "PlayerInventory" .. tostring(unit.key("a_weapon_left"))
	slot4 = EventListenerHolder
	self._listener_holder = EventListenerHolder.new(tostring(unit.key("a_weapon_left")))
	self._mask_unit = nil
	self._melee_weapon_unit = nil
	self._melee_weapon_unit_name = nil

	return 
	--- END OF BLOCK #0 ---



end
PlayerInventory.pre_destroy = function (self, unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._weapon_add_clbk then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-11, warpins: 1 ---
		slot5 = self._weapon_add_clbk

		managers.enemy.remove_delayed_clbk(slot3, managers.enemy)

		self._weapon_add_clbk = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 12-15, warpins: 2 ---
	slot4 = self

	self.destroy_all_items(slot3)

	return 
	--- END OF BLOCK #1 ---



end
PlayerInventory.destroy_all_items = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot3 = self._available_selections

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-42, warpins: 0 ---
	for i_sel, selection_data in pairs(slot2) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-7, warpins: 1 ---
		if selection_data.unit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 8-13, warpins: 1 ---
			slot8 = selection_data.unit
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 32-40, warpins: 2 ---
			slot10 = selection_data.unit
			slot13 = selection_data.unit

			debug_pause_unit(slot7, self._unit, "[PlayerInventory:destroy_all_items] broken inventory unit", selection_data.unit.base(slot12))
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 41-42, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 43-51, warpins: 1 ---
	self._equipped_selection = nil
	self._available_selections = {}
	slot3 = self._mask_unit

	if alive(slot2) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 52-58, warpins: 1 ---
		slot5 = self._mask_unit

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 59-68, warpins: 0 ---
		for _, linked_unit in ipairs(self._mask_unit.children(slot4)) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 59-66, warpins: 1 ---
			slot8 = linked_unit

			linked_unit.unlink(slot7)

			slot9 = linked_unit

			World.delete_unit(slot7, World)
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 67-68, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 69-75, warpins: 1 ---
		slot4 = self._mask_unit

		World.delete_unit(slot2, World)

		self._mask_unit = nil
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 76-78, warpins: 2 ---
	if self._melee_weapon_unit_name then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 79-92, warpins: 1 ---
		slot6 = "unit"
		slot7 = false

		managers.dyn_resource.unload(slot2, managers.dyn_resource, Idstring(slot5), self._melee_weapon_unit_name, DynamicResourceManager.DYN_RESOURCES_PACKAGE)

		self._melee_weapon_unit_name = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 93-93, warpins: 2 ---
	return 
	--- END OF BLOCK #4 ---



end
PlayerInventory.equipped_selection = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._equipped_selection
	--- END OF BLOCK #0 ---



end
PlayerInventory.equipped_unit = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._equipped_selection then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-7, warpins: 1 ---
		slot1 = self._available_selections[self._equipped_selection].unit
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-8, warpins: 2 ---
	return slot1
	--- END OF BLOCK #1 ---



end
PlayerInventory.unit_by_selection = function (self, selection)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	if self._available_selections[selection] then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-7, warpins: 1 ---
		slot2 = self._available_selections[selection].unit
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-8, warpins: 2 ---
	return slot2
	--- END OF BLOCK #1 ---



end
PlayerInventory.is_selection_available = function (self, selection_index)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	if self._available_selections[selection_index] then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-6, warpins: 1 ---
		slot2 = true
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-7, warpins: 1 ---
		slot2 = false
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-8, warpins: 2 ---
	return slot2
	--- END OF BLOCK #1 ---



end
PlayerInventory.add_unit = function (self, new_unit, is_equip, equip_is_instant)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-27, warpins: 1 ---
	local new_selection = {}
	slot7 = new_unit
	slot8 = self._use_data_alias
	local use_data = new_unit.base(slot6).get_use_data(slot6, new_unit.base(slot6))
	new_selection.use_data = use_data
	new_selection.unit = new_unit
	slot8 = new_unit
	slot9 = self._listener_id
	slot14 = "clbk_weapon_unit_destroyed"

	new_unit.base(new_unit.base(slot6)).add_destroy_listener(new_unit.base(slot6), new_unit.base(new_unit.base(slot6)), callback(slot11, self, self))

	local selection_index = use_data.selection_index

	if self._available_selections[selection_index] then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 28-32, warpins: 1 ---
		local old_weapon_unit = self._available_selections[selection_index].unit

		if not is_equip then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 33-37, warpins: 1 ---
			slot10 = self

			if old_weapon_unit ~= self.equipped_unit(slot9) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 38-39, warpins: 1 ---
				is_equip = false
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 40-40, warpins: 1 ---
				is_equip = true
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 41-63, warpins: 3 ---
		slot10 = old_weapon_unit
		slot11 = self._listener_id

		old_weapon_unit.base(slot9).remove_destroy_listener(slot9, old_weapon_unit.base(slot9))

		slot10 = old_weapon_unit
		slot12 = 0

		old_weapon_unit.base(slot9).set_slot(slot9, old_weapon_unit.base(slot9), old_weapon_unit)

		slot11 = old_weapon_unit

		World.delete_unit(slot9, World)

		if self._equipped_selection == selection_index then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 64-65, warpins: 1 ---
			self._equipped_selection = nil
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 66-71, warpins: 3 ---
	self._available_selections[selection_index] = new_selection
	self._latest_addition = selection_index

	if not self._selected_primary then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 72-72, warpins: 1 ---
		slot7 = selection_index
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 73-79, warpins: 2 ---
	self._selected_primary = slot7
	slot10 = "add"

	self._call_listeners(slot8, self)

	if is_equip then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 80-84, warpins: 1 ---
		slot10 = equip_is_instant

		self.equip_latest_addition(slot8, self)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 85-89, warpins: 1 ---
		slot11 = is_equip

		self._place_selection(slot8, self, selection_index)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 90-90, warpins: 2 ---
	return 
	--- END OF BLOCK #3 ---



end
PlayerInventory.clbk_weapon_unit_destroyed = function (self, weap_unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	local weapon_key = weap_unit.key(slot3)
	slot5 = self._available_selections

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-28, warpins: 0 ---
	for i_sel, sel_data in pairs(weap_unit) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-13, warpins: 1 ---
		slot10 = sel_data.unit

		if sel_data.unit.key(slot9) == weapon_key then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 14-16, warpins: 1 ---
			if i_sel == self._equipped_selection then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 17-20, warpins: 1 ---
				slot11 = "unequip"

				self._call_listeners(slot9, self)
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 21-26, warpins: 2 ---
			slot12 = true

			self.remove_selection(slot9, self, i_sel)

			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 27-27, warpins: 2 ---
			break
			--- END OF BLOCK #2 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 27-28, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 29-29, warpins: 2 ---
	return 
	--- END OF BLOCK #2 ---



end
PlayerInventory.get_latest_addition_hud_data = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-15, warpins: 1 ---
	local unit = self._available_selections[self._latest_addition].unit
	slot4 = unit
	slot4 = unit.base(slot3)
	local _, _, amount = unit.base(slot3).ammo_info(slot3)
	slot5 = {}

	if self._latest_addition ~= self._selected_primary then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 16-17, warpins: 1 ---
		slot6 = false
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 18-18, warpins: 1 ---
		slot6 = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 19-24, warpins: 2 ---
	slot5.is_equip = slot6
	slot5.amount = amount
	slot5.inventory_index = self._latest_addition
	slot5.unit = unit

	return slot5
	--- END OF BLOCK #1 ---



end
PlayerInventory.add_unit_by_name = function (self, new_unit_name, equip, instant)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot6 = self._available_selections

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-13, warpins: 0 ---
	for _, selection in pairs(slot5) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-10, warpins: 1 ---
		slot11 = selection.unit

		if selection.unit.name(slot10) == new_unit_name then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 11-11, warpins: 1 ---
			return 
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 12-13, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 14-58, warpins: 1 ---
	slot8 = Vector3()
	local new_unit = World.spawn_unit(slot5, World, new_unit_name, Rotation())
	local setup_data = {}
	setup_data.user_unit = self._unit
	setup_data.ignore_units = {
		self._unit,
		new_unit
	}
	setup_data.expend_ammo = true
	setup_data.autoaim = true
	setup_data.alert_AI = true
	slot8 = self._unit
	slot8 = self._unit.movement(self._unit)
	setup_data.alert_filter = self._unit.movement(self._unit).SO_access(self._unit)
	slot8 = new_unit
	slot9 = setup_data

	new_unit.base(self._unit).setup(self._unit, new_unit.base(self._unit))

	slot11 = instant

	self.add_unit(self._unit, self, new_unit, equip)

	return 
	--- END OF BLOCK #2 ---



end
PlayerInventory.add_unit_by_factory_name = function (self, factory_name, equip, instant, blueprint, cosmetics, texture_switches)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-21, warpins: 1 ---
	local factory_weapon = tweak_data.weapon.factory[factory_name]
	local ids_unit_name = Idstring(slot9)
	slot14 = "unit"
	slot14 = managers.dyn_resource.DYN_RESOURCES_PACKAGE

	if not managers.dyn_resource.is_resource_ready(factory_weapon.unit, managers.dyn_resource, Idstring(slot13), ids_unit_name) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 22-34, warpins: 1 ---
		slot14 = "unit"
		slot15 = nil

		managers.dyn_resource.load(slot10, managers.dyn_resource, Idstring(slot13), ids_unit_name, managers.dyn_resource.DYN_RESOURCES_PACKAGE)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 35-66, warpins: 2 ---
	slot13 = Vector3()
	local new_unit = World.spawn_unit(slot10, World, ids_unit_name, Rotation())
	slot12 = new_unit
	slot13 = factory_name

	new_unit.base(World).set_factory_data(World, new_unit.base(World))

	slot12 = new_unit
	slot13 = cosmetics

	new_unit.base(World).set_cosmetics_data(World, new_unit.base(World))

	slot12 = new_unit
	slot13 = texture_switches

	new_unit.base(World).set_texture_switches(World, new_unit.base(World))

	if blueprint then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 67-75, warpins: 1 ---
		slot12 = new_unit
		slot14 = blueprint

		new_unit.base(slot11).assemble_from_blueprint(slot11, new_unit.base(slot11), factory_name)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 76-82, warpins: 1 ---
		slot12 = new_unit
		slot13 = factory_name

		new_unit.base(slot11).assemble(slot11, new_unit.base(slot11))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 83-112, warpins: 2 ---
	local setup_data = {}
	setup_data.user_unit = self._unit
	setup_data.ignore_units = {
		self._unit,
		new_unit
	}
	setup_data.expend_ammo = true
	setup_data.autoaim = true
	setup_data.alert_AI = true
	slot13 = self._unit
	slot13 = self._unit.movement(self._unit)
	setup_data.alert_filter = self._unit.movement(self._unit).SO_access(self._unit)
	slot13 = managers.player
	setup_data.timer = managers.player.player_timer(self._unit)

	if blueprint then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 113-122, warpins: 1 ---
		slot16 = blueprint
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 133-133, warpins: 2 ---
		setup_data.panic_suppression_skill = slot11
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 134-152, warpins: 2 ---
	slot13 = new_unit
	slot14 = setup_data

	new_unit.base(slot12).setup(slot12, new_unit.base(slot12))

	slot16 = instant

	self.add_unit(slot12, self, new_unit, equip)

	slot13 = new_unit

	if new_unit.base(slot12).AKIMBO then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 153-158, warpins: 1 ---
		slot13 = new_unit
		slot13 = new_unit.base(slot12)

		new_unit.base(slot12).create_second_gun(slot12)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 159-159, warpins: 2 ---
	return 
	--- END OF BLOCK #4 ---



end
PlayerInventory.remove_selection = function (self, selection_index, instant)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if not selection_index then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-3, warpins: 1 ---
		selection_index = self._equipped_selection
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 4-11, warpins: 2 ---
	local weap_unit = self._available_selections[selection_index].unit
	slot6 = weap_unit

	if alive(slot5) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 12-18, warpins: 1 ---
		slot6 = weap_unit
		slot7 = self._listener_id

		weap_unit.base(slot5).remove_destroy_listener(slot5, weap_unit.base(slot5))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 19-24, warpins: 2 ---
	self._available_selections[selection_index] = nil

	if self._equipped_selection == selection_index then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 25-26, warpins: 1 ---
		self._equipped_selection = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 27-29, warpins: 2 ---
	if selection_index == self._selected_primary then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 30-33, warpins: 1 ---
		slot6 = self
		self._selected_primary = self._select_new_primary(slot5)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 34-34, warpins: 2 ---
	return 
	--- END OF BLOCK #4 ---



end
PlayerInventory.equip_latest_addition = function (self, instant)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot6 = instant

	return self.equip_selection(slot3, self, self._latest_addition)
	--- END OF BLOCK #0 ---



end
PlayerInventory.equip_selected_primary = function (self, instant)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot6 = instant

	return self.equip_selection(slot3, self, self._selected_primary)
	--- END OF BLOCK #0 ---



end
PlayerInventory.equip_next = function (self, instant)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	local i = self._selected_primary

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 7-22, warpins: 0 ---
	for i = self._selected_primary, self._selected_primary + 9, 1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-16, warpins: 2 ---
		slot10 = 10
		local selection = 1 + math.mod(slot8, i)

		if self._available_selections[selection] then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 17-21, warpins: 1 ---
			slot12 = instant

			return self.equip_selection(slot9, self, selection)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 22-22, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 23-24, warpins: 1 ---
	return false
	--- END OF BLOCK #2 ---



end
PlayerInventory.equip_previous = function (self, instant)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	local i = self._selected_primary

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 7-22, warpins: 0 ---
	for i = self._selected_primary, self._selected_primary - 9, -1 do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-16, warpins: 2 ---
		slot10 = 10
		local selection = 1 + math.mod(slot8, 8 + i)

		if self._available_selections[selection] then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 17-21, warpins: 1 ---
			slot12 = instant

			return self.equip_selection(slot9, self, selection)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 22-22, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 23-24, warpins: 1 ---
	return false
	--- END OF BLOCK #2 ---



end
PlayerInventory.equip_selection = function (self, selection_index, instant)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if selection_index and selection_index ~= self._equipped_selection and self._available_selections[selection_index] then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-12, warpins: 1 ---
		if self._equipped_selection then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 13-17, warpins: 1 ---
			if self._equipped_selection == PlayerInventory.SLOT_1 or self._equipped_selection == PlayerInventory.SLOT_2 then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 23-36, warpins: 2 ---
				slot5 = managers.weapon_skills
				slot8 = self
				slot8 = self.equipped_unit(slot7)
				slot8 = self.equipped_unit(slot7).base(slot7)

				managers.weapon_skills.deactivate_challenges_for_weapon(slot4, self.equipped_unit(slot7).base(slot7).get_name_id(slot7))
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 37-41, warpins: 2 ---
			slot7 = instant

			self.unequip_selection(slot4, self, nil)
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 42-60, warpins: 2 ---
		self._equipped_selection = selection_index
		slot7 = true

		self._place_selection(slot4, self, selection_index)

		self._selected_primary = selection_index
		slot5 = self

		self._send_equipped_weapon(slot4)

		slot5 = self
		slot5 = self.equipped_unit(slot4)

		if self.equipped_unit(slot4).base(slot4).fire_mode then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 61-84, warpins: 1 ---
			slot8 = self
			slot8 = self.equipped_unit(slot7)
			slot6 = self.equipped_unit(slot7).base(slot7).weapon_tweak_data(slot7).name_id
			slot9 = self
			slot9 = self.equipped_unit(self.equipped_unit(slot7).base(slot7))
			slot9 = self.equipped_unit(self.equipped_unit(slot7).base(slot7)).base(self.equipped_unit(slot7).base(slot7))

			managers.hud.set_firemode_for_weapon(slot4, managers.hud, self.equipped_unit(self.equipped_unit(slot7).base(slot7)).base(self.equipped_unit(slot7).base(slot7)).fire_mode(self.equipped_unit(slot7).base(slot7)))
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 85-95, warpins: 2 ---
		slot6 = "equip"

		self._call_listeners(slot4, self)

		slot5 = self._unit

		if self._unit.unit_data(slot4).mugshot_id then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 96-127, warpins: 1 ---
			slot5 = self
			slot5 = self.equipped_unit(slot4)
			local hud_icon_id = self.equipped_unit(slot4).base(slot4).weapon_tweak_data(slot4).hud_icon
			slot9 = self._unit
			slot11 = self
			slot11 = self.equipped_unit(slot10)
			slot11 = self.equipped_unit(slot10).base(slot10)
			slot9 = self.equipped_unit(slot10).base(slot10).weapon_tweak_data(slot10).use_data.selection_index

			managers.hud.set_mugshot_weapon(self.equipped_unit(slot4).base(slot4), managers.hud, self._unit.unit_data(slot8).mugshot_id, hud_icon_id)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 128-136, warpins: 2 ---
		slot5 = self
		slot5 = self.equipped_unit(slot4)

		if self.equipped_unit(slot4).base(slot4).set_flashlight_enabled then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 137-146, warpins: 1 ---
			slot5 = self
			slot5 = self.equipped_unit(slot4)
			slot6 = true

			self.equipped_unit(slot4).base(slot4).set_flashlight_enabled(slot4, self.equipped_unit(slot4).base(slot4))
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #3 ---

		FLOW; TARGET BLOCK #4



		-- Decompilation error in this vicinity:
		--- BLOCK #4 147-152, warpins: 2 ---
		slot5 = self._unit

		if not self._unit.brain(slot4) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 153-161, warpins: 1 ---
			slot5 = self
			slot5 = self.equipped_unit(slot4)

			if self.equipped_unit(slot4).base(slot4).out_of_ammo then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 162-172, warpins: 1 ---
				slot5 = self
				slot5 = self.equipped_unit(slot4)
				slot5 = self.equipped_unit(slot4).base(slot4)
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 189-197, warpins: 2 ---
				slot5 = self
				slot5 = self.equipped_unit(slot4)

				if self.equipped_unit(slot4).base(slot4).can_reload then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 198-208, warpins: 1 ---
					slot5 = self
					slot5 = self.equipped_unit(slot4)
					slot5 = self.equipped_unit(slot4).base(slot4)
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 253-264, warpins: 4 ---
					slot6 = "hud_reload_prompt"

					managers.hud.hide_prompt(slot4, managers.hud)

					slot6 = "hud_no_ammo_prompt"

					managers.hud.hide_prompt(slot4, managers.hud)
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #4 ---

		FLOW; TARGET BLOCK #5



		-- Decompilation error in this vicinity:
		--- BLOCK #5 265-269, warpins: 4 ---
		if self._equipped_selection == PlayerInventory.SLOT_1 or self._equipped_selection == PlayerInventory.SLOT_2 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 275-288, warpins: 2 ---
			slot5 = managers.weapon_skills
			slot8 = self
			slot8 = self.equipped_unit(slot7)
			slot8 = self.equipped_unit(slot7).base(slot7)

			managers.weapon_skills.activate_current_challenges_for_weapon(slot4, self.equipped_unit(slot7).base(slot7).get_name_id(slot7))
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #5 ---

		FLOW; TARGET BLOCK #6



		-- Decompilation error in this vicinity:
		--- BLOCK #6 289-291, warpins: 2 ---
		return true
		--- END OF BLOCK #6 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 292-293, warpins: 4 ---
	return false
	--- END OF BLOCK #1 ---



end
PlayerInventory._send_equipped_weapon = function (self, send_equipped_weapon_type)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if not send_equipped_weapon_type then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-4, warpins: 1 ---
		send_equipped_weapon_type = PlayerInventory.SEND_WEAPON_TYPE_PLAYER_PRIMARY_SECONDARY
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-20, warpins: 2 ---
	local equipped_weapon_category_id = self.equipped_selection(slot3)
	slot5 = self
	slot5 = self.equipped_unit(self)
	slot5 = self.equipped_unit(self).base(self)
	local equipped_weapon_identifier = self.equipped_unit(self).base(self).get_name_id(self)

	if equipped_weapon_category_id == WeaponInventoryManager.BM_CATEGORY_GRENADES_ID or equipped_weapon_category_id == WeaponInventoryManager.BM_CATEGORY_MELEE_ID then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 25-26, warpins: 2 ---
		send_equipped_weapon_type = PlayerInventory.SEND_WEAPON_TYPE_PLAYER_MELEE_GRENADE
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 27-30, warpins: 2 ---
	if send_equipped_weapon_type == PlayerInventory.SEND_WEAPON_TYPE_TEAMAI_COPS then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 31-36, warpins: 1 ---
		slot6 = tweak_data.character.weap_unit_names

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 37-50, warpins: 0 ---
		for i, weap_name in ipairs(slot5) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 37-44, warpins: 1 ---
			slot11 = self
			slot11 = self.equipped_unit(slot10)

			if weap_name == self.equipped_unit(slot10).name(slot10) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 45-48, warpins: 1 ---
				slot11 = i
				equipped_weapon_identifier = tostring(slot10)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 49-50, warpins: 3 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 51-59, warpins: 2 ---
	slot6 = self
	slot6 = self.equipped_unit(slot5)
	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 72-81, warpins: 2 ---
	local cosmetics_string = ""
	slot8 = self
	slot8 = self.equipped_unit(slot7)

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 94-95, warpins: 2 ---
	if cosmetics_id then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 96-104, warpins: 1 ---
		slot9 = self
		slot9 = self.equipped_unit(slot8)
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 117-125, warpins: 2 ---
		slot10 = self
		slot10 = self.equipped_unit(slot9)
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 138-143, warpins: 2 ---
		slot11 = cosmetics_id
		local entry = tostring(slot10)
		local quality = "1"

		if cosmetics_bonus then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 144-145, warpins: 1 ---
			slot11 = "1"
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 146-146, warpins: 1 ---
			local bonus = "0"
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 147-153, warpins: 2 ---
		cosmetics_string = entry .. "-" .. quality .. "-" .. bonus
		--- END OF BLOCK #3 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 154-154, warpins: 1 ---
		cosmetics_string = "nil-1-0"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 155-168, warpins: 2 ---
	slot9 = self._unit
	slot15 = cosmetics_string

	self._unit.network(slot8).send(slot8, self._unit.network(slot8), "set_equipped_weapon", send_equipped_weapon_type, equipped_weapon_category_id, equipped_weapon_identifier, blueprint_string)

	return 
	--- END OF BLOCK #6 ---



end
PlayerInventory.unequip_selection = function (self, selection_index, instant)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if not selection_index or selection_index == self._equipped_selection then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-14, warpins: 2 ---
		slot5 = self
		slot5 = self.equipped_unit(slot4)

		if self.equipped_unit(slot4).base(slot4).set_flashlight_enabled then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 15-24, warpins: 1 ---
			slot5 = self
			slot5 = self.equipped_unit(slot4)
			slot6 = false

			self.equipped_unit(slot4).base(slot4).set_flashlight_enabled(slot4, self.equipped_unit(slot4).base(slot4))
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 25-26, warpins: 2 ---
		if not selection_index then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 27-27, warpins: 1 ---
			selection_index = self._equipped_selection
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 28-38, warpins: 2 ---
		slot7 = false

		self._place_selection(slot4, self, selection_index)

		self._equipped_selection = nil
		slot6 = "unequip"

		self._call_listeners(slot4, self)
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 39-39, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
PlayerInventory.is_equipped = function (self, index)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if index ~= self._equipped_selection then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-5, warpins: 1 ---
		slot2 = false
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-6, warpins: 1 ---
		slot2 = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 7-7, warpins: 2 ---
	return slot2
	--- END OF BLOCK #1 ---



end
PlayerInventory.available_selections = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._available_selections
	--- END OF BLOCK #0 ---



end
PlayerInventory.num_selections = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot3 = self._available_selections

	return table.size(slot2)
	--- END OF BLOCK #0 ---



end
PlayerInventory._place_selection = function (self, selection_index, is_equip)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	local selection = self._available_selections[selection_index]
	local unit = selection.unit
	slot5 = selection.use_data

	if is_equip then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-8, warpins: 1 ---
		slot6 = "equip"
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-9, warpins: 1 ---
		slot6 = "unequip"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 10-15, warpins: 2 ---
	local weap_align_data = slot5[slot6]
	local align_place = self._align_places[weap_align_data.align_place]

	if align_place then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 16-17, warpins: 1 ---
		if is_equip then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 18-27, warpins: 1 ---
			slot10 = true

			unit.set_enabled(slot8, unit)

			slot9 = unit
			slot9 = unit.base(slot8)

			unit.base(slot8).on_enabled(slot8)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 28-33, warpins: 2 ---
		slot11 = align_place
		slot7 = self._link_weapon(slot8, self, unit)
		--- END OF BLOCK #1 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 34-52, warpins: 1 ---
		slot9 = unit

		unit.unlink(slot8)

		slot10 = false

		unit.set_enabled(slot8, unit)

		slot9 = unit
		slot9 = unit.base(slot8)

		unit.base(slot8).on_disabled(slot8)

		slot9 = unit

		if unit.base(slot8).gadget_on then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 53-59, warpins: 1 ---
			slot9 = self._unit

			if self._unit.movement(slot8).set_cbt_permanent then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 60-67, warpins: 1 ---
				slot9 = self._unit
				slot10 = false

				self._unit.movement(slot8).set_cbt_permanent(slot8, self._unit.movement(slot8))
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 68-68, warpins: 4 ---
	return 
	--- END OF BLOCK #2 ---



end
PlayerInventory._link_weapon = function (self, unit, align_place)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if not align_place.on_body or not self._unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-11, warpins: 2 ---
		slot5 = self._unit
		local parent_unit = self._unit.camera(slot4)._camera_unit
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 12-23, warpins: 2 ---
	slot8 = unit
	slot11 = unit
	slot11 = unit.orientation_object(slot10)
	local res = parent_unit.link(slot5, parent_unit, align_place.obj3d_name, unit.orientation_object(slot10).name(slot10))

	return res
	--- END OF BLOCK #1 ---



end
PlayerInventory._select_new_primary = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot3 = self._available_selections

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-7, warpins: 0 ---
	for index, use_data in pairs(slot2) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-5, warpins: 1 ---
		return index
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 6-7, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 8-8, warpins: 1 ---
	return 
	--- END OF BLOCK #2 ---



end
PlayerInventory.add_listener = function (self, key, events, clbk)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if not events then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-3, warpins: 1 ---
		events = self._all_event_types
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 4-11, warpins: 2 ---
	slot9 = clbk

	self._listener_holder.add(slot5, self._listener_holder, key, events)

	return 
	--- END OF BLOCK #1 ---



end
PlayerInventory.remove_listener = function (self, key)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	slot5 = key

	self._listener_holder.remove(slot3, self._listener_holder)

	return 
	--- END OF BLOCK #0 ---



end
PlayerInventory._call_listeners = function (self, event)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	slot7 = event

	self._listener_holder.call(slot3, self._listener_holder, event, self._unit)

	return 
	--- END OF BLOCK #0 ---



end
PlayerInventory.on_death_exit = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot3 = self._available_selections

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-10, warpins: 0 ---
	for i, selection in pairs(slot2) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-8, warpins: 1 ---
		slot8 = selection.unit

		selection.unit.unlink(slot7)
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 9-10, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 11-11, warpins: 1 ---
	return 
	--- END OF BLOCK #2 ---



end
PlayerInventory._chk_create_w_factory_indexes = function ()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	if PlayerInventory._weapon_factory_indexed then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-5, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-14, warpins: 1 ---
	local weapon_factory_indexed = {}
	PlayerInventory._weapon_factory_indexed = weapon_factory_indexed
	slot3 = tweak_data.weapon.factory

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 15-26, warpins: 0 ---
	for id, data in pairs(slot2) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 15-16, warpins: 1 ---
		if id ~= "parts" and data.unit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 20-24, warpins: 1 ---
			slot9 = id

			table.insert(slot7, weapon_factory_indexed)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 25-26, warpins: 4 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 27-32, warpins: 1 ---
	function slot4(a, b)

		-- Decompilation error in this vicinity:
		--- BLOCK #0 1-2, warpins: 1 ---
		if a >= b then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 3-4, warpins: 1 ---
			slot2 = false
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 5-5, warpins: 1 ---
			slot2 = true
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 6-6, warpins: 2 ---
		return slot2
		--- END OF BLOCK #1 ---



	end

	table.sort(slot2, weapon_factory_indexed)

	return 
	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 33-33, warpins: 2 ---
	--- END OF BLOCK #4 ---



end
PlayerInventory._get_weapon_sync_index = function (wpn)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	local wanted_weap_name = wpn
	slot4 = wpn

	if wpn.key(slot3) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-15, warpins: 1 ---
		slot5 = wpn

		if tweak_data.character.hack_weap_unit_names[wpn.key(slot4)] then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-22, warpins: 1 ---
			slot5 = wpn
			wanted_weap_name = tweak_data.character.hack_weap_unit_names[wpn.key(slot4)]
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 23-27, warpins: 3 ---
	slot4 = wanted_weap_name

	if type_name(slot3) == "Idstring" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 28-33, warpins: 1 ---
		slot4 = tweak_data.character.weap_unit_names

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 34-38, warpins: 0 ---
		for i, test_weap_name in ipairs(slot3) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 34-35, warpins: 1 ---
			if test_weap_name == wanted_weap_name then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 36-36, warpins: 1 ---
				return i
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 37-38, warpins: 3 ---
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 39-50, warpins: 2 ---
	PlayerInventory._chk_create_w_factory_indexes()

	local start_index = #tweak_data.character.weap_unit_names
	slot5 = PlayerInventory._weapon_factory_indexed

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 51-56, warpins: 0 ---
	for i, factory_id in ipairs(slot4) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 51-52, warpins: 1 ---
		if wanted_weap_name == factory_id then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 53-54, warpins: 1 ---
			return start_index + i
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 55-56, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 57-57, warpins: 1 ---
	return 
	--- END OF BLOCK #4 ---



end
PlayerInventory._get_weapon_name_from_sync_index = function (w_index)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	if w_index <= #tweak_data.character.weap_unit_names then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-11, warpins: 1 ---
		return tweak_data.character.weap_unit_names[w_index]
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 12-23, warpins: 2 ---
	w_index = w_index - #tweak_data.character.weap_unit_names

	PlayerInventory._chk_create_w_factory_indexes()

	return PlayerInventory._weapon_factory_indexed[w_index]
	--- END OF BLOCK #1 ---



end
PlayerInventory.hide_equipped_unit = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._equipped_selection then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-7, warpins: 1 ---
		local unit = self._available_selections[self._equipped_selection].unit
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-9, warpins: 2 ---
	if unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-15, warpins: 1 ---
		slot4 = unit
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 25-35, warpins: 2 ---
		self._was_gadget_on = slot2
		slot5 = false

		unit.set_visible(slot3, unit)

		slot4 = unit
		slot4 = unit.base(slot3)

		unit.base(slot3).on_disabled(slot3)
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 36-36, warpins: 2 ---
	return 
	--- END OF BLOCK #2 ---



end
PlayerInventory.show_equipped_unit = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._equipped_selection and self._available_selections[self._equipped_selection].unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-30, warpins: 1 ---
		slot4 = true

		self._available_selections[self._equipped_selection].unit.set_visible(self._equipped_selection, self._available_selections[self._equipped_selection].unit)

		slot3 = self._available_selections[self._equipped_selection].unit
		slot3 = self._available_selections[self._equipped_selection].unit.base(self._equipped_selection)

		self._available_selections[self._equipped_selection].unit.base(self._equipped_selection).on_enabled(self._equipped_selection)

		if self._was_gadget_on then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 31-43, warpins: 1 ---
			slot3 = self._available_selections[self._equipped_selection].unit
			slot4 = self._was_gadget_on

			self._available_selections[self._equipped_selection].unit.base(self._equipped_selection).set_gadget_on(self._equipped_selection, self._available_selections[self._equipped_selection].unit.base(self._equipped_selection))

			self._was_gadget_on = nil
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 44-44, warpins: 4 ---
	return 
	--- END OF BLOCK #1 ---



end
PlayerInventory.save = function (self, data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._equipped_selection then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-12, warpins: 1 ---
		slot4 = self
		slot4 = self.equipped_unit(slot3)

		if not self.equipped_unit(slot3).base(slot3)._factory_id then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 13-18, warpins: 1 ---
			slot4 = self
			slot4 = self.equipped_unit(slot3)
			local eq_weap_name = self.equipped_unit(slot3).name(slot3)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 19-33, warpins: 2 ---
		local index = self._get_weapon_sync_index(slot4)
		data.equipped_weapon_index = index
		data.mask_visibility = self._mask_visibility
		slot6 = self
		slot6 = self.equipped_unit(eq_weap_name)
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 46-55, warpins: 2 ---
		data.blueprint_string = slot4
		slot6 = self
		slot6 = self.equipped_unit(slot5)

		if self.equipped_unit(slot5).base(slot5).gadget_on then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 56-62, warpins: 1 ---
			slot6 = self
			slot6 = self.equipped_unit(slot5)
			slot4 = self.equipped_unit(slot5).base(slot5)._gadget_on
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 63-73, warpins: 2 ---
		data.gadget_on = slot4
		local cosmetics_string = ""
		slot7 = self
		slot7 = self.equipped_unit(slot6)

		--- END OF BLOCK #3 ---

		FLOW; TARGET BLOCK #4



		-- Decompilation error in this vicinity:
		--- BLOCK #4 86-87, warpins: 2 ---
		if cosmetics_id then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 88-96, warpins: 1 ---
			slot8 = self
			slot8 = self.equipped_unit(slot7)
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 109-117, warpins: 2 ---
			slot9 = self
			slot9 = self.equipped_unit(slot8)
			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 130-135, warpins: 2 ---
			slot10 = cosmetics_id
			local entry = tostring(slot9)
			local quality = "1"

			if cosmetics_bonus then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 136-137, warpins: 1 ---
				slot10 = "1"
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 138-138, warpins: 1 ---
				local bonus = "0"
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #2 ---

			FLOW; TARGET BLOCK #3



			-- Decompilation error in this vicinity:
			--- BLOCK #3 139-145, warpins: 2 ---
			cosmetics_string = entry .. "-" .. quality .. "-" .. bonus
			--- END OF BLOCK #3 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 146-146, warpins: 1 ---
			cosmetics_string = "nil-1-0"
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #4 ---

		FLOW; TARGET BLOCK #5



		-- Decompilation error in this vicinity:
		--- BLOCK #5 147-147, warpins: 2 ---
		data.cosmetics_string = cosmetics_string
		--- END OF BLOCK #5 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 148-148, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
PlayerInventory.cosmetics_string_from_peer = function (self, peer, weapon_name)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if peer then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-11, warpins: 1 ---
		slot5 = peer
		local outfit = peer.blackmarket_outfit(slot4)

		if outfit.primary.factory_id .. "_npc" ~= weapon_name or not outfit.primary.cosmetics then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-21, warpins: 2 ---
			if outfit.secondary.factory_id .. "_npc" == weapon_name then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 22-24, warpins: 1 ---
				slot4 = outfit.secondary.cosmetics
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 25-26, warpins: 1 ---
				slot4 = false

				if false then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 27-27, warpins: 0 ---
					local cosmetics = true
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 28-29, warpins: 4 ---
		if cosmetics then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 30-37, warpins: 1 ---
			local quality = "1"
			slot6 = cosmetics.id
			slot7 = "-"
			slot8 = quality
			slot9 = "-"

			if cosmetics.bonus then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 38-39, warpins: 1 ---
				slot10 = "1"
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 40-40, warpins: 1 ---
				slot10 = "0"
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 41-43, warpins: 2 ---
			return slot6 .. slot7 .. slot8 .. slot9 .. slot10
			--- END OF BLOCK #1 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 44-45, warpins: 1 ---
			return "nil-1-0"
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 46-46, warpins: 3 ---
	return 
	--- END OF BLOCK #1 ---



end
PlayerInventory.load = function (self, data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if data.equipped_weapon_index then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-18, warpins: 1 ---
		self._weapon_add_clbk = "playerinventory_load"
		local delayed_data = {}
		delayed_data.equipped_weapon_index = data.equipped_weapon_index
		delayed_data.blueprint_string = data.blueprint_string
		delayed_data.cosmetics_string = data.cosmetics_string
		delayed_data.gadget_on = data.gadget_on
		slot6 = delayed_data

		self._clbk_weapon_add(slot4, self)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 19-21, warpins: 2 ---
	if data.mask_visibility then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 22-23, warpins: 1 ---
		slot2 = true
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 24-24, warpins: 1 ---
		slot2 = false
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 25-26, warpins: 2 ---
	self._mask_visibility = slot2

	return 
	--- END OF BLOCK #2 ---



end
PlayerInventory._clbk_weapon_add = function (self, data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-7, warpins: 1 ---
	self._weapon_add_clbk = nil
	slot4 = self._unit

	if not alive(slot3) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 8-8, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 9-16, warpins: 2 ---
	local eq_weap_name = self._get_weapon_name_from_sync_index(slot3)
	slot5 = eq_weap_name

	if type(data.equipped_weapon_index) == "string" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 17-37, warpins: 1 ---
		slot5 = self
		slot3 = self.add_unit_by_factory_name
		slot6 = eq_weap_name
		slot7 = true
		slot8 = true
		slot9 = data.blueprint_string
		slot15 = managers.network
		slot16 = self._unit
		slot14 = eq_weap_name

		if not self.cosmetics_string_from_peer(slot11, self, managers.network.session(eq_weap_name).peer_by_unit(eq_weap_name, managers.network.session(eq_weap_name))) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 38-38, warpins: 1 ---
			slot10 = data.cosmetics_string
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 39-44, warpins: 2 ---
		slot3(slot4, slot5, slot6, slot7, slot8, slot9)

		slot6 = data.gadget_on

		self.synch_weapon_gadget_state(slot4, self)
		--- END OF BLOCK #1 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 45-54, warpins: 1 ---
		slot5 = self._unit
		slot8 = true

		self._unit.inventory(slot4).add_unit_by_name(slot4, self._unit.inventory(slot4), eq_weap_name, true)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 55-61, warpins: 2 ---
	slot5 = self._unit

	if self._unit.unit_data(slot4).mugshot_id then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 62-93, warpins: 1 ---
		slot5 = self
		slot5 = self.equipped_unit(slot4)
		local icon = self.equipped_unit(slot4).base(slot4).weapon_tweak_data(slot4).hud_icon
		slot9 = self._unit
		slot11 = self
		slot11 = self.equipped_unit(slot10)
		slot11 = self.equipped_unit(slot10).base(slot10)
		slot9 = self.equipped_unit(slot10).base(slot10).weapon_tweak_data(slot10).use_data.selection_index

		managers.hud.set_mugshot_weapon(self.equipped_unit(slot4).base(slot4), managers.hud, self._unit.unit_data(slot8).mugshot_id, icon)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 94-94, warpins: 2 ---
	return 
	--- END OF BLOCK #3 ---



end
PlayerInventory.set_melee_weapon = function (self, melee_weapon_id, is_npc)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-16, warpins: 1 ---
	slot8 = is_npc

	Application.debug(slot4, Application, "[PlayerInventory:set_melee_weapon]", melee_weapon_id)

	slot6 = melee_weapon_id
	self._melee_weapon_data = managers.blackmarket.get_melee_weapon_data(slot4, managers.blackmarket)

	if is_npc then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 17-20, warpins: 1 ---
		if self._melee_weapon_data.third_unit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 21-26, warpins: 1 ---
			slot5 = self._melee_weapon_data.third_unit
			self._melee_weapon_unit_name = Idstring(slot4)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 27-30, warpins: 1 ---
		if self._melee_weapon_data.unit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 31-35, warpins: 1 ---
			slot5 = self._melee_weapon_data.unit
			self._melee_weapon_unit_name = Idstring(slot4)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 36-38, warpins: 4 ---
	if self._melee_weapon_unit_name then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 39-69, warpins: 1 ---
		slot8 = self._melee_weapon_unit_name

		Application.debug(slot4, Application, "[PlayerInventory:set_melee_weapon] spawning melee", melee_weapon_id)

		slot8 = "unit"
		slot9 = false

		managers.dyn_resource.load(slot4, managers.dyn_resource, Idstring(melee_weapon_id), self._melee_weapon_unit_name, "packages/dyn_resources")

		slot7 = Vector3()
		local unit = World.spawn_unit(slot4, World, self._melee_weapon_unit_name, Rotation())
		slot7 = unit

		self.add_unit(World, self)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 70-70, warpins: 2 ---
	return 
	--- END OF BLOCK #2 ---



end
PlayerInventory.set_grenade = function (self, grenade)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-59, warpins: 1 ---
	local unit_name = tweak_data.projectiles[grenade].unit_hand
	slot8 = unit_name

	Application.debug(slot4, Application, "[PlayerInventory:set_grenade(grenade)] spawning grenade", grenade)

	slot8 = unit_name
	slot7 = Vector3()
	local unit = World.spawn_unit(slot4, World, Idstring(grenade), Rotation())
	slot6 = unit
	slot7 = self._unit

	unit.base(World).set_thrower_unit(World, unit.base(World))

	slot6 = unit
	slot6 = unit.base(World)
	slot9 = managers.network
	slot9 = managers.network.session(Rotation)
	slot9 = managers.network.session(Rotation).local_peer(Rotation)

	unit.base(World).set_thrower_peer_id(World, managers.network.session(Rotation).local_peer(Rotation).id(Rotation))

	slot6 = unit
	slot7 = true

	unit.base(World).set_hand_held(World, unit.base(World))

	slot7 = unit

	self.add_unit(World, self)

	self.equipped_grenade = grenade

	return 
	--- END OF BLOCK #0 ---



end
PlayerInventory.set_melee_weapon_by_peer = function (self, peer)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
PlayerInventory.set_ammo = function (self, ammo)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot4 = self._available_selections

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-36, warpins: 0 ---
	for id, weapon in pairs(slot3) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-13, warpins: 1 ---
		slot9 = weapon.unit
		slot9 = weapon.unit.base(slot8)

		if weapon.unit.base(slot8).uses_ammo(slot8) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 14-34, warpins: 1 ---
			slot9 = weapon.unit
			slot10 = ammo

			weapon.unit.base(slot8).set_ammo(slot8, weapon.unit.base(slot8))

			slot10 = id
			slot13 = weapon.unit
			slot13 = weapon.unit.base(slot12)

			managers.hud.set_ammo_amount(slot8, managers.hud, weapon.unit.base(slot12).ammo_info(slot12))
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 35-36, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 37-37, warpins: 1 ---
	return 
	--- END OF BLOCK #2 ---



end
PlayerInventory.set_ammo_with_empty_clip = function (self, ammo)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot4 = self._available_selections

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-36, warpins: 0 ---
	for id, weapon in pairs(slot3) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-13, warpins: 1 ---
		slot9 = weapon.unit
		slot9 = weapon.unit.base(slot8)

		if weapon.unit.base(slot8).uses_ammo(slot8) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 14-34, warpins: 1 ---
			slot9 = weapon.unit
			slot10 = ammo

			weapon.unit.base(slot8).set_ammo_with_empty_clip(slot8, weapon.unit.base(slot8))

			slot10 = id
			slot13 = weapon.unit
			slot13 = weapon.unit.base(slot12)

			managers.hud.set_ammo_amount(slot8, managers.hud, weapon.unit.base(slot12).ammo_info(slot12))
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 35-36, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 37-37, warpins: 1 ---
	return 
	--- END OF BLOCK #2 ---



end
PlayerInventory.need_ammo = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot3 = self._available_selections

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-26, warpins: 0 ---
	for _, weapon in pairs(slot2) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-13, warpins: 1 ---
		slot8 = weapon.unit
		slot8 = weapon.unit.base(slot7)

		if weapon.unit.base(slot7).uses_ammo(slot7) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 14-22, warpins: 1 ---
			slot8 = weapon.unit
			slot8 = weapon.unit.base(slot7)

			if not weapon.unit.base(slot7).ammo_full(slot7) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 23-24, warpins: 1 ---
				return true
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 25-26, warpins: 4 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 27-28, warpins: 1 ---
	return false
	--- END OF BLOCK #2 ---



end
PlayerInventory.all_out_of_ammo = function (self)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot3 = self._available_selections

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-26, warpins: 0 ---
	for _, weapon in pairs(slot2) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-13, warpins: 1 ---
		slot8 = weapon.unit
		slot8 = weapon.unit.base(slot7)

		if weapon.unit.base(slot7).uses_ammo(slot7) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 14-22, warpins: 1 ---
			slot8 = weapon.unit
			slot8 = weapon.unit.base(slot7)

			if not weapon.unit.base(slot7).out_of_ammo(slot7) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 23-24, warpins: 1 ---
				return false
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 25-26, warpins: 4 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 27-28, warpins: 1 ---
	return true
	--- END OF BLOCK #2 ---



end
PlayerInventory.anim_clbk_equip_exit = function (self, unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
PlayerInventory.set_visibility_state = function (self, state)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	slot4 = self._available_selections

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-14, warpins: 0 ---
	for i, sel_data in pairs(slot3) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-12, warpins: 1 ---
		slot9 = sel_data.unit
		slot10 = state

		sel_data.unit.base(slot8).set_visibility_state(slot8, sel_data.unit.base(slot8))
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 13-14, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 15-19, warpins: 1 ---
	slot4 = self._shield_unit

	if alive(slot3) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 20-24, warpins: 1 ---
		slot5 = state

		self._shield_unit.set_visible(slot3, self._shield_unit)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 25-25, warpins: 2 ---
	return 
	--- END OF BLOCK #3 ---



end
PlayerInventory.set_weapon_enabled = function (self, state)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._equipped_selection then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-10, warpins: 1 ---
		slot4 = self
		slot5 = state

		self.equipped_unit(slot3).set_enabled(slot3, self.equipped_unit(slot3))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 11-15, warpins: 2 ---
	slot4 = self._shield_unit

	if alive(slot3) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 16-20, warpins: 1 ---
		slot5 = state

		self._shield_unit.set_enabled(slot3, self._shield_unit)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 21-21, warpins: 2 ---
	return 
	--- END OF BLOCK #2 ---



end

return 

--- END OF BLOCK #0 ---

FLOW; TARGET BLOCK #2



-- Decompilation error in this vicinity:
--- BLOCK #1 4-5, warpins: 1 ---
slot0 = class()
--- END OF BLOCK #1 ---

FLOW; TARGET BLOCK #2



-- Decompilation error in this vicinity:
--- BLOCK #2 6-178, warpins: 2 ---
--- END OF BLOCK #2 ---



