-- Decompilation Error: _run_step(_unwarp_expressions, node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- Decompilation Error: _glue_flows(node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
slot2 = "lib/units/enemies/cop/logics/CopLogicIdle"

require(slot1)

slot2 = "lib/units/enemies/cop/logics/CopLogicTravel"

require(slot1)

local tmp_vec1 = Vector3()
local tmp_vec2 = Vector3()
local tmp_vec3 = Vector3()

if not TeamAILogicIdle then
	slot5 = TeamAILogicBase
	slot3 = class(slot4)
end

TeamAILogicIdle = slot3
function TeamAILogicIdle.enter(data, new_logic_name, enter_params)
	local my_data = {
		unit = data.unit
	}
	slot9 = my_data

	TeamAILogicBase.enter(slot5, data, new_logic_name, enter_params)

	my_data.detection = data.char_tweak.detection.idle
	my_data.vision = data.char_tweak.vision.idle
	slot7 = "enemies"
	my_data.enemy_detect_slotmask = managers.slot.get_mask(slot5, managers.slot)
	local old_internal_data = data.internal_data

	if old_internal_data then
		my_data.attention_unit = old_internal_data.attention_unit
	end

	data.internal_data = my_data
	slot7 = data.key
	local key_str = tostring(slot6)
	my_data.detection_task_key = "TeamAILogicIdle._upd_enemy_detection" .. key_str
	slot12 = data.t

	CopLogicBase.queue_task(key_str, my_data, my_data.detection_task_key, TeamAILogicIdle._upd_enemy_detection, data)

	if my_data.nearest_cover or my_data.best_cover then
		my_data.cover_update_task_key = "CopLogicIdle._update_cover" .. key_str
		slot15 = data
		slot11 = data.t + 1

		CopLogicBase.add_delayed_clbk(key_str, my_data, my_data.cover_update_task_key, callback(slot11, CopLogicTravel, CopLogicTravel, "_update_cover"))
	end

	my_data.stare_path_search_id = "stare" .. key_str
	my_data.relocate_chk_t = 0
	slot8 = data

	CopLogicBase._reset_attention(key_str)

	slot8 = data.unit
	slot8 = data.unit.movement(key_str)

	if data.unit.movement(key_str).stance_name(key_str) == "cbt" then
		slot8 = data.unit
		slot9 = "hos"

		data.unit.movement(slot7).set_stance(slot7, data.unit.movement(slot7))
	end

	slot8 = data.unit
	slot9 = false

	data.unit.movement(slot7).set_allow_fire(slot7, data.unit.movement(slot7))

	local objective = data.objective
	local entry_action = enter_params and enter_params.action

	if objective then
		if objective.type == "revive" then
			if objective.action_start_clbk then
				slot10 = data.unit

				objective.action_start_clbk(slot9)
			end

			local success = nil
			local revive_unit = objective.follow_unit
			slot12 = revive_unit

			if revive_unit.interaction(slot11) then
				slot12 = revive_unit
				slot12 = revive_unit.interaction(slot11)

				if revive_unit.interaction(slot11).active(slot11) then
					slot12 = data.unit
					slot13 = objective.action

					if data.unit.brain(slot11).action_request(slot11, data.unit.brain(slot11)) then
						slot12 = revive_unit
						slot13 = data.unit

						revive_unit.interaction(slot11).interact_start(slot11, revive_unit.interaction(slot11))

						slot16 = data.unit
						slot15 = objective.action_duration

						managers.hud.teammate_start_progress(slot11, managers.hud, data.unit.unit_data(slot14).teammate_panel_id, data.unit.unit_data(data.unit).name_label_id)

						slot12 = managers.network
						slot15 = objective.action_duration

						managers.network.session(slot11).send_to_peers_synched(slot11, managers.network.session(slot11), "sync_ai_interaction_start", data.unit)

						success = true
					end
				end
			else
				slot12 = revive_unit
				slot12 = revive_unit.character_damage(slot11)

				if revive_unit.character_damage(slot11).arrested(slot11) then
					slot12 = data.unit
					slot13 = objective.action

					if data.unit.brain(slot11).action_request(slot11, data.unit.brain(slot11)) then
						slot12 = revive_unit
						slot12 = revive_unit.character_damage(slot11)

						revive_unit.character_damage(slot11).pause_arrested_timer(slot11)

						success = true
					end
				else
					slot12 = revive_unit
					slot12 = revive_unit.character_damage(slot11)

					if revive_unit.character_damage(slot11).need_revive(slot11) then
						slot12 = data.unit
						slot13 = objective.action

						if data.unit.brain(slot11).action_request(slot11, data.unit.brain(slot11)) then
							slot12 = revive_unit
							slot12 = revive_unit.character_damage(slot11)

							revive_unit.character_damage(slot11).pause_downed_timer(slot11)

							slot12 = managers.player
						end
					end
				end
			end

			if success then
				my_data.performing_act_objective = objective
				my_data.reviving = revive_unit
				my_data.acting = true
				slot13 = data.key
				slot11 = tostring(slot12)
				my_data.revive_complete_clbk_id = "TeamAILogicIdle_revive" .. slot11
				slot12 = TimerManager
				local revive_t = TimerManager.game(slot11).time(slot11) + (objective.action_duration or 0)
				slot20 = data

				CopLogicBase.add_delayed_clbk(TimerManager.game(slot11), my_data, my_data.revive_complete_clbk_id, callback(revive_t, TeamAILogicIdle, TeamAILogicIdle, "clbk_revive_complete"))

				slot13 = revive_unit
				slot13 = revive_unit.character_damage(TimerManager.game(slot11))

				if not revive_unit.character_damage(TimerManager.game(slot11)).arrested(slot12) then
					local suffix = "a"
					slot14 = revive_unit
					slot14 = revive_unit.character_damage(slot13)
					local downed_time = revive_unit.character_damage(slot13).down_time(slot13)

					if downed_time <= tweak_data.player.damage.DOWNED_TIME_MIN then
						suffix = "c"
					elseif downed_time <= tweak_data.player.damage.DOWNED_TIME / 2 + tweak_data.player.damage.DOWNED_TIME_DEC then
						suffix = "b"
					end

					slot17 = {
						skip_idle_check = true,
						instigator = data.unit
					}

					managers.dialog.queue_dialog(slot14, managers.dialog, "player_gen_revive_start")
				end
			else
				slot12 = data.unit
				slot12 = data.unit.brain(slot11)

				data.unit.brain(slot11).set_objective(slot11)

				return 
			end
		else
			if objective.action_duration then
				my_data.action_timeout_clbk_id = "TeamAILogicIdle_action_timeout" .. key_str
				local action_timeout_t = data.t + objective.action_duration
				slot18 = data
				slot14 = action_timeout_t

				CopLogicBase.add_delayed_clbk(slot10, my_data, my_data.action_timeout_clbk_id, callback(slot14, TeamAILogicIdle, TeamAILogicIdle, "clbk_action_timeout"))
			end

			if objective.type == "act" then
				slot10 = data.unit
				slot11 = objective.action

				if data.unit.brain(slot9).action_request(slot9, data.unit.brain(slot9)) then
					my_data.acting = true
				end

				my_data.performing_act_objective = objective

				if objective.action_start_clbk then
					slot10 = data.unit

					objective.action_start_clbk(slot9)
				end
			end
		end

		if objective.scan then
			my_data.scan = true

			if not my_data.acting then
				slot11 = data.key
				my_data.wall_stare_task_key = "CopLogicIdle._chk_stare_into_wall" .. tostring(slot10)
				slot14 = data.t

				CopLogicBase.queue_task(tostring(slot10), my_data, my_data.wall_stare_task_key, CopLogicIdle._scan_for_dangerous_areas, data)
			end
		end
	end

	return 
end
function TeamAILogicIdle.exit(data, new_logic_name, enter_params)
	slot7 = enter_params

	TeamAILogicBase.exit(slot4, data, new_logic_name)

	local my_data = data.internal_data

	if my_data.delayed_clbks and my_data.delayed_clbks[my_data.revive_complete_clbk_id] then
		local revive_unit = my_data.reviving
		slot7 = revive_unit

		if alive(slot6) then
			slot7 = revive_unit

			if revive_unit.interaction(slot6) then
				slot7 = revive_unit
				slot8 = data.unit

				revive_unit.interaction(slot6).interact_interupt(slot6, revive_unit.interaction(slot6))

				slot11 = data.unit
				slot9 = data.unit.unit_data(data.unit).name_label_id

				managers.hud.teammate_cancel_progress(slot6, managers.hud, data.unit.unit_data(slot9).teammate_panel_id)

				slot7 = managers.network
				slot9 = data.unit

				managers.network.session(slot6).send_to_peers_synched(slot6, managers.network.session(slot6), "sync_ai_interaction_cancel")
			else
				slot7 = revive_unit
				slot7 = revive_unit.character_damage(slot6)

				if revive_unit.character_damage(slot6).arrested(slot6) then
					slot7 = revive_unit
					slot7 = revive_unit.character_damage(slot6)

					revive_unit.character_damage(slot6).unpause_arrested_timer(slot6)
				else
					slot7 = revive_unit
					slot7 = revive_unit.character_damage(slot6)

					if revive_unit.character_damage(slot6).need_revive(slot6) then
						slot7 = revive_unit
						slot7 = revive_unit.character_damage(slot6)

						revive_unit.character_damage(slot6).unpause_downed_timer(slot6)

						slot11 = data.unit
						slot9 = data.unit.unit_data(data.unit).name_label_id

						managers.hud.teammate_cancel_progress(slot6, managers.hud, data.unit.unit_data(slot9).teammate_panel_id)

						slot7 = managers.network
						slot9 = data.unit

						managers.network.session(slot6).send_to_peers_synched(slot6, managers.network.session(slot6), "sync_ai_interaction_cancel")
					end
				end
			end
		end

		my_data.performing_act_objective = nil
		local crouch_action = {
			variant = "crouch",
			body_part = 1,
			type = "act",
			blocks = {
				heavy_hurt = -1,
				hurt = -1,
				action = -1,
				aim = -1,
				walk = -1
			}
		}
		slot8 = data.unit
		slot9 = crouch_action

		data.unit.movement(slot7).action_request(slot7, data.unit.movement(slot7))
	end

	slot6 = data.unit
	slot6 = data.unit.brain(slot5)

	data.unit.brain(slot5).cancel_all_pathing_searches(slot5)

	slot6 = my_data

	CopLogicBase.cancel_queued_tasks(slot5)

	slot6 = my_data

	CopLogicBase.cancel_delayed_clbks(slot5)

	slot7 = "path"

	data.brain.rem_pos_rsrv(slot5, data.brain)

	return 
end
function TeamAILogicIdle.update(data)
	TeamAILogicTravel._upd_ai_perceptors(slot2)

	local my_data = data.internal_data
	slot5 = my_data

	CopLogicIdle._upd_pathing(data, data)

	slot5 = my_data

	CopLogicIdle._upd_scan(data, data)

	local objective = data.objective

	if objective then
		if not my_data.acting then
			if objective.type == "follow" then
				slot7 = objective

				if TeamAILogicIdle._check_should_relocate(slot4, data, my_data) then
					slot5 = data.unit
					slot6 = "walk"

					if not data.unit.movement(slot4).chk_action_forbidden(slot4, data.unit.movement(slot4)) then
						objective.in_place = nil
						slot6 = "travel"

						TeamAILogicBase._exit(slot4, data.unit)
					end
				end
			elseif objective.type == "revive" then
				objective.in_place = nil
				slot6 = "travel"

				TeamAILogicBase._exit(slot4, data.unit)
			end
		end
	elseif not data.path_fail_t or 6 < data.t - data.path_fail_t then
		slot5 = managers.groupai
		slot6 = data.unit

		managers.groupai.state(slot4).on_criminal_jobless(slot4, managers.groupai.state(slot4))
	end

	return 
end
function TeamAILogicIdle.on_detected_enemy_destroyed(data, enemy_unit)
	return 
end
function TeamAILogicIdle.on_cop_neutralized(data, cop_key)
	return 
end
function TeamAILogicIdle.damage_clbk(data, damage_info)
	local attacker_unit = damage_info.attacker_unit

	if attacker_unit then
		slot6 = data.enemy_slotmask

		if attacker_unit.in_slot(slot4, attacker_unit) then
			local my_data = data.internal_data
			slot6 = attacker_unit
			local attacker_key = attacker_unit.key(slot5)
			local enemy_data = data.detected_attention_objects[attacker_key]
			slot8 = TimerManager
			slot8 = TimerManager.game(slot7)
			local t = TimerManager.game(slot7).time(slot7)

			if enemy_data then
				enemy_data.verified_t = t
				enemy_data.verified = true
				slot9 = enemy_data.verified_pos
				slot12 = attacker_unit
				slot12 = attacker_unit.movement(slot11)

				mvector3.set(slot8, attacker_unit.movement(slot11).m_stand_pos(slot11))

				slot9 = enemy_data.verified_pos
				slot12 = data.unit
				slot12 = data.unit.movement(slot11)
				enemy_data.verified_dis = mvector3.distance(slot8, data.unit.movement(slot11).m_stand_pos(slot11))
				enemy_data.dmg_t = t
				enemy_data.alert_t = t
				enemy_data.notice_delay = nil

				if not enemy_data.identified then
					enemy_data.identified = true
					enemy_data.identified_t = t
					enemy_data.notice_progress = nil
					enemy_data.prev_notice_chk_t = nil

					if enemy_data.settings.notice_clbk then
						slot10 = true

						enemy_data.settings.notice_clbk(slot8, data.unit)
					end
				end
			else
				slot9 = managers.groupai
				slot10 = data.SO_access_str
				local attention_info = managers.groupai.state(slot8).get_AI_attention_objects_by_filter(slot8, managers.groupai.state(slot8))[attacker_key]

				if attention_info then
					slot14 = data.team
					local settings = attention_info.handler.get_attention(slot9, attention_info.handler, data.SO_access, nil, nil)

					if settings then
						slot15 = settings
						enemy_data = CopLogicBase._create_detected_attention_object_data(slot10, data.t, data.unit, attacker_key, attention_info)
						enemy_data.verified_t = t
						enemy_data.verified = true
						enemy_data.dmg_t = t
						enemy_data.alert_t = t
						enemy_data.notice_progress = nil
						enemy_data.prev_notice_chk_t = nil
						enemy_data.identified = true
						enemy_data.identified_t = t

						if enemy_data.settings.notice_clbk then
							slot12 = true

							enemy_data.settings.notice_clbk(slot10, data.unit)
						end

						data.detected_attention_objects[attacker_key] = enemy_data
					end
				end
			end
		end
	end

	if (damage_info.result.type == "bleedout" or damage_info.result.type == "fatal" or damage_info.variant == "tase") and data.name ~= "disabled" then
		slot6 = "disabled"

		CopLogicBase._exit(slot4, data.unit)
	end

	return 
end
function TeamAILogicIdle.on_objective_unit_damaged(data, unit, attacker_unit)
	if attacker_unit ~= nil then
		slot6 = {
			"aggression",
			attacker_unit.movement(slot8).m_pos(slot8),
			[5] = attacker_unit
		}
		slot9 = attacker_unit
		slot9 = attacker_unit.movement(slot8)

		TeamAILogicIdle.on_alert(slot4, data)
	end

	return 
end
function TeamAILogicIdle.on_alert(data, alert_data)
	local alert_type = alert_data[1]
	local alert_unit = alert_data[5]

	if alert_unit then
		slot7 = data.enemy_slotmask

		if alert_unit.in_slot(slot5, alert_unit) then
			slot6 = data
			slot9 = alert_unit
			local att_obj_data, is_new = CopLogicBase.identify_attention_obj_instant(slot5, alert_unit.key(slot8))

			if att_obj_data and (alert_type == "bullet" or alert_type == "aggression" or alert_type == "explosion") then
				slot8 = TimerManager
				slot8 = TimerManager.game(slot7)
				att_obj_data.alert_t = TimerManager.game(slot7).time(slot7)
			end
		end
	end

	return 
end
function TeamAILogicIdle.on_long_dis_interacted(data, other_unit)
	if data.objective and data.objective.type == "revive" then
		return 
	end

	local objective_type, objective_action, interrupt = nil
	slot7 = other_unit

	if other_unit.base(slot6).is_local_player then
		slot7 = other_unit
		slot7 = other_unit.character_damage(slot6)

		if other_unit.character_damage(slot6).need_revive(slot6) then
			objective_type = "revive"
			objective_action = "revive"
		else
			slot7 = other_unit
			slot7 = other_unit.character_damage(slot6)

			if other_unit.character_damage(slot6).arrested(slot6) then
				objective_type = "revive"
				objective_action = "untie"
			else
				objective_type = "follow"
			end
		end
	else
		slot7 = other_unit
		slot7 = other_unit.movement(slot6)

		if other_unit.movement(slot6).need_revive(slot6) then
			objective_type = "revive"
			slot7 = other_unit
			slot7 = other_unit.movement(slot6)

			if other_unit.movement(slot6).current_state_name(slot6) == "arrested" then
				objective_action = "untie"
			else
				objective_action = "revive"
			end
		else
			objective_type = "follow"
		end
	end

	local objective = nil

	if objective_type == "follow" then
		objective = {
			scan = true,
			destroy_clbk_key = false,
			called = true,
			type = objective_type,
			follow_unit = other_unit
		}
		slot10 = {
			skip_idle_check = true,
			instigator = managers.player.local_player(slot12)
		}
		slot13 = managers.player

		managers.dialog.queue_dialog(slot7, managers.dialog, "player_intimidate_follow")
	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 83-108, warpins: 1 ---
		local followup_objective = {
			scan = true,
			type = "act"
		}
		followup_objective.action = {
			variant = "crouch",
			body_part = 1,
			type = "act",
			blocks = {
				heavy_hurt = -1,
				hurt = -1,
				action = -1,
				aim = -1,
				walk = -1
			}
		}
		slot7 = {
			type = "revive",
			called = true,
			scan = true,
			destroy_clbk_key = false,
			follow_unit = other_unit,
			nav_seg = other_unit.movement(slot9).nav_tracker(slot9).nav_segment(slot9),
			action = {
				align_sync = true,
				type = "act",
				body_part = 1,
				variant = objective_action,
				blocks = {
					light_hurt = -1,
					hurt = -1,
					action = -1,
					heavy_hurt = -1,
					aim = -1,
					walk = -1
				}
			}
		}
		slot10 = other_unit
		slot10 = other_unit.movement(slot9)
		slot10 = other_unit.movement(slot9).nav_tracker(slot9)
		slot8 = tweak_data.interaction
		slot9 = (objective_action == "untie" and "free") or objective_action
		slot7.action_duration = tweak_data.interaction[(objective_action == "untie" and "free") or objective_action].timer
		slot7.followup_objective = followup_objective
		objective = 
		slot9 = other_unit
		slot11 = true

		other_unit.sound(tweak_data.interaction[(objective_action == "untie" and "free") or objective_action].timer).say(tweak_data.interaction[(objective_action == "untie" and "free") or objective_action].timer, other_unit.sound(tweak_data.interaction[(objective_action == "untie" and "free") or objective_action].timer), "player_gen_call_help")

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #1 109-110, warpins: 1 ---
		slot9 = "free"

		if "free" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 111-111, warpins: 1 ---
			slot9 = objective_action
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 112-124, warpins: 2 ---
		--- END OF BLOCK #2 ---



	end

	slot8 = data.unit
	slot9 = objective

	data.unit.brain(slot7).set_objective(slot7, data.unit.brain(slot7))

	return 
end
function TeamAILogicIdle.on_new_objective(data, old_objective)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	local new_objective = data.objective
	slot6 = old_objective

	TeamAILogicBase.on_new_objective(slot4, data)

	local my_data = data.internal_data

	if not my_data.exiting then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-12, warpins: 1 ---
		if new_objective then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 13-15, warpins: 1 ---
			if (new_objective.nav_seg or new_objective.follow_unit) and not new_objective.in_place then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 22-27, warpins: 1 ---
				slot7 = "travel"

				CopLogicBase._exit(slot5, data.unit)
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 28-33, warpins: 2 ---
				slot7 = "idle"

				CopLogicBase._exit(slot5, data.unit)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 34-39, warpins: 1 ---
			slot7 = "idle"

			CopLogicBase._exit(slot5, data.unit)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 40-45, warpins: 1 ---
		slot4 = debug_pause
		slot6 = "[TeamAILogicIdle.on_new_objective] Already exiting"
		slot7 = data.name
		slot8 = data.unit

		if old_objective then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 46-48, warpins: 1 ---
			slot11 = old_objective
			slot9 = inspect(slot10)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 49-50, warpins: 2 ---
		if new_objective then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 51-53, warpins: 1 ---
			slot12 = new_objective
			slot10 = inspect(slot11)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 54-54, warpins: 2 ---
		slot4(slot5, slot6, slot7, slot8, slot9)
		--- END OF BLOCK #2 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 55-56, warpins: 4 ---
	if new_objective and new_objective.stance then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 60-62, warpins: 1 ---
		if new_objective.stance == "ntl" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 63-71, warpins: 1 ---
			slot6 = data.unit
			slot7 = true

			data.unit.movement(slot5).set_cool(slot5, data.unit.movement(slot5))
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 72-79, warpins: 1 ---
			slot6 = data.unit
			slot7 = false

			data.unit.movement(slot5).set_cool(slot5, data.unit.movement(slot5))
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 80-81, warpins: 4 ---
	if old_objective and old_objective.fail_clbk then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 85-87, warpins: 1 ---
		slot6 = data.unit

		old_objective.fail_clbk(slot5)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 88-88, warpins: 3 ---
	return 
	--- END OF BLOCK #3 ---



end
function TeamAILogicIdle._upd_enemy_detection(data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-22, warpins: 1 ---
	slot3 = managers.groupai
	slot4 = data.unit

	managers.groupai.state(slot2).on_unit_detection_updated(slot2, managers.groupai.state(slot2))

	slot3 = TimerManager
	slot3 = TimerManager.game(slot2)
	data.t = TimerManager.game(slot2).time(slot2)
	local my_data = data.internal_data
	local max_reaction = nil

	if data.cool then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 23-24, warpins: 1 ---
		max_reaction = AIAttentionObject.REACT_SURPRISED
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 25-39, warpins: 2 ---
	slot7 = max_reaction
	local delay = CopLogicBase._upd_attention_obj_detection(slot4, data, nil)
	slot8 = nil
	local new_attention, new_prio_slot, new_reaction = TeamAILogicIdle._get_priority_attention(data, data, data.detected_attention_objects)

	if (not my_data._intimidate_t or my_data._intimidate_t + 2 < data.t) and not data.cool and not my_data._turning_to_intimidate and not my_data.acting and (not new_attention or AIAttentionObject.REACT_SCARED > new_reaction) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 60-73, warpins: 2 ---
		slot9 = data.unit
		slot10 = "walk"
		local can_turn = not data.unit.movement(slot8).chk_action_forbidden(slot8, data.unit.movement(slot8))
		slot8 = TeamAILogicIdle.find_civilian_to_intimidate
		slot10 = data.unit

		if can_turn then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 74-75, warpins: 1 ---
			slot11 = 180
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 76-76, warpins: 1 ---
			slot11 = 90
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 77-80, warpins: 2 ---
		slot12 = 1200
		local civ = slot8(slot9, slot10, slot11)

		if civ then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 81-85, warpins: 1 ---
			my_data._intimidate_t = data.t
			new_attention, new_prio_slot, new_reaction = nil

			if can_turn then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 86-99, warpins: 1 ---
				slot13 = data.m_pos
				slot16 = civ
				slot16 = civ.movement(slot15)
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 104-110, warpins: 2 ---
				slot14 = true

				TeamAILogicIdle.intimidate_civilians(slot10, data, data.unit, true)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 111-118, warpins: 8 ---
	slot11 = new_reaction

	TeamAILogicBase._set_attention_obj(slot8, data, new_attention)

	if new_reaction and AIAttentionObject.REACT_SCARED <= new_reaction then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 123-133, warpins: 1 ---
		local objective = data.objective
		local wanted_state = nil
		slot14 = new_attention
		local allow_trans, obj_failed = CopLogicBase.is_obstructed(slot10, data, objective, nil)

		if allow_trans then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 134-142, warpins: 1 ---
			slot14 = new_reaction
			wanted_state = TeamAILogicBase._get_logic_state_from_reaction(slot12, data)
			local objective = data.objective

			if objective and objective.type == "revive" then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 146-153, warpins: 1 ---
				local revive_unit = objective.follow_unit
				local timer = nil
				slot16 = revive_unit

				if revive_unit.base(slot15).is_local_player then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 154-158, warpins: 1 ---
					slot16 = revive_unit
					timer = revive_unit.character_damage(slot15)._downed_timer
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 159-164, warpins: 1 ---
					slot16 = revive_unit

					if revive_unit.interaction(slot15).get_waypoint_time then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 165-171, warpins: 1 ---
						slot16 = revive_unit
						slot16 = revive_unit.interaction(slot15)
						timer = revive_unit.interaction(slot15).get_waypoint_time(slot15)
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 172-173, warpins: 3 ---
				if timer and timer <= 10 then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 177-177, warpins: 1 ---
					wanted_state = nil
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 178-179, warpins: 6 ---
		if wanted_state and wanted_state ~= data.name then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 183-184, warpins: 1 ---
			if obj_failed then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 185-188, warpins: 1 ---
				slot14 = data.objective

				data.objective_failed_clbk(slot12, data.unit)
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 189-191, warpins: 2 ---
			if my_data == data.internal_data then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 192-196, warpins: 1 ---
				slot14 = wanted_state

				CopLogicBase._exit(slot12, data.unit)
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 197-197, warpins: 2 ---
			return 
			--- END OF BLOCK #2 ---



		end
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 198-201, warpins: 5 ---
	if data.logic._upd_sneak_spotting then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 202-207, warpins: 1 ---
		slot10 = my_data

		data.logic._upd_sneak_spotting(slot8, data)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 208-210, warpins: 1 ---
		slot9 = "[TeamAILogicIdle._upd_enemy_detection]  data.logic._upd_sneak_spotting is nil. Pissible cause: unit shouldn't be able to search for player"

		debug_pause(slot8)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 211-221, warpins: 2 ---
	slot13 = data.t + delay

	CopLogicBase.queue_task(slot8, my_data, my_data.detection_task_key, TeamAILogicIdle._upd_enemy_detection, data)

	return 
	--- END OF BLOCK #4 ---



end
function TeamAILogicIdle.find_civilian_to_intimidate(criminal, max_angle, max_dis)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	slot8 = max_dis
	local best_civ = TeamAILogicIdle._find_intimidateable_civilians(slot4, criminal, false, max_angle)

	return best_civ
	--- END OF BLOCK #0 ---



end
function TeamAILogicIdle._find_intimidateable_civilians(criminal, use_default_shout_shape, max_angle, max_dis)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-39, warpins: 1 ---
	slot6 = criminal
	local head_pos = criminal.movement(slot5).m_head_pos(slot5)
	slot7 = criminal
	slot7 = criminal.movement(criminal.movement(slot5))
	slot7 = criminal.movement(criminal.movement(slot5)).m_rot(criminal.movement(slot5))
	local look_vec = criminal.movement(criminal.movement(slot5)).m_rot(criminal.movement(slot5)).y(criminal.movement(slot5))
	local close_dis = 400
	local intimidateable_civilians = {}
	local best_civ = nil
	local best_civ_wgt = false
	local best_civ_angle = nil
	local highest_wgt = 1
	slot14 = criminal
	slot14 = criminal.movement(slot13)
	local my_tracker = criminal.movement(slot13).nav_tracker(slot13)
	local chk_vis_func = my_tracker.check_visibility
	slot18 = managers.groupai
	slot18 = managers.groupai.state(slot17)

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 40-165, warpins: 0 ---
	for key, unit in pairs(managers.groupai.state(slot17).fleeing_civilians(slot17)) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 40-50, warpins: 1 ---
		slot21 = my_tracker
		slot24 = unit
		slot24 = unit.movement(slot23)

		if chk_vis_func(slot20, unit.movement(slot23).nav_tracker(slot23)) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 51-60, warpins: 1 ---
			slot22 = unit

			if tweak_data.character[unit.base(slot21)._tweak_table].intimidateable then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 61-66, warpins: 1 ---
				slot21 = unit

				if not unit.base(slot20).unintimidateable then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 67-72, warpins: 1 ---
					slot21 = unit

					if not unit.anim_data(slot20).unintimidateable then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 73-80, warpins: 1 ---
						slot21 = unit
						slot21 = unit.brain(slot20)

						if not unit.brain(slot20).is_tied(slot20) then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 81-101, warpins: 1 ---
							slot21 = unit
							slot21 = unit.movement(slot20)
							local u_head_pos = unit.movement(slot20).m_head_pos(slot20) + math.UP * 30
							local vec = u_head_pos - head_pos
							local dis = mvector3.normalize(slot22)
							slot25 = look_vec
							local angle = vec.angle(vec, vec)

							if use_default_shout_shape then

								-- Decompilation error in this vicinity:
								--- BLOCK #0 102-113, warpins: 1 ---
								slot25 = 8
								slot30 = dis / 1200
								max_angle = math.max(slot24, math.lerp(slot27, 90, 30))
								max_dis = 1200
								--- END OF BLOCK #0 ---



							end

							--- END OF BLOCK #0 ---

							FLOW; TARGET BLOCK #1



							-- Decompilation error in this vicinity:
							--- BLOCK #1 114-115, warpins: 2 ---
							if dis < close_dis or (dis < max_dis and angle < max_angle) then

								-- Decompilation error in this vicinity:
								--- BLOCK #0 120-138, warpins: 2 ---
								slot26 = "AI_visibility"
								local slotmask = managers.slot.get_mask(slot24, managers.slot)
								slot33 = "ai_vision"
								local ray = World.raycast(managers.slot, World, "ray", head_pos, u_head_pos, "slot_mask", slotmask, "ray_type")

								if not ray then

									-- Decompilation error in this vicinity:
									--- BLOCK #0 139-155, warpins: 1 ---
									slot29 = look_vec
									local inv_wgt = dis * dis * (1 - vec.dot(slot27, vec))
									slot29 = {
										unit = unit,
										key = key,
										inv_wgt = inv_wgt
									}

									table.insert(slot27, intimidateable_civilians)

									if not best_civ_wgt or inv_wgt < best_civ_wgt then

										-- Decompilation error in this vicinity:
										--- BLOCK #0 158-160, warpins: 2 ---
										best_civ_wgt = inv_wgt
										best_civ = unit
										best_civ_angle = angle
										--- END OF BLOCK #0 ---



									end

									--- END OF BLOCK #0 ---

									FLOW; TARGET BLOCK #1



									-- Decompilation error in this vicinity:
									--- BLOCK #1 161-162, warpins: 2 ---
									if highest_wgt < inv_wgt then

										-- Decompilation error in this vicinity:
										--- BLOCK #0 163-163, warpins: 1 ---
										highest_wgt = inv_wgt
										--- END OF BLOCK #0 ---



									end
									--- END OF BLOCK #1 ---



								end
								--- END OF BLOCK #0 ---



							end
							--- END OF BLOCK #1 ---



						end
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 164-165, warpins: 11 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 166-169, warpins: 1 ---
	return best_civ, highest_wgt, intimidateable_civilians
	--- END OF BLOCK #2 ---



end
function TeamAILogicIdle.intimidate_civilians(data, criminal, play_sound, play_action, primary_target)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if primary_target then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-7, warpins: 1 ---
		slot7 = primary_target
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 23-32, warpins: 3 ---
	slot8 = true
	local best_civ, highest_wgt, intimidateable_civilians = TeamAILogicIdle._find_intimidateable_civilians(slot6, criminal)
	local plural = false

	if 1 < #intimidateable_civilians then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 33-34, warpins: 1 ---
		plural = true
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 35-38, warpins: 1 ---
		if #intimidateable_civilians <= 0 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 39-40, warpins: 1 ---
			return false
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 41-43, warpins: 3 ---
	local act_name, sound_name = nil

	if plural then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 44-45, warpins: 1 ---
		slot11 = "plu"
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 46-46, warpins: 1 ---
		local sound_suffix = "sin"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 47-52, warpins: 2 ---
	slot14 = best_civ

	if best_civ.anim_data(slot13).move then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 53-57, warpins: 1 ---
		act_name = "gesture_stop"
		sound_name = "f02x_" .. sound_suffix
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 58-61, warpins: 1 ---
		act_name = "arrest"
		sound_name = "f02x_" .. sound_suffix
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 62-63, warpins: 2 ---
	if play_sound then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 64-71, warpins: 1 ---
		slot14 = criminal
		slot16 = true

		criminal.sound(slot13).say(slot13, criminal.sound(slot13), sound_name)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 72-73, warpins: 2 ---
	if play_action then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 74-82, warpins: 1 ---
		slot14 = criminal
		slot15 = "action"

		if not criminal.movement(slot13).chk_action_forbidden(slot13, criminal.movement(slot13)) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 83-93, warpins: 1 ---
			local new_action = {
				align_sync = true,
				body_part = 3,
				type = "act"
			}
			new_action.variant = act_name
			slot15 = criminal
			slot16 = new_action

			if criminal.brain(slot14).action_request(slot14, criminal.brain(slot14)) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 94-96, warpins: 1 ---
				data.internal_data.gesture_arrest = true
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 97-101, warpins: 4 ---
	local intimidated_primary_target = false
	slot15 = intimidateable_civilians

	--- END OF BLOCK #6 ---

	FLOW; TARGET BLOCK #7



	-- Decompilation error in this vicinity:
	--- BLOCK #7 102-123, warpins: 0 ---
	for _, civ in ipairs(slot14) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 102-106, warpins: 1 ---
		local amount = civ.inv_wgt / highest_wgt

		if best_civ == civ.unit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 107-107, warpins: 1 ---
			amount = 1
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 108-110, warpins: 2 ---
		if primary_target == civ.unit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 111-112, warpins: 1 ---
			intimidated_primary_target = true
			amount = 1
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 113-121, warpins: 2 ---
		slot21 = civ.unit
		slot23 = criminal

		civ.unit.brain(slot20).on_intimidated(slot20, civ.unit.brain(slot20), amount)
		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 122-123, warpins: 2 ---
		--- END OF BLOCK #3 ---



	end

	--- END OF BLOCK #7 ---

	FLOW; TARGET BLOCK #8



	-- Decompilation error in this vicinity:
	--- BLOCK #8 124-125, warpins: 1 ---
	if not intimidated_primary_target and primary_target then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 128-135, warpins: 1 ---
		slot15 = primary_target
		slot17 = criminal

		primary_target.brain(slot14).on_intimidated(slot14, primary_target.brain(slot14), 1)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #8 ---

	FLOW; TARGET BLOCK #9



	-- Decompilation error in this vicinity:
	--- BLOCK #9 136-145, warpins: 3 ---
	slot15 = managers.groupai
	slot15 = managers.groupai.state(slot14)

	if not managers.groupai.state(slot14).enemy_weapons_hot(slot14) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 146-161, warpins: 1 ---
		local alert = {
			"vo_intimidate",
			nil,
			800
		}
		alert[2] = data.m_pos
		alert[4] = data.SO_access
		alert[5] = data.unit
		slot16 = managers.groupai
		slot17 = alert

		managers.groupai.state(slot15).propagate_alert(slot15, managers.groupai.state(slot15))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #9 ---

	FLOW; TARGET BLOCK #10



	-- Decompilation error in this vicinity:
	--- BLOCK #10 162-163, warpins: 2 ---
	if not primary_target then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 164-164, warpins: 1 ---
		slot13 = best_civ
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #10 ---

	FLOW; TARGET BLOCK #11



	-- Decompilation error in this vicinity:
	--- BLOCK #11 165-165, warpins: 2 ---
	return slot13
	--- END OF BLOCK #11 ---



end
function TeamAILogicIdle.on_action_completed(data, action)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-6, warpins: 1 ---
	local my_data = data.internal_data
	slot5 = action
	local action_type = action.type(slot4)

	if action_type == "turn" then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-12, warpins: 1 ---
		data.internal_data.turning = nil

		if my_data._turning_to_intimidate then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 13-25, warpins: 1 ---
			my_data._turning_to_intimidate = nil
			slot10 = my_data._primary_intimidation_target

			TeamAILogicIdle.intimidate_civilians(slot5, data, data.unit, true, true)

			my_data._primary_intimidation_target = nil
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 26-27, warpins: 1 ---
		if action_type == "act" then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 28-32, warpins: 1 ---
			my_data.acting = nil

			if my_data.scan and not my_data.exiting and (not my_data.queued_tasks or not my_data.queued_tasks[my_data.wall_stare_task_key]) and not my_data.stare_path_pos then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 47-61, warpins: 1 ---
				slot7 = data.key
				my_data.wall_stare_task_key = "CopLogicIdle._chk_stare_into_wall" .. tostring(slot6)
				slot10 = data.t

				CopLogicBase.queue_task(tostring(slot6), my_data, my_data.wall_stare_task_key, CopLogicIdle._scan_for_dangerous_areas, data)
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 62-64, warpins: 5 ---
			if my_data.performing_act_objective then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 65-70, warpins: 1 ---
				local old_objective = my_data.performing_act_objective
				my_data.performing_act_objective = nil

				if my_data.delayed_clbks and my_data.delayed_clbks[my_data.revive_complete_clbk_id] then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 76-88, warpins: 1 ---
					slot8 = my_data.revive_complete_clbk_id

					CopLogicBase.cancel_delayed_clbk(slot6, my_data)

					my_data.revive_complete_clbk_id = nil
					local revive_unit = my_data.reviving
					slot8 = revive_unit

					if revive_unit.interaction(my_data) then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 89-96, warpins: 1 ---
						slot8 = revive_unit
						slot8 = revive_unit.interaction(slot7)

						if revive_unit.interaction(slot7).active(slot7) then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 97-104, warpins: 1 ---
							slot8 = revive_unit
							slot9 = data.unit

							revive_unit.interaction(slot7).interact_interupt(slot7, revive_unit.interaction(slot7))
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 105-112, warpins: 1 ---
						slot8 = revive_unit
						slot8 = revive_unit.character_damage(slot7)

						if revive_unit.character_damage(slot7).arrested(slot7) then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 113-119, warpins: 1 ---
							slot8 = revive_unit
							slot8 = revive_unit.character_damage(slot7)

							revive_unit.character_damage(slot7).unpause_arrested_timer(slot7)
							--- END OF BLOCK #0 ---



						else

							-- Decompilation error in this vicinity:
							--- BLOCK #0 120-127, warpins: 1 ---
							slot8 = revive_unit
							slot8 = revive_unit.character_damage(slot7)

							if revive_unit.character_damage(slot7).need_revive(slot7) then

								-- Decompilation error in this vicinity:
								--- BLOCK #0 128-133, warpins: 1 ---
								slot8 = revive_unit
								slot8 = revive_unit.character_damage(slot7)

								revive_unit.character_damage(slot7).unpause_downed_timer(slot7)
								--- END OF BLOCK #0 ---



							end
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					end

					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 134-140, warpins: 5 ---
					my_data.reviving = nil
					slot9 = data.objective

					data.objective_failed_clbk(slot7, data.unit)
					--- END OF BLOCK #1 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 141-145, warpins: 2 ---
					slot7 = action

					if action.expired(slot6) then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 146-148, warpins: 1 ---
						if not my_data.action_timeout_clbk_id then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 149-153, warpins: 1 ---
							slot8 = old_objective

							data.objective_complete_clbk(slot6, data.unit)
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 154-157, warpins: 1 ---
						slot8 = old_objective

						data.objective_failed_clbk(slot6, data.unit)
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 158-158, warpins: 8 ---
	return 
	--- END OF BLOCK #1 ---



end
function TeamAILogicIdle.is_available_for_assignment(data, new_objective)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-4, warpins: 1 ---
	if data.internal_data.exiting then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 5-6, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 7-9, warpins: 1 ---
		if data.path_fail_t and data.t < data.path_fail_t + 6 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 15-16, warpins: 1 ---
			return 
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 17-19, warpins: 2 ---
			if data.objective then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 20-23, warpins: 1 ---
				if data.internal_data.performing_act_objective then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 24-30, warpins: 1 ---
					slot4 = data.unit

					if not data.unit.anim_data(slot3).act_idle then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 31-31, warpins: 1 ---
						return 
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 32-33, warpins: 3 ---
				if new_objective then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 34-41, warpins: 1 ---
					slot6 = 0.2

					if CopLogicBase.is_obstructed(slot3, data, new_objective) then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 42-42, warpins: 1 ---
						return 
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end

				--- END OF BLOCK #1 ---

				FLOW; TARGET BLOCK #2



				-- Decompilation error in this vicinity:
				--- BLOCK #2 43-46, warpins: 3 ---
				local old_objective_type = data.objective.type

				if not new_objective then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 47-47, warpins: 1 ---
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 48-49, warpins: 1 ---
					if old_objective_type == "revive" then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 50-51, warpins: 1 ---
						return 
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 52-53, warpins: 1 ---
						if old_objective_type == "follow" and data.objective.called then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 58-58, warpins: 1 ---
							return 
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #2 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 59-60, warpins: 8 ---
	return true
	--- END OF BLOCK #1 ---



end
function TeamAILogicIdle.clbk_heat(data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	local inventory = data.unit.inventory(slot2)
	slot5 = 2

	if inventory.is_selection_available(data.unit, inventory) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-15, warpins: 1 ---
		slot4 = inventory

		if inventory.equipped_selection(slot3) ~= 2 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-19, warpins: 1 ---
			slot5 = 2

			inventory.equip_selection(slot3, inventory)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 20-20, warpins: 3 ---
	return 
	--- END OF BLOCK #1 ---



end
function TeamAILogicIdle.clbk_revive_complete(ignore_this, data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-16, warpins: 1 ---
	local my_data = data.internal_data
	slot6 = my_data.revive_complete_clbk_id

	CopLogicBase.on_delayed_clbk(slot4, my_data)

	my_data.revive_complete_clbk_id = nil
	local revive_unit = my_data.reviving
	my_data.reviving = nil
	slot6 = revive_unit

	if alive(my_data) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 17-25, warpins: 1 ---
		slot7 = my_data.performing_act_objective

		data.objective_complete_clbk(slot5, data.unit)

		slot6 = revive_unit

		if revive_unit.interaction(slot5) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 26-33, warpins: 1 ---
			slot6 = revive_unit
			slot6 = revive_unit.interaction(slot5)

			if revive_unit.interaction(slot5).active(slot5) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 34-66, warpins: 1 ---
				slot6 = revive_unit
				slot7 = data.unit

				revive_unit.interaction(slot5).interact(slot5, revive_unit.interaction(slot5))

				slot10 = data.unit
				slot8 = data.unit.unit_data(data.unit).name_label_id

				managers.hud.teammate_complete_progress(slot5, managers.hud, data.unit.unit_data(slot8).teammate_panel_id)

				slot6 = managers.network
				slot8 = data.unit

				managers.network.session(slot5).send_to_peers_synched(slot5, managers.network.session(slot5), "sync_ai_interaction_complete")
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 67-71, warpins: 1 ---
			slot6 = revive_unit

			if revive_unit.character_damage(slot5) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 72-79, warpins: 1 ---
				slot6 = revive_unit
				slot6 = revive_unit.character_damage(slot5)
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 144-152, warpins: 1 ---
		slot8 = data.unit

		print(slot5, "[TeamAILogicIdle.clbk_revive_complete] Revive unit dead.", revive_unit)

		slot7 = data.performing_act_objective

		data.objective_failed_clbk(slot5, data.unit)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 153-153, warpins: 6 ---
	return 
	--- END OF BLOCK #1 ---



end
function TeamAILogicIdle.clbk_action_timeout(ignore_this, data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-12, warpins: 1 ---
	local my_data = data.internal_data
	slot6 = my_data.action_timeout_clbk_id

	CopLogicBase.on_delayed_clbk(slot4, my_data)

	my_data.action_timeout_clbk_id = nil
	local old_objective = data.objective

	if my_data.performing_act_objective then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 13-16, warpins: 1 ---
		my_data.performing_act_objective = nil
		my_data.acting = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 17-18, warpins: 2 ---
	if not old_objective then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 19-23, warpins: 1 ---
		slot7 = "[TeamAILogicIdle.clbk_action_timeout] missing objective"

		debug_pause_unit(slot5, data.unit)

		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 24-28, warpins: 2 ---
	slot7 = old_objective

	data.objective_complete_clbk(slot5, data.unit)

	return 
	--- END OF BLOCK #2 ---



end
function TeamAILogicIdle._check_should_relocate(data, my_data, objective)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-12, warpins: 1 ---
	local follow_unit = objective.follow_unit
	slot8 = data.unit
	slot8 = data.unit.movement(slot7)

	if not alive(data.unit.movement(slot7).nav_tracker(slot7)) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 13-14, warpins: 1 ---
		return true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 15-46, warpins: 2 ---
	slot6 = data.unit
	slot6 = data.unit.movement(slot5)
	local my_nav_seg_id = data.unit.movement(slot5).nav_tracker(slot5).nav_segment(slot5)
	slot7 = managers.groupai
	slot8 = my_nav_seg_id
	local my_areas = managers.groupai.state(data.unit.movement(slot5).nav_tracker(slot5)).get_areas_from_nav_seg_id(data.unit.movement(slot5).nav_tracker(slot5), managers.groupai.state(data.unit.movement(slot5).nav_tracker(slot5)))
	slot8 = follow_unit
	slot8 = follow_unit.movement(managers.groupai.state(data.unit.movement(slot5).nav_tracker(slot5)))
	local follow_unit_nav_seg_id = follow_unit.movement(managers.groupai.state(data.unit.movement(slot5).nav_tracker(slot5))).nav_tracker(managers.groupai.state(data.unit.movement(slot5).nav_tracker(slot5))).nav_segment(managers.groupai.state(data.unit.movement(slot5).nav_tracker(slot5)))
	slot9 = my_areas

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 47-53, warpins: 0 ---
	for _, area in ipairs(follow_unit.movement(managers.groupai.state(data.unit.movement(slot5).nav_tracker(slot5))).nav_tracker(managers.groupai.state(data.unit.movement(slot5).nav_tracker(slot5)))) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 47-50, warpins: 1 ---
		if area.nav_segs[follow_unit_nav_seg_id] then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 51-51, warpins: 1 ---
			return 
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 52-53, warpins: 3 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 54-58, warpins: 1 ---
	local is_my_area_dangerous, is_follow_unit_area_dangerous = nil
	slot11 = my_areas

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 59-66, warpins: 0 ---
	for _, area in ipairs(slot10) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 59-62, warpins: 1 ---
		if area.nav_segs[follow_unit_nav_seg_id] then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 63-64, warpins: 1 ---
			is_my_area_dangerous = true

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 65-65, warpins: 1 ---
			break
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 65-66, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 67-79, warpins: 2 ---
	slot11 = managers.groupai
	slot12 = follow_unit_nav_seg_id
	local follow_unit_areas = managers.groupai.state(slot10).get_areas_from_nav_seg_id(slot10, managers.groupai.state(slot10))
	slot12 = follow_unit_areas

	--- END OF BLOCK #5 ---

	FLOW; TARGET BLOCK #6



	-- Decompilation error in this vicinity:
	--- BLOCK #6 80-89, warpins: 0 ---
	for _, area in ipairs(managers.groupai.state(slot10)) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 80-85, warpins: 1 ---
		slot17 = area.police.units

		if next(slot16) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 86-87, warpins: 1 ---
			is_follow_unit_area_dangerous = true

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 88-88, warpins: 1 ---
			break
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 88-89, warpins: 2 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #6 ---

	FLOW; TARGET BLOCK #7



	-- Decompilation error in this vicinity:
	--- BLOCK #7 90-91, warpins: 2 ---
	if is_my_area_dangerous and not is_follow_unit_area_dangerous then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 94-95, warpins: 1 ---
		return true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #7 ---

	FLOW; TARGET BLOCK #8



	-- Decompilation error in this vicinity:
	--- BLOCK #8 96-122, warpins: 3 ---
	local max_allowed_dis_xy = 500
	local max_allowed_dis_z = 250
	slot14 = tmp_vec1
	slot17 = follow_unit
	slot17 = follow_unit.movement(slot16)

	mvector3.set(slot13, follow_unit.movement(slot16).m_pos(slot16))

	slot15 = data.m_pos

	mvector3.subtract(slot13, tmp_vec1)

	local too_far = nil
	slot17 = tmp_vec1

	if max_allowed_dis_z < math.abs(mvector3.z(slot16)) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 123-124, warpins: 1 ---
		too_far = true
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 125-135, warpins: 1 ---
		slot16 = 0

		mvector3.set_z(slot14, tmp_vec1)

		slot15 = tmp_vec1

		if max_allowed_dis_xy < mvector3.length(slot14) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 136-136, warpins: 1 ---
			too_far = true
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #8 ---

	FLOW; TARGET BLOCK #9



	-- Decompilation error in this vicinity:
	--- BLOCK #9 137-138, warpins: 3 ---
	if too_far then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 139-140, warpins: 1 ---
		return true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #9 ---

	FLOW; TARGET BLOCK #10



	-- Decompilation error in this vicinity:
	--- BLOCK #10 141-141, warpins: 2 ---
	return 
	--- END OF BLOCK #10 ---



end
function TeamAILogicIdle._get_priority_attention(data, attention_objects, reaction_func)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if not reaction_func then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-4, warpins: 1 ---
		reaction_func = TeamAILogicBase._chk_reaction_to_attention_object
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-9, warpins: 2 ---
	local best_target, best_target_priority_slot, best_target_priority, best_target_reaction = nil
	slot9 = attention_objects

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 10-248, warpins: 0 ---
	for u_key, attention_data in pairs(slot8) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-14, warpins: 1 ---
		local att_unit = attention_data.unit
		local crim_record = attention_data.criminal_record

		if not attention_data.identified then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 15-15, warpins: 1 ---
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-18, warpins: 1 ---
			if attention_data.pause_expire_t then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 19-22, warpins: 1 ---
				if attention_data.pause_expire_t < data.t then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 23-25, warpins: 1 ---
					attention_data.pause_expire_t = nil
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 26-28, warpins: 1 ---
				if attention_data.stare_expire_t and attention_data.stare_expire_t < data.t then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 33-36, warpins: 1 ---
					if attention_data.settings.pause then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 37-54, warpins: 1 ---
						attention_data.stare_expire_t = nil
						slot18 = attention_data.settings.pause[2]
						attention_data.pause_expire_t = data.t + math.lerp(slot16, attention_data.settings.pause[1], math.random())
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 55-75, warpins: 2 ---
					slot17 = attention_data.m_pos
					local distance = mvector3.distance(slot15, data.m_pos)
					slot21 = data
					slot19 = not CopLogicAttack._can_move(slot20)
					local reaction = reaction_func(data.m_pos, data, attention_data)
					slot16 = TeamAILogicIdle.chk_am_i_aimed_at
					slot18 = data
					slot19 = attention_data

					if attention_data.aimed_at then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 76-77, warpins: 1 ---
						slot20 = 0.95
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 78-78, warpins: 1 ---
						slot20 = 0.985
						--- END OF BLOCK #0 ---



					end

					--- END OF BLOCK #0 ---

					FLOW; TARGET BLOCK #1



					-- Decompilation error in this vicinity:
					--- BLOCK #1 79-83, warpins: 2 ---
					local aimed_at = slot16(slot17, slot18, slot19)
					attention_data.aimed_at = aimed_at
					local reaction_too_mild = nil

					if not reaction or (best_target_reaction and reaction < best_target_reaction) then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 88-89, warpins: 2 ---
						reaction_too_mild = true
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 90-92, warpins: 2 ---
						if distance < 150 and reaction <= AIAttentionObject.REACT_SURPRISED then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 97-97, warpins: 1 ---
							reaction_too_mild = true
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					end

					--- END OF BLOCK #1 ---

					FLOW; TARGET BLOCK #2



					-- Decompilation error in this vicinity:
					--- BLOCK #2 98-99, warpins: 4 ---
					if not reaction_too_mild then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 100-102, warpins: 1 ---
						if not attention_data.alert_t or not (data.t - attention_data.alert_t) then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 108-108, warpins: 2 ---
							local alert_dt = 10000
							--- END OF BLOCK #0 ---



						end

						--- END OF BLOCK #0 ---

						FLOW; TARGET BLOCK #1



						-- Decompilation error in this vicinity:
						--- BLOCK #1 109-111, warpins: 2 ---
						if not attention_data.dmg_t or not (data.t - attention_data.dmg_t) then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 117-117, warpins: 2 ---
							local dmg_dt = 10000
							--- END OF BLOCK #0 ---



						end

						--- END OF BLOCK #1 ---

						FLOW; TARGET BLOCK #2



						-- Decompilation error in this vicinity:
						--- BLOCK #2 118-120, warpins: 2 ---
						if not attention_data.mark_t or not (data.t - attention_data.mark_t) then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 126-126, warpins: 2 ---
							local mark_dt = 10000
							--- END OF BLOCK #0 ---



						end

						--- END OF BLOCK #2 ---

						FLOW; TARGET BLOCK #3



						-- Decompilation error in this vicinity:
						--- BLOCK #3 127-130, warpins: 2 ---
						local near_threshold = 800

						if data.attention_obj and data.attention_obj.u_key == u_key then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 135-138, warpins: 1 ---
							alert_dt = alert_dt * 0.8
							dmg_dt = dmg_dt * 0.8
							mark_dt = mark_dt * 0.8
							distance = distance * 0.8
							--- END OF BLOCK #0 ---



						end

						--- END OF BLOCK #3 ---

						FLOW; TARGET BLOCK #4



						-- Decompilation error in this vicinity:
						--- BLOCK #4 139-141, warpins: 3 ---
						local visible = attention_data.verified

						if distance >= near_threshold then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 142-143, warpins: 1 ---
							slot23 = false
							--- END OF BLOCK #0 ---



						else

							-- Decompilation error in this vicinity:
							--- BLOCK #0 144-144, warpins: 1 ---
							local near = true
							--- END OF BLOCK #0 ---



						end

						--- END OF BLOCK #4 ---

						FLOW; TARGET BLOCK #5



						-- Decompilation error in this vicinity:
						--- BLOCK #5 145-147, warpins: 2 ---
						if alert_dt >= 5 then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 148-149, warpins: 1 ---
							slot24 = false
							--- END OF BLOCK #0 ---



						else

							-- Decompilation error in this vicinity:
							--- BLOCK #0 150-150, warpins: 1 ---
							local has_alerted = true
							--- END OF BLOCK #0 ---



						end

						--- END OF BLOCK #5 ---

						FLOW; TARGET BLOCK #6



						-- Decompilation error in this vicinity:
						--- BLOCK #6 151-153, warpins: 2 ---
						if dmg_dt >= 2 then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 154-155, warpins: 1 ---
							slot25 = false
							--- END OF BLOCK #0 ---



						else

							-- Decompilation error in this vicinity:
							--- BLOCK #0 156-156, warpins: 1 ---
							local has_damaged = true
							--- END OF BLOCK #0 ---



						end

						--- END OF BLOCK #6 ---

						FLOW; TARGET BLOCK #7



						-- Decompilation error in this vicinity:
						--- BLOCK #7 157-159, warpins: 2 ---
						if mark_dt >= 8 then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 160-161, warpins: 1 ---
							slot26 = false
							--- END OF BLOCK #0 ---



						else

							-- Decompilation error in this vicinity:
							--- BLOCK #0 162-162, warpins: 1 ---
							local been_marked = true
							--- END OF BLOCK #0 ---



						end

						--- END OF BLOCK #7 ---

						FLOW; TARGET BLOCK #8



						-- Decompilation error in this vicinity:
						--- BLOCK #8 163-167, warpins: 2 ---
						local dangerous_special = attention_data.is_very_dangerous
						local target_priority = distance
						local target_priority_slot = 0

						if visible and (dangerous_special or been_marked) and distance < 1600 then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 175-176, warpins: 1 ---
							target_priority_slot = 1
							--- END OF BLOCK #0 ---



						else

							-- Decompilation error in this vicinity:
							--- BLOCK #0 177-178, warpins: 3 ---
							if visible and near and ((has_alerted and has_damaged) or been_marked) then

								-- Decompilation error in this vicinity:
								--- BLOCK #0 187-188, warpins: 2 ---
								target_priority_slot = 2
								--- END OF BLOCK #0 ---



							else

								-- Decompilation error in this vicinity:
								--- BLOCK #0 189-190, warpins: 3 ---
								if visible and near and has_alerted then

									-- Decompilation error in this vicinity:
									--- BLOCK #0 195-196, warpins: 1 ---
									target_priority_slot = 3
									--- END OF BLOCK #0 ---



								else

									-- Decompilation error in this vicinity:
									--- BLOCK #0 197-198, warpins: 3 ---
									if visible and has_alerted then

										-- Decompilation error in this vicinity:
										--- BLOCK #0 201-202, warpins: 1 ---
										target_priority_slot = 4
										--- END OF BLOCK #0 ---



									else

										-- Decompilation error in this vicinity:
										--- BLOCK #0 203-204, warpins: 2 ---
										if visible then

											-- Decompilation error in this vicinity:
											--- BLOCK #0 205-206, warpins: 1 ---
											target_priority_slot = 5
											--- END OF BLOCK #0 ---



										else

											-- Decompilation error in this vicinity:
											--- BLOCK #0 207-208, warpins: 1 ---
											if has_alerted then

												-- Decompilation error in this vicinity:
												--- BLOCK #0 209-210, warpins: 1 ---
												target_priority_slot = 6
												--- END OF BLOCK #0 ---



											else

												-- Decompilation error in this vicinity:
												--- BLOCK #0 211-211, warpins: 1 ---
												target_priority_slot = 7
												--- END OF BLOCK #0 ---



											end
											--- END OF BLOCK #0 ---



										end
										--- END OF BLOCK #0 ---



									end
									--- END OF BLOCK #0 ---



								end
								--- END OF BLOCK #0 ---



							end
							--- END OF BLOCK #0 ---



						end

						--- END OF BLOCK #8 ---

						FLOW; TARGET BLOCK #9



						-- Decompilation error in this vicinity:
						--- BLOCK #9 212-215, warpins: 7 ---
						if reaction < AIAttentionObject.REACT_COMBAT then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 216-224, warpins: 1 ---
							slot34 = AIAttentionObject.REACT_COMBAT - reaction
							target_priority_slot = 10 + target_priority_slot + math.max(slot32, 0)
							--- END OF BLOCK #0 ---



						end

						--- END OF BLOCK #9 ---

						FLOW; TARGET BLOCK #10



						-- Decompilation error in this vicinity:
						--- BLOCK #10 225-226, warpins: 2 ---
						if target_priority_slot ~= 0 then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 227-229, warpins: 1 ---
							local best = false

							if not best_target then

								-- Decompilation error in this vicinity:
								--- BLOCK #0 230-231, warpins: 1 ---
								best = true
								--- END OF BLOCK #0 ---



							else

								-- Decompilation error in this vicinity:
								--- BLOCK #0 232-233, warpins: 1 ---
								if target_priority_slot < best_target_priority_slot then

									-- Decompilation error in this vicinity:
									--- BLOCK #0 234-235, warpins: 1 ---
									best = true
									--- END OF BLOCK #0 ---



								else

									-- Decompilation error in this vicinity:
									--- BLOCK #0 236-237, warpins: 1 ---
									if target_priority_slot == best_target_priority_slot and target_priority < best_target_priority then

										-- Decompilation error in this vicinity:
										--- BLOCK #0 240-240, warpins: 1 ---
										best = true
										--- END OF BLOCK #0 ---



									end
									--- END OF BLOCK #0 ---



								end
								--- END OF BLOCK #0 ---



							end

							--- END OF BLOCK #0 ---

							FLOW; TARGET BLOCK #1



							-- Decompilation error in this vicinity:
							--- BLOCK #1 241-242, warpins: 5 ---
							if best then

								-- Decompilation error in this vicinity:
								--- BLOCK #0 243-246, warpins: 1 ---
								best_target = attention_data
								best_target_priority_slot = target_priority_slot
								best_target_priority = target_priority
								best_target_reaction = reaction
								--- END OF BLOCK #0 ---



							end
							--- END OF BLOCK #1 ---



						end
						--- END OF BLOCK #10 ---



					end
					--- END OF BLOCK #2 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 247-248, warpins: 10 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 249-252, warpins: 1 ---
	return best_target, best_target_priority_slot, best_target_reaction
	--- END OF BLOCK #3 ---



end
function TeamAILogicIdle._upd_sneak_spotting(data, my_data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	if false then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-12, warpins: 0 ---
		slot4 = managers.groupai
		slot4 = managers.groupai.state(slot3)

		if managers.groupai.state(slot3).whisper_mode(slot3) and (not TeamAILogicAssault._mark_special_chk_t or TeamAILogicAssault._mark_special_chk_t + 0.75 < data.t) and (not TeamAILogicAssault._mark_special_t or TeamAILogicAssault._mark_special_t + 6 < data.t) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 33-41, warpins: 2 ---
			slot4 = data.unit
			slot4 = data.unit.sound(slot3)

			if not data.unit.sound(slot3).speaking(slot3) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 42-50, warpins: 1 ---
				slot4 = data
				local nmy = TeamAILogicIdle.find_sneak_char_to_mark(slot3)
				TeamAILogicAssault._mark_special_chk_t = data.t

				if nmy then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 51-60, warpins: 1 ---
					TeamAILogicAssault._mark_special_t = data.t

					TeamAILogicIdle.mark_sneak_char(data.t, data, data.unit, nmy, nil)
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 61-61, warpins: 7 ---
	return 
	--- END OF BLOCK #1 ---



end
function TeamAILogicIdle.find_sneak_char_to_mark(data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	local best_nmy, best_nmy_wgt = nil
	slot5 = data.detected_attention_objects

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 6-42, warpins: 0 ---
	for key, attention_info in pairs(slot4) do

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-8, warpins: 1 ---
		if attention_info.identified and (attention_info.verified or attention_info.nearly_visible) and attention_info.is_person and attention_info.char_tweak and attention_info.char_tweak.silent_priority_shout and (not attention_info.char_tweak.priority_shout_max_dis or attention_info.dis < attention_info.char_tweak.priority_shout_max_dis) and (not best_nmy_wgt or attention_info.verified_dis < best_nmy_wgt) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 39-40, warpins: 2 ---
			best_nmy_wgt = attention_info.verified_dis
			best_nmy = attention_info.unit
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 41-42, warpins: 9 ---
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 43-43, warpins: 1 ---
	return best_nmy
	--- END OF BLOCK #2 ---



end
function TeamAILogicIdle.mark_sneak_char(data, criminal, to_mark, play_sound, play_action)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if play_sound then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-17, warpins: 1 ---
		slot7 = criminal
		slot10 = to_mark
		slot10 = to_mark.base(slot9)
		slot10 = true

		criminal.sound(slot6).say(slot6, criminal.sound(slot6), to_mark.base(slot9).char_tweak(slot9).silent_priority_shout, nil)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 18-19, warpins: 2 ---
	if play_action then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 20-28, warpins: 1 ---
		slot7 = criminal
		slot8 = "action"

		if not criminal.movement(slot6).chk_action_forbidden(slot6, criminal.movement(slot6)) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 29-38, warpins: 1 ---
			local new_action = {
				variant = "arrest",
				align_sync = true,
				body_part = 3,
				type = "act"
			}
			slot8 = criminal
			slot9 = new_action

			if criminal.brain(slot7).action_request(slot7, criminal.brain(slot7)) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 39-41, warpins: 1 ---
				data.internal_data.gesture_arrest = true
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 42-50, warpins: 4 ---
	slot7 = to_mark
	slot9 = true

	to_mark.contour(slot6).add(slot6, to_mark.contour(slot6), "mark_enemy")

	return 
	--- END OF BLOCK #2 ---



end

return 
