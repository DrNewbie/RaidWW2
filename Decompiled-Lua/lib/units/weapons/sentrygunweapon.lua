-- Decompilation Error: _run_step(_unwarp_expressions, node)

-- Decompilation Error: _glue_flows(node)

-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.
-- WARNING: Error occurred during decompilation.
--   Code may be incomplete or incorrect.

-- Decompilation error in this vicinity:
--- BLOCK #0 1-3, warpins: 1 ---
slot0 = SentryGunWeapon or class()
SentryGunWeapon = slot0
local tmp_rot1 = Rotation()
function SentryGunWeapon:init(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-44, warpins: 1 ---
	self._unit = unit
	slot4 = TimerManager
	self._timer = TimerManager.game(slot3)
	slot5 = "raycastable_characters"
	self._character_slotmask = managers.slot.get_mask(slot3, managers.slot)
	self._next_fire_allowed = -1000
	self._obj_fire = self._unit.get_object(slot3, Idstring(slot6))
	slot5 = self._unit
	slot8 = "fire"
	slot5 = self._unit
	slot8 = "fire"
	self._effect_align = {
		self._unit.get_object(self._unit, Idstring("a_detect")),
		self._unit.get_object(self._unit, Idstring("a_detect"))
	}

	if self._laser_align_name then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 45-52, warpins: 1 ---
		slot4 = self._unit
		slot7 = self._laser_align_name
		self._laser_align = self._unit.get_object(slot3, Idstring(slot6))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 53-73, warpins: 2 ---
	self._interleaving_fire = 1
	self._trail_effect_table = {
		effect = RaycastWeaponBase.TRAIL_EFFECT,
		position = Vector3(),
		normal = Vector3()
	}
	self._ammo_sync_resolution = 100
	slot4 = Network

	if Network.is_server(Vector3()) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 74-80, warpins: 1 ---
		self._ammo_total = 1
		self._ammo_max = self._ammo_total
		self._ammo_sync = 100
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 81-86, warpins: 1 ---
		self._ammo_total = 1
		self._ammo_max = self._ammo_total
		self._ammo_ratio = 1
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 87-89, warpins: 2 ---
	self._spread_mul = 1

	return 
	--- END OF BLOCK #2 ---



end
function SentryGunWeapon:_init()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-23, warpins: 1 ---
	slot3 = self._unit
	slot3 = self._unit.base(slot2)
	self._name_id = self._unit.base(slot2).get_name_id(slot2)
	self._tweak_data = tweak_data.weapon[self._name_id]
	slot3 = managers.slot
	slot1 = managers.slot.get_mask
	slot6 = Network

	if Network.is_server(slot5) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 24-25, warpins: 1 ---
		slot4 = "bullet_impact_targets"
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 26-26, warpins: 1 ---
		slot4 = "bullet_blank_impact_targets"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 27-40, warpins: 2 ---
	self._bullet_slotmask = slot1(slot2, slot3)
	slot4 = "raycastable_characters"
	self._character_slotmask = managers.slot.get_mask(slot2, managers.slot)
	slot1 = Idstring

	if not self._tweak_data.muzzleflash then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 41-41, warpins: 1 ---
		slot3 = "effects/vanilla/weapons/muzzleflash_maingun"
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 42-68, warpins: 2 ---
	self._muzzle_effect = slot1(slot2)
	self._muzzle_effect_table = {
		{
			force_synch = false,
			effect = self._muzzle_effect,
			parent = self._effect_align[1]
		},
		{
			force_synch = false,
			effect = self._muzzle_effect,
			parent = self._effect_align[2]
		}
	}
	slot4 = "WIN32"

	if SystemInfo.platform() ~= Idstring(SystemInfo) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 69-70, warpins: 1 ---
		slot1 = false
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 71-71, warpins: 1 ---
		slot1 = true
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 72-75, warpins: 2 ---
	self._use_shell_ejection_effect = slot1

	if self._use_shell_ejection_effect then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 76-91, warpins: 1 ---
		slot3 = self._unit
		slot6 = "shell"
		self._obj_shell_ejection = self._unit.get_object(slot2, Idstring(slot5))
		slot1 = Idstring

		if not tweak_data.weapon[self._name_id].shell_ejection then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 92-92, warpins: 1 ---
			slot3 = "effects/vanilla/weapons/shells/shell_556"
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 93-100, warpins: 2 ---
		self._shell_ejection_effect = slot1(slot2)
		self._shell_ejection_effect_table = {
			effect = self._shell_ejection_effect,
			parent = self._obj_shell_ejection
		}
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 101-114, warpins: 2 ---
	self._damage = self._tweak_data.DAMAGE
	self._alert_events = {}
	self._alert_size = self._tweak_data.alert_size
	self._alert_fires = {}
	self._suppression = self._tweak_data.SUPPRESSION

	return 
	--- END OF BLOCK #4 ---



end
function SentryGunWeapon:setup(setup_data, damage_multiplier)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-20, warpins: 1 ---
	slot5 = self

	self._init(slot4)

	self._setup = setup_data
	self._owner = setup_data.user_unit
	self._damage = tweak_data.weapon[self._name_id].DAMAGE * damage_multiplier
	self._spread_mul = setup_data.spread_mul
	self._auto_reload = setup_data.auto_reload

	if setup_data.alert_AI then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 21-31, warpins: 1 ---
		self._alert_events = {}
		self._alert_size = tweak_data.weapon[self._name_id].alert_size
		self._alert_fires = {}
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 32-37, warpins: 1 ---
		self._alert_events = nil
		self._alert_size = nil
		self._alert_fires = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 38-40, warpins: 2 ---
	if setup_data.bullet_slotmask then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 41-42, warpins: 1 ---
		self._bullet_slotmask = setup_data.bullet_slotmask
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 43-43, warpins: 2 ---
	return 
	--- END OF BLOCK #2 ---



end
function SentryGunWeapon:update(unit, t, dt)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._blink_start_t then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-11, warpins: 1 ---
		local period = 0.55
		local phase = (t - self._blink_start_t) % period / period

		if phase < 0.5 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 12-19, warpins: 1 ---
			slot8 = self._laser_unit
			slot8 = self._laser_unit.base(slot7)

			self._laser_unit.base(slot7).set_on(slot7)
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 20-26, warpins: 1 ---
			slot8 = self._laser_unit
			slot8 = self._laser_unit.base(slot7)

			self._laser_unit.base(slot7).set_off(slot7)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 27-27, warpins: 3 ---
	return 
	--- END OF BLOCK #1 ---



end
function SentryGunWeapon:set_ammo(amount)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	self._ammo_total = amount
	slot5 = amount
	self._ammo_max = math.max(slot3, self._ammo_max)

	return 
	--- END OF BLOCK #0 ---



end
function SentryGunWeapon:_setup_contour()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	slot3 = managers.groupai
	slot3 = managers.groupai.state(slot2)
	local turret_units = managers.groupai.state(slot2).turrets(slot2)

	if turret_units then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 11-17, warpins: 1 ---
		slot5 = self._unit

		if table.contains(slot3, turret_units) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 18-18, warpins: 1 ---
			return 
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 19-24, warpins: 3 ---
	slot4 = self._unit

	if self._unit.contour(slot3) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 25-29, warpins: 1 ---
		slot4 = self

		if self.out_of_ammo(slot3) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 30-46, warpins: 1 ---
			slot4 = self._unit
			slot5 = "deployable_active"

			self._unit.contour(slot3).remove(slot3, self._unit.contour(slot3))

			slot6 = "can_reload"

			if managers.player.has_category_upgrade(slot3, managers.player, "sentry_gun") then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 47-54, warpins: 1 ---
				slot4 = self._unit
				slot5 = "deployable_disabled"

				self._unit.contour(slot3).add(slot3, self._unit.contour(slot3))
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 55-55, warpins: 4 ---
	return 
	--- END OF BLOCK #2 ---



end
function SentryGunWeapon:change_ammo(amount)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-23, warpins: 1 ---
	slot6 = self._ammo_total + amount
	slot5 = self._ammo_max
	self._ammo_total = math.min(slot3, math.ceil(self._ammo_max))
	local ammo_percent = self._ammo_total / self._ammo_max
	local resolution_step = math.ceil(math.ceil(self._ammo_max))
	slot6 = self

	self._setup_contour(ammo_percent / self._ammo_sync_resolution)

	if ammo_percent == 0 or resolution_step ~= self._ammo_sync then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 27-42, warpins: 2 ---
		self._ammo_sync = resolution_step
		slot6 = self._unit
		slot8 = self._ammo_sync

		self._unit.network(slot5).send(slot5, self._unit.network(slot5), "sentrygun_ammo")

		slot6 = self._unit

		if self._unit.interaction(slot5) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 43-50, warpins: 1 ---
			slot6 = self._unit
			slot7 = true

			self._unit.interaction(slot5).set_dirty(slot5, self._unit.interaction(slot5))
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 51-51, warpins: 3 ---
	return 
	--- END OF BLOCK #1 ---



end
function SentryGunWeapon:sync_ammo(ammo_ratio)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-17, warpins: 1 ---
	self._ammo_ratio = ammo_ratio * self._ammo_sync_resolution
	slot4 = self._unit
	slot5 = false

	self._unit.base(slot3).set_waiting_for_refill(slot3, self._unit.base(slot3))

	slot4 = self._unit

	if self._unit.interaction(slot3) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 18-25, warpins: 1 ---
		slot4 = self._unit
		slot5 = true

		self._unit.interaction(slot3).set_dirty(slot3, self._unit.interaction(slot3))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 26-29, warpins: 2 ---
	slot4 = self

	self._setup_contour(slot3)

	return 
	--- END OF BLOCK #1 ---



end
function SentryGunWeapon:set_spread_mul(spread_mul)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	self._spread_mul = spread_mul

	return 
	--- END OF BLOCK #0 ---



end
function SentryGunWeapon:start_autofire()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._shooting then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-4, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-24, warpins: 2 ---
	slot3 = self

	self._sound_autofire_start(slot2)

	slot3 = self._next_fire_allowed
	slot6 = Application
	self._next_fire_allowed = math.max(slot2, Application.time(slot5))
	self._shooting = true
	slot3 = self._timer
	self._fire_start_t = self._timer.time(slot2)

	return 
	--- END OF BLOCK #1 ---



end
function SentryGunWeapon:stop_autofire()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if not self._shooting then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-4, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 5-9, warpins: 2 ---
	slot3 = self

	if self.out_of_ammo(slot2) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 10-13, warpins: 1 ---
		slot3 = self

		self._sound_autofire_end_empty(slot2)
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 14-22, warpins: 1 ---
		slot3 = self._timer

		if 3 < self._timer.time(slot2) - self._fire_start_t then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 23-26, warpins: 1 ---
			slot3 = self

			self._sound_autofire_end_cooldown(slot2)
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 27-29, warpins: 1 ---
			slot3 = self

			self._sound_autofire_end(slot2)
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 30-32, warpins: 3 ---
	self._shooting = nil

	return 
	--- END OF BLOCK #2 ---



end
function SentryGunWeapon:trigger_held(blanks, expend_ammo, shoot_player, target_unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	local fired = nil
	slot9 = self._timer

	if self._next_fire_allowed <= self._timer.time(slot8) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-18, warpins: 1 ---
		slot12 = target_unit
		fired = self.fire(slot7, self, blanks, expend_ammo, shoot_player)

		if fired then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 19-30, warpins: 1 ---
			self._next_fire_allowed = self._next_fire_allowed + tweak_data.weapon[self._name_id].auto.fire_rate

			if self._interleaving_fire == 1 then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 31-32, warpins: 1 ---
				slot6 = 2
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 33-33, warpins: 1 ---
				slot6 = 1
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 34-34, warpins: 2 ---
			self._interleaving_fire = slot6
			--- END OF BLOCK #1 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 35-35, warpins: 3 ---
	return fired
	--- END OF BLOCK #1 ---



end
function SentryGunWeapon:fire(blanks, expend_ammo, shoot_player, target_unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if expend_ammo then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-6, warpins: 1 ---
		if self._ammo_total <= 0 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 7-7, warpins: 1 ---
			return 
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 8-11, warpins: 2 ---
		slot8 = -1

		self.change_ammo(slot6, self)
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 12-47, warpins: 2 ---
	local fire_obj = self._effect_align[self._interleaving_fire]
	local from_pos = fire_obj.position(slot7)
	slot9 = fire_obj
	local direction = fire_obj.rotation(fire_obj).y(fire_obj)
	slot11 = tweak_data.weapon[self._name_id].SPREAD * self._spread_mul

	mvector3.spread(fire_obj.rotation(fire_obj), direction)

	slot10 = World
	slot11 = self._muzzle_effect_table[self._interleaving_fire]

	World.effect_manager(fire_obj.rotation(fire_obj)).spawn(fire_obj.rotation(fire_obj), World.effect_manager(fire_obj.rotation(fire_obj)))

	if self._use_shell_ejection_effect then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 48-55, warpins: 1 ---
		slot10 = World
		slot11 = self._shell_ejection_effect_table

		World.effect_manager(slot9).spawn(slot9, World.effect_manager(slot9))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 56-65, warpins: 2 ---
	slot14 = target_unit
	local ray_res = self._fire_raycast(slot9, self, from_pos, direction, shoot_player)

	if self._alert_events and ray_res.rays then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 69-76, warpins: 1 ---
		slot15 = self._unit

		RaycastWeaponBase._check_alert(slot10, self, ray_res.rays, from_pos, direction)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 77-84, warpins: 3 ---
	slot11 = self._unit
	slot11 = self._unit.movement(slot10)

	self._unit.movement(slot10).give_recoil(slot10)

	return ray_res
	--- END OF BLOCK #3 ---



end
local mvec_to = Vector3()
function SentryGunWeapon:_fire_raycast(from_pos, direction, shoot_player, target_unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-36, warpins: 1 ---
	local result = {}
	local hit_unit = nil
	slot10 = direction

	mvector3.set(slot8, mvec_to)

	slot10 = tweak_data.weapon[self._name_id].FIRE_RANGE

	mvector3.multiply(slot8, mvec_to)

	slot10 = from_pos

	mvector3.add(slot8, mvec_to)

	slot16 = self._setup.ignore_units
	local col_ray = World.raycast(slot8, World, "ray", from_pos, mvec_to, "slot_mask", self._bullet_slotmask, "ignore_unit")
	local player_hit, player_ray_data = nil

	if shoot_player then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 37-47, warpins: 1 ---
		slot15 = direction
		player_hit, player_ray_data = RaycastWeaponBase.damage_player(slot11, self, col_ray, from_pos)

		if player_hit then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 48-52, warpins: 1 ---
			slot12 = self
			slot10 = self._apply_dmg_mul
			slot13 = self._damage

			if not col_ray then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 53-53, warpins: 1 ---
				slot14 = player_ray_data
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 54-60, warpins: 2 ---
			slot15 = from_pos
			local damage = slot10(slot11, slot12, slot13, slot14)
			slot13 = InstantBulletBase
			slot11 = InstantBulletBase.on_hit_player

			if not col_ray then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 61-61, warpins: 1 ---
				slot14 = player_ray_data
				--- END OF BLOCK #0 ---



			end

			--- END OF BLOCK #1 ---

			FLOW; TARGET BLOCK #2



			-- Decompilation error in this vicinity:
			--- BLOCK #2 62-65, warpins: 2 ---
			slot17 = damage

			slot11(slot12, slot13, slot14, self._unit, self._unit)
			--- END OF BLOCK #2 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 66-68, warpins: 3 ---
	local char_hit = nil

	if not player_hit and col_ray then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 71-85, warpins: 1 ---
		slot16 = from_pos
		local damage = self._apply_dmg_mul(slot12, self, self._damage, col_ray)
		slot18 = damage
		char_hit = InstantBulletBase.on_collision(self, InstantBulletBase, col_ray, self._unit, self._unit)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 86-87, warpins: 3 ---
	if (not col_ray or col_ray.unit ~= target_unit) and target_unit then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 93-97, warpins: 1 ---
		slot13 = target_unit

		if target_unit.character_damage(slot12) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 98-103, warpins: 1 ---
			slot13 = target_unit

			if target_unit.character_damage(slot12).build_suppression then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 104-110, warpins: 1 ---
				slot13 = target_unit
				slot14 = self._suppression

				target_unit.character_damage(slot12).build_suppression(slot12, target_unit.character_damage(slot12))
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 111-112, warpins: 5 ---
	if not col_ray or 600 < col_ray.distance then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 117-121, warpins: 2 ---
		slot15 = col_ray

		self._spawn_trail_effect(slot12, self, direction)
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #3 ---

	FLOW; TARGET BLOCK #4



	-- Decompilation error in this vicinity:
	--- BLOCK #4 122-125, warpins: 2 ---
	result.hit_enemy = hit_unit

	if self._alert_events then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 126-128, warpins: 1 ---
		result.rays = {
			col_ray
		}
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #4 ---

	FLOW; TARGET BLOCK #5



	-- Decompilation error in this vicinity:
	--- BLOCK #5 129-129, warpins: 2 ---
	return result
	--- END OF BLOCK #5 ---



end
function SentryGunWeapon:_apply_dmg_mul(damage, col_ray, from_pos)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-8, warpins: 1 ---
	local damage_out = damage

	if tweak_data.weapon[self._name_id].DAMAGE_MUL_RANGE then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-11, warpins: 1 ---
		if not col_ray.distance then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 12-16, warpins: 1 ---
			slot8 = col_ray.position
			local ray_dis = mvector3.distance(slot6, from_pos)
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 17-26, warpins: 2 ---
		local ranges = tweak_data.weapon[self._name_id].DAMAGE_MUL_RANGE
		local i_range = nil
		slot10 = ranges

		--- END OF BLOCK #1 ---

		FLOW; TARGET BLOCK #2



		-- Decompilation error in this vicinity:
		--- BLOCK #2 27-36, warpins: 0 ---
		for test_i_range, range_data in ipairs(slot9) do

			-- Decompilation error in this vicinity:
			--- BLOCK #0 27-29, warpins: 1 ---
			if ray_dis < range_data[1] or test_i_range == #ranges then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 33-34, warpins: 2 ---
				i_range = test_i_range

				--- END OF BLOCK #0 ---

				FLOW; TARGET BLOCK #1



				-- Decompilation error in this vicinity:
				--- BLOCK #1 35-35, warpins: 2 ---
				break
				--- END OF BLOCK #1 ---



			end
			--- END OF BLOCK #0 ---

			FLOW; TARGET BLOCK #1



			-- Decompilation error in this vicinity:
			--- BLOCK #1 35-36, warpins: 2 ---
			--- END OF BLOCK #1 ---



		end

		--- END OF BLOCK #2 ---

		FLOW; TARGET BLOCK #3



		-- Decompilation error in this vicinity:
		--- BLOCK #3 37-38, warpins: 2 ---
		if i_range == 1 or ranges[i_range][1] < ray_dis then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 43-46, warpins: 2 ---
			damage_out = damage_out * ranges[i_range][2]
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 47-67, warpins: 1 ---
			local dis_lerp = (ray_dis - ranges[i_range - 1][1]) / (ranges[i_range][1] - ranges[i_range - 1][1])
			slot13 = dis_lerp
			damage_out = damage_out * math.lerp(ranges[i_range - 1][1], ranges[i_range - 1][2], ranges[i_range][2])
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #3 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 68-68, warpins: 3 ---
	return damage_out
	--- END OF BLOCK #1 ---



end
function SentryGunWeapon:_sound_autofire_start()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-10, warpins: 1 ---
	slot3 = self._unit
	slot4 = self._fire_start_snd_event
	self._autofire_sound_event = self._unit.sound_source(slot2).post_event(slot2, self._unit.sound_source(slot2))

	return 
	--- END OF BLOCK #0 ---



end
function SentryGunWeapon:_sound_autofire_end()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._autofire_sound_event then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-9, warpins: 1 ---
		slot3 = self._autofire_sound_event

		self._autofire_sound_event.stop(slot2)

		self._autofire_sound_event = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 10-18, warpins: 2 ---
	slot3 = self._unit
	slot4 = self._fire_stop_snd_event

	self._unit.sound_source(slot2).post_event(slot2, self._unit.sound_source(slot2))

	return 
	--- END OF BLOCK #1 ---



end
function SentryGunWeapon:_sound_autofire_end_empty()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._autofire_sound_event then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-9, warpins: 1 ---
		slot3 = self._autofire_sound_event

		self._autofire_sound_event.stop(slot2)

		self._autofire_sound_event = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 10-12, warpins: 2 ---
	if self._depleted_snd_event then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 13-20, warpins: 1 ---
		slot3 = self._unit
		slot4 = self._depleted_snd_event

		self._unit.sound_source(slot2).post_event(slot2, self._unit.sound_source(slot2))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 21-21, warpins: 2 ---
	return 
	--- END OF BLOCK #2 ---



end
function SentryGunWeapon:_sound_autofire_end_cooldown()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._autofire_sound_event then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-9, warpins: 1 ---
		slot3 = self._autofire_sound_event

		self._autofire_sound_event.stop(slot2)

		self._autofire_sound_event = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 10-26, warpins: 2 ---
	slot3 = self._unit
	slot4 = self._fire_stop_snd_event

	self._unit.sound_source(slot2).post_event(slot2, self._unit.sound_source(slot2))

	slot3 = self._unit
	slot4 = self._fire_cooldown_snd_event

	self._unit.sound_source(slot2).post_event(slot2, self._unit.sound_source(slot2))

	return 
	--- END OF BLOCK #1 ---



end
function SentryGunWeapon:_spawn_trail_effect(direction, col_ray)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-24, warpins: 1 ---
	slot6 = self._trail_effect_table.position

	self._effect_align[self._interleaving_fire].m_position(self._interleaving_fire, self._effect_align[self._interleaving_fire])

	slot6 = direction

	mvector3.set(self._interleaving_fire, self._trail_effect_table.normal)

	slot5 = World
	slot6 = self._trail_effect_table
	local trail = World.effect_manager(self._interleaving_fire).spawn(self._interleaving_fire, World.effect_manager(self._interleaving_fire))

	if col_ray then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 25-40, warpins: 1 ---
		slot6 = World
		slot7 = trail
		slot12 = col_ray.distance

		World.effect_manager(slot5).set_remaining_lifetime(slot5, World.effect_manager(slot5), math.clamp(slot9, (col_ray.distance - 600) / 10000, 0))
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 41-41, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function SentryGunWeapon:out_of_ammo()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._ammo_total then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-6, warpins: 1 ---
		if self._ammo_total ~= 0 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 7-8, warpins: 1 ---
			slot1 = false
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 9-9, warpins: 1 ---
			slot1 = true
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 10-11, warpins: 2 ---
		return slot1
		--- END OF BLOCK #1 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 12-14, warpins: 1 ---
		if self._ammo_ratio ~= 0 then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 15-16, warpins: 1 ---
			slot1 = false
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 17-17, warpins: 1 ---
			slot1 = true
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 18-18, warpins: 2 ---
		return slot1
		--- END OF BLOCK #1 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 19-19, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function SentryGunWeapon:ammo_ratio()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	if self._ammo_total then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 4-8, warpins: 1 ---
		return self._ammo_total / self._ammo_max
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 9-10, warpins: 1 ---
		return self._ammo_ratio
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 11-11, warpins: 2 ---
	return 
	--- END OF BLOCK #1 ---



end
function SentryGunWeapon:ammo_total()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._ammo_total
	--- END OF BLOCK #0 ---



end
function SentryGunWeapon:ammo_max()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._ammo_max
	--- END OF BLOCK #0 ---



end
function SentryGunWeapon:can_auto_reload()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return self._auto_reload
	--- END OF BLOCK #0 ---



end
function SentryGunWeapon:on_team_set(team_data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-3, warpins: 1 ---
	self._foe_teams = team_data.foes

	return 
	--- END OF BLOCK #0 ---



end
function SentryGunWeapon:set_laser_enabled(mode, blink)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	if mode then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 3-15, warpins: 1 ---
		slot6 = true

		self._set_laser_state(slot4, self)

		slot5 = self._laser_unit
		slot5 = self._laser_unit.base(slot4)

		if mode ~= self._laser_unit.base(slot4).theme_type(slot4) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 16-23, warpins: 1 ---
			slot5 = self._laser_unit
			slot6 = mode

			self._laser_unit.base(slot4).set_color_by_theme(slot4, self._laser_unit.base(slot4))
			--- END OF BLOCK #0 ---



		end

		--- END OF BLOCK #0 ---

		FLOW; TARGET BLOCK #1



		-- Decompilation error in this vicinity:
		--- BLOCK #1 24-25, warpins: 2 ---
		if blink then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 26-28, warpins: 1 ---
			if not self._blink_start_t then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 29-45, warpins: 1 ---
				slot5 = TimerManager
				slot5 = TimerManager.game(slot4)
				self._blink_start_t = TimerManager.game(slot4).time(slot4)
				slot8 = "weapon"
				slot7 = true

				self._unit.set_extension_update_enabled(slot4, self._unit, Idstring(slot7))
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 46-63, warpins: 1 ---
			slot5 = self._laser_unit
			slot5 = self._laser_unit.base(slot4)

			self._laser_unit.base(slot4).set_on(slot4)

			self._blink_start_t = nil
			slot8 = "weapon"
			slot7 = false

			self._unit.set_extension_update_enabled(slot4, self._unit, Idstring(slot7))
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #1 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 64-68, warpins: 1 ---
		slot5 = self._laser_unit

		if alive(slot4) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 69-75, warpins: 1 ---
			slot6 = false

			self._set_laser_state(slot4, self)

			if self._blink_start_t then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 76-85, warpins: 1 ---
				self._blink_start_t = nil
				slot8 = "weapon"
				slot7 = false

				self._unit.set_extension_update_enabled(slot4, self._unit, Idstring(slot7))
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 86-86, warpins: 6 ---
	return 
	--- END OF BLOCK #1 ---



end
function SentryGunWeapon:_set_laser_state(state)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return 
	--- END OF BLOCK #0 ---



end
function SentryGunWeapon:has_laser()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-2, warpins: 1 ---
	return false
	--- END OF BLOCK #0 ---



end
function SentryGunWeapon:update_laser()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot3 = self

	if not self.has_laser(slot2) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-6, warpins: 1 ---
		return 
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 7-16, warpins: 2 ---
	local laser_mode, blink = nil
	slot5 = self._unit
	slot5 = self._unit.character_damage(slot4)

	if self._unit.character_damage(slot4).dead(slot4) then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 17-17, warpins: 1 ---
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 18-26, warpins: 1 ---
		slot5 = self._unit
		slot5 = self._unit.movement(slot4)

		if self._unit.movement(slot4).is_activating(slot4) then

			-- Decompilation error in this vicinity:
			--- BLOCK #0 27-28, warpins: 1 ---
			laser_mode = "turret_module_active"
			--- END OF BLOCK #0 ---



		else

			-- Decompilation error in this vicinity:
			--- BLOCK #0 29-37, warpins: 1 ---
			slot5 = self._unit
			slot5 = self._unit.movement(slot4)

			if self._unit.movement(slot4).is_inactivating(slot4) then

				-- Decompilation error in this vicinity:
				--- BLOCK #0 38-40, warpins: 1 ---
				laser_mode = "turret_module_active"
				blink = true
				--- END OF BLOCK #0 ---



			else

				-- Decompilation error in this vicinity:
				--- BLOCK #0 41-49, warpins: 1 ---
				slot5 = self._unit
				slot5 = self._unit.movement(slot4)

				if self._unit.movement(slot4).is_inactivated(slot4) then

					-- Decompilation error in this vicinity:
					--- BLOCK #0 50-51, warpins: 1 ---
					laser_mode = nil
					--- END OF BLOCK #0 ---



				else

					-- Decompilation error in this vicinity:
					--- BLOCK #0 52-60, warpins: 1 ---
					slot5 = self._unit
					slot5 = self._unit.movement(slot4)

					if self._unit.movement(slot4).rearming(slot4) then

						-- Decompilation error in this vicinity:
						--- BLOCK #0 61-63, warpins: 1 ---
						laser_mode = "turret_module_rearming"
						blink = true
						--- END OF BLOCK #0 ---



					else

						-- Decompilation error in this vicinity:
						--- BLOCK #0 64-80, warpins: 1 ---
						slot5 = self._unit
						slot7 = "player"

						if self._unit.movement(slot4).team(slot4).foes[tweak_data.levels.get_default_team_ID(self._unit.movement(slot4), tweak_data.levels)] then

							-- Decompilation error in this vicinity:
							--- BLOCK #0 81-82, warpins: 1 ---
							laser_mode = "turret_module_active"
							--- END OF BLOCK #0 ---



						else

							-- Decompilation error in this vicinity:
							--- BLOCK #0 83-83, warpins: 1 ---
							laser_mode = "turret_module_mad"
							--- END OF BLOCK #0 ---



						end
						--- END OF BLOCK #0 ---



					end
					--- END OF BLOCK #0 ---



				end
				--- END OF BLOCK #0 ---



			end
			--- END OF BLOCK #0 ---



		end
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 84-89, warpins: 7 ---
	slot7 = blink

	self.set_laser_enabled(slot4, self, laser_mode)

	return 
	--- END OF BLOCK #2 ---



end
function SentryGunWeapon:save(save_data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	local my_save_data = {}
	save_data.weapon = my_save_data

	if self._spread_mul ~= 1 then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 6-7, warpins: 1 ---
		my_save_data.spread_mul = self._spread_mul
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 8-18, warpins: 2 ---
	slot5 = self
	my_save_data.ammo_ratio = self.ammo_ratio(slot4)
	my_save_data.foe_teams = self._foe_teams
	my_save_data.auto_reload = self._auto_reload

	if self._alert_events then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 19-20, warpins: 1 ---
		slot3 = true
		--- END OF BLOCK #0 ---



	else

		-- Decompilation error in this vicinity:
		--- BLOCK #0 21-21, warpins: 1 ---
		slot3 = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 22-23, warpins: 2 ---
	my_save_data.alert = slot3

	return 
	--- END OF BLOCK #2 ---



end
function SentryGunWeapon:load(save_data)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-15, warpins: 1 ---
	slot4 = self._unit
	slot4 = self._unit.base(slot3)
	self._name_id = self._unit.base(slot3).get_name_id(slot3)
	slot4 = self

	self._init(slot3)

	local my_save_data = save_data.weapon

	if not my_save_data.ammo_ratio then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 16-16, warpins: 1 ---
		slot3 = self._ammo_ratio
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #0 ---

	FLOW; TARGET BLOCK #1



	-- Decompilation error in this vicinity:
	--- BLOCK #1 17-20, warpins: 2 ---
	self._ammo_ratio = slot3

	if not my_save_data.spread_mul then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 21-21, warpins: 1 ---
		slot3 = 1
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #1 ---

	FLOW; TARGET BLOCK #2



	-- Decompilation error in this vicinity:
	--- BLOCK #2 22-35, warpins: 2 ---
	self._spread_mul = slot3
	self._foe_teams = my_save_data.foe_teams
	self._auto_reload = my_save_data.auto_reload
	self._setup = {
		ignore_units = {
			self._unit
		}
	}

	if not my_save_data.alert then

		-- Decompilation error in this vicinity:
		--- BLOCK #0 36-37, warpins: 1 ---
		self._alert_events = nil
		--- END OF BLOCK #0 ---



	end

	--- END OF BLOCK #2 ---

	FLOW; TARGET BLOCK #3



	-- Decompilation error in this vicinity:
	--- BLOCK #3 38-38, warpins: 2 ---
	return 
	--- END OF BLOCK #3 ---



end
function SentryGunWeapon:destroy(unit)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	slot5 = nil

	self._set_laser_state(slot3, self)

	return 
	--- END OF BLOCK #0 ---



end
function SentryGunWeapon:weapon_tweak_data()

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-5, warpins: 1 ---
	return tweak_data.weapon[self._name_id]
	--- END OF BLOCK #0 ---



end
function SentryGunWeapon:adjust_target_pos(target_pos)

	-- Decompilation error in this vicinity:
	--- BLOCK #0 1-1, warpins: 1 ---
	return target_pos
	--- END OF BLOCK #0 ---



end

return 

--- END OF BLOCK #0 ---

FLOW; TARGET BLOCK #2



-- Decompilation error in this vicinity:
--- BLOCK #1 4-5, warpins: 1 ---
slot0 = class()
--- END OF BLOCK #1 ---

FLOW; TARGET BLOCK #2



-- Decompilation error in this vicinity:
--- BLOCK #2 6-117, warpins: 2 ---
--- END OF BLOCK #2 ---



